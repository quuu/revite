{"version":3,"file":"main.10b8a2b2.js","sources":["../../src/lib/eventEmitter.ts","../../src/redux/State.tsx","../../src/assets/sounds/Audio.ts","../../src/assets/sounds/message.mp3","../../src/assets/sounds/outbound.mp3","../../src/assets/sounds/call_join.mp3","../../src/assets/sounds/call_leave.mp3","../../src/context/Settings.tsx","../../src/lib/links.ts","../../src/components/ui/Modal.tsx","../../src/context/intermediate/modals/Clipboard.tsx","../../src/context/intermediate/modals/Error.tsx","../../src/components/ui/Preloader.tsx","../../src/context/revoltjs/events.ts","../../src/context/revoltjs/util.tsx","../../src/context/revoltjs/RevoltClient.tsx","../../src/context/intermediate/modals/Input.tsx","../../src/assets/wide.svg","../../src/pages/login/FormField.tsx","../../src/context/intermediate/modals/Onboarding.tsx","../../src/lib/i18n.tsx","../../src/components/markdown/Markdown.tsx","../../src/components/common/IconBase.tsx","../../src/components/common/user/UserIcon.tsx","../../src/components/common/assets/user.png","../../src/components/common/user/UserShort.tsx","../../src/lib/isTouchscreenDevice.ts","../../src/components/common/Tooltip.tsx","../../src/components/common/messaging/MessageBase.tsx","../../node_modules/classnames/index.js","../../src/lib/fileSize.ts","../../src/components/ui/IconButton.tsx","../../src/components/common/messaging/attachments/AttachmentActions.tsx","../../src/components/common/messaging/attachments/Grid.tsx","../../src/components/common/messaging/attachments/Spoiler.tsx","../../src/context/revoltjs/RequiresOnline.tsx","../../src/components/common/messaging/attachments/TextFile.tsx","../../src/components/common/messaging/attachments/ImageFile.tsx","../../src/components/common/messaging/attachments/Attachment.tsx","../../src/lib/renderer/simple/SimpleRenderer.ts","../../src/lib/renderer/Singleton.ts","../../src/components/common/messaging/SystemMessage.tsx","../../src/components/common/messaging/attachments/MessageReply.tsx","../../node_modules/lodash.throttle/index.js","../../node_modules/react-scroll/modules/mixins/scroll-spy.js","../../node_modules/react-scroll/modules/mixins/passive-event-listeners.js","../../node_modules/react-scroll/modules/mixins/utils.js","../../node_modules/react-scroll/modules/mixins/smooth.js","../../node_modules/react-scroll/modules/mixins/cancel-events.js","../../node_modules/react-scroll/modules/mixins/scroll-events.js","../../node_modules/react-scroll/modules/mixins/animate-scroll.js","../../node_modules/react-scroll/modules/mixins/scroller.js","../../node_modules/react-scroll/modules/mixins/scroll-hash.js","../../node_modules/react-scroll/modules/mixins/scroll-link.js","../../node_modules/react-scroll/modules/components/Link.js","../../node_modules/react-scroll/modules/components/Button.js","../../node_modules/react-scroll/modules/mixins/scroll-element.js","../../node_modules/react-scroll/modules/components/Element.js","../../node_modules/react-scroll/modules/mixins/Helpers.js","../../node_modules/react-scroll/modules/index.js","../../node_modules/use-resize-observer/dist/bundle.esm.js","../../src/lib/defer.ts","../../src/pages/channels/messaging/ConversationStart.tsx","../../src/components/ui/DateDivider.tsx","../../src/components/ui/TextArea.tsx","../../src/lib/TextAreaAutoSize.tsx","../../src/assets/emojis.ts","../../src/components/common/assets/group.png","../../src/components/common/ChannelIcon.tsx","../../src/components/common/AutoComplete.tsx","../../src/pages/channels/messaging/MessageEditor.tsx","../../src/pages/channels/messaging/MessageRenderer.tsx","../../src/pages/channels/messaging/MessageArea.tsx","../../src/components/common/messaging/embed/EmbedMedia.tsx","../../src/components/common/messaging/embed/Embed.tsx","../../src/components/common/ServerIcon.tsx","../../src/components/common/messaging/embed/EmbedInvite.tsx","../../src/components/common/messaging/Message.tsx","../../src/context/intermediate/modals/Prompt.tsx","../../src/context/intermediate/modals/SignedOut.tsx","../../src/context/intermediate/modals/ExternalLinkPrompt.tsx","../../src/context/intermediate/modals/TokenReveal.tsx","../../src/context/intermediate/Modals.tsx","../../src/context/intermediate/Intermediate.tsx","../../src/context/index.tsx","../../src/context/revoltjs/CheckAuth.tsx","../../src/components/ui/Masks.tsx","../../src/pages/invite/Invite.tsx","../../src/pages/app.tsx","../../src/main.tsx","../../../../../../../../@vite-plugin-pwa/virtual:pwa-register"],"sourcesContent":["import EventEmitter from \"eventemitter3\";\n\nexport const InternalEvent = new EventEmitter();\n\nexport function internalSubscribe(\n    ns: string,\n    event: string,\n    fn: (...args: unknown[]) => void,\n) {\n    InternalEvent.addListener(`${ns}/${event}`, fn);\n    return () => InternalEvent.removeListener(`${ns}/${event}`, fn);\n}\n\nexport function internalEmit(ns: string, event: string, ...args: unknown[]) {\n    InternalEvent.emit(`${ns}/${event}`, ...args);\n}\n\n// Event structure: namespace/event\n\n/// Event List\n// - RightSidebar/open\n// - MessageArea/jump_to_bottom\n// - MessageRenderer/edit_last\n// - MessageRenderer/edit_message\n// - Intermediate/open_profile\n// - Intermediate/navigate\n// - MessageBox/append\n// - TextArea/focus\n// - ReplyBar/add\n// - Modal/close\n// - PWA/update\n","import localForage from \"localforage\";\nimport { Provider } from \"react-redux\";\n\nimport { useEffect, useState } from \"preact/hooks\";\n\nimport { dispatch, State, store } from \".\";\nimport { Children } from \"../types/Preact\";\n\ninterface Props {\n    children: Children;\n}\n\nexport default function StateLoader(props: Props) {\n    const [loaded, setLoaded] = useState(false);\n\n    useEffect(() => {\n        localForage.getItem(\"state\").then((state) => {\n            if (state !== null) {\n                dispatch({ type: \"__INIT\", state: state as State });\n            }\n\n            setLoaded(true);\n        });\n    }, []);\n\n    if (!loaded) return null;\n    return <Provider store={store}>{props.children}</Provider>;\n}\n","import call_join from \"./call_join.mp3\";\nimport call_leave from \"./call_leave.mp3\";\nimport message from \"./message.mp3\";\nimport outbound from \"./outbound.mp3\";\n\nconst SoundMap: { [key in Sounds]: string } = {\n    message,\n    outbound,\n    call_join,\n    call_leave,\n};\n\nexport type Sounds = \"message\" | \"outbound\" | \"call_join\" | \"call_leave\";\nexport const SOUNDS_ARRAY: Sounds[] = [\n    \"message\",\n    \"outbound\",\n    \"call_join\",\n    \"call_leave\",\n];\n\nexport function playSound(sound: Sounds) {\n    const file = SoundMap[sound];\n    const el = new Audio(file);\n    try {\n        el.play();\n    } catch (err) {\n        console.error(\"Failed to play audio file\", file, err);\n    }\n}\n","export default \"__VITE_ASSET__1da7350f__\"","export default \"data:audio/mpeg;base64,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oblgAAA/wAAABKlR////jQFFfoJP//VVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7MGT3j/P5WUx7CS1YAAAP8AAAAQAAAf4AAAAgAAA/wAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EETdj/AAAH+AAAAIAAAP8AAAAQAAAf4AAAAgAAA/wAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\"","export default \"__VITE_ASSET__584596d3__\"","export default \"__VITE_ASSET__73de5878__\"","// This code is more or less redundant, but settings has so little state\n// updates that I can't be asked to pass everything through props each\n// time when I can just use the Context API.\n//\n// Replace references to SettingsContext with connectState in the future\n// if it does cause problems though.\n//\n// This now also supports Audio stuff.\nimport defaultsDeep from \"lodash.defaultsdeep\";\n\nimport { createContext } from \"preact\";\nimport { useMemo } from \"preact/hooks\";\n\nimport { connectState } from \"../redux/connector\";\nimport {\n    DEFAULT_SOUNDS,\n    Settings,\n    SoundOptions,\n} from \"../redux/reducers/settings\";\n\nimport { playSound, Sounds } from \"../assets/sounds/Audio\";\nimport { Children } from \"../types/Preact\";\n\nexport const SettingsContext = createContext<Settings>({});\nexport const SoundContext = createContext<(sound: Sounds) => void>(null!);\n\ninterface Props {\n    children?: Children;\n    settings: Settings;\n}\n\nfunction SettingsProvider({ settings, children }: Props) {\n    const play = useMemo(() => {\n        const enabled: SoundOptions = defaultsDeep(\n            settings.notification?.sounds ?? {},\n            DEFAULT_SOUNDS,\n        );\n        return (sound: Sounds) => {\n            if (enabled[sound]) {\n                playSound(sound);\n            }\n        };\n    }, [settings.notification]);\n\n    return (\n        <SettingsContext.Provider value={settings}>\n            <SoundContext.Provider value={play}>\n                {children}\n            </SoundContext.Provider>\n        </SettingsContext.Provider>\n    );\n}\n\nexport default connectState<Omit<Props, \"settings\">>(\n    SettingsProvider,\n    (state) => {\n        return {\n            settings: state.settings,\n        };\n    },\n);\n","type LinkType =\n    | { type: \"profile\"; id: string }\n    | { type: \"navigate\"; path: string; navigation_type?: null }\n    | {\n          type: \"navigate\";\n          path: string;\n          navigation_type: \"channel\";\n          channel_id: string;\n      }\n    | { type: \"external\"; href: string; url: URL }\n    | { type: \"none\" };\n\nconst ALLOWED_ORIGINS = [\n    location.hostname,\n    \"app.revolt.chat\",\n    \"nightly.revolt.chat\",\n    \"local.revolt.chat\",\n];\n\nconst CHANNEL_PATH_RE =\n    /^\\/server\\/[0123456789ABCDEFGHJKMNPQRSTVWXYZ]{26}\\/channel\\/[0123456789ABCDEFGHJKMNPQRSTVWXYZ]{26}$/;\n\nexport function determineLink(href?: string): LinkType {\n    let internal,\n        url: URL | null = null;\n\n    if (href) {\n        try {\n            url = new URL(href, location.href);\n\n            if (ALLOWED_ORIGINS.includes(url.hostname)) {\n                const path = url.pathname;\n                if (path.startsWith(\"/@\")) {\n                    const id = path.substr(2);\n                    if (/[0123456789ABCDEFGHJKMNPQRSTVWXYZ]{26}/.test(id)) {\n                        return { type: \"profile\", id };\n                    }\n                } else {\n                    if (CHANNEL_PATH_RE.test(path)) {\n                        return {\n                            type: \"navigate\",\n                            path,\n                            navigation_type: \"channel\",\n                            channel_id: path.slice(43),\n                        };\n                    }\n                    return { type: \"navigate\", path };\n                }\n\n                internal = true;\n            }\n        } catch (err) {}\n\n        if (!internal && url) {\n            return { type: \"external\", href, url };\n        }\n    }\n\n    return { type: \"none\" };\n}\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport styled, { css, keyframes } from \"styled-components\";\n\nimport { createPortal, useCallback, useEffect, useState } from \"preact/compat\";\n\nimport { internalSubscribe } from \"../../lib/eventEmitter\";\n\nimport { Children } from \"../../types/Preact\";\nimport Button, { ButtonProps } from \"./Button\";\n\nconst open = keyframes`\n    0% {opacity: 0;}\n    70% {opacity: 0;}\n    100% {opacity: 1;}\n`;\n\nconst close = keyframes`\n    0% {opacity: 1;}\n    70% {opacity: 0;}\n    100% {opacity: 0;}\n`;\n\nconst zoomIn = keyframes`\n    0% {transform: scale(0.5);}\n    98% {transform: scale(1.01);}\n    100% {transform: scale(1);}\n`;\n\nconst zoomOut = keyframes`\n    0% {transform: scale(1);}\n    100% {transform: scale(0.5);}\n`;\n\nconst ModalBase = styled.div`\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 9999;\n    position: fixed;\n    max-height: 100%;\n    user-select: none;\n\n    animation-name: ${open};\n    animation-duration: 0.2s;\n\n    display: grid;\n    overflow-y: auto;\n    place-items: center;\n\n    color: var(--foreground);\n    background: rgba(0, 0, 0, 0.8);\n\n    &.closing {\n        animation-name: ${close};\n    }\n\n    &.closing > div {\n        animation-name: ${zoomOut};\n    }\n`;\n\nconst ModalContainer = styled.div`\n    overflow: hidden;\n    max-width: calc(100vw - 20px);\n    border-radius: var(--border-radius);\n\n    animation-name: ${zoomIn};\n    animation-duration: 0.25s;\n    animation-timing-function: cubic-bezier(0.3, 0.3, 0.18, 1.1);\n`;\n\nconst ModalContent = styled.div<\n    { [key in \"attachment\" | \"noBackground\" | \"border\" | \"padding\"]?: boolean }\n>`\n    text-overflow: ellipsis;\n    border-radius: var(--border-radius);\n\n    h3 {\n        margin-top: 0;\n    }\n\n    form {\n        display: flex;\n        flex-direction: column;\n    }\n\n    ${(props) =>\n        !props.noBackground &&\n        css`\n            background: var(--secondary-header);\n        `}\n\n    ${(props) =>\n        props.padding &&\n        css`\n            padding: 1.5em;\n        `}\n\n    ${(props) =>\n        props.attachment &&\n        css`\n            border-radius: var(--border-radius) var(--border-radius) 0 0;\n        `}\n\n    ${(props) =>\n        props.border &&\n        css`\n            border-radius: var(--border-radius);\n            border: 2px solid var(--secondary-background);\n        `}\n`;\n\nconst ModalActions = styled.div`\n    gap: 8px;\n    display: flex;\n    flex-direction: row-reverse;\n\n    padding: 1em 1.5em;\n    background: var(--secondary-background);\n    border-radius: 0 0 var(--border-radius) var(--border-radius);\n`;\n\nexport type Action = Omit<ButtonProps, \"onClick\"> & {\n    confirmation?: boolean;\n    onClick: () => void;\n};\n\ninterface Props {\n    children?: Children;\n    title?: Children;\n\n    disallowClosing?: boolean;\n    noBackground?: boolean;\n    dontModal?: boolean;\n    padding?: boolean;\n\n    onClose?: () => void;\n    actions?: Action[];\n    disabled?: boolean;\n    border?: boolean;\n    visible: boolean;\n}\n\nexport let isModalClosing = false;\n\nexport default function Modal(props: Props) {\n    if (!props.visible) return null;\n\n    const content = (\n        <ModalContent\n            attachment={!!props.actions}\n            noBackground={props.noBackground}\n            border={props.border}\n            padding={props.padding ?? !props.dontModal}>\n            {props.title && <h3>{props.title}</h3>}\n            {props.children}\n        </ModalContent>\n    );\n\n    if (props.dontModal) {\n        return content;\n    }\n\n    const [animateClose, setAnimateClose] = useState(false);\n    isModalClosing = animateClose;\n    const onClose = useCallback(() => {\n        setAnimateClose(true);\n        setTimeout(() => props.onClose?.(), 2e2);\n    }, [setAnimateClose, props]);\n\n    useEffect(() => internalSubscribe(\"Modal\", \"close\", onClose), [onClose]);\n\n    useEffect(() => {\n        if (props.disallowClosing) return;\n\n        function keyDown(e: KeyboardEvent) {\n            if (e.key === \"Escape\") {\n                onClose();\n            }\n        }\n\n        document.body.addEventListener(\"keydown\", keyDown);\n        return () => document.body.removeEventListener(\"keydown\", keyDown);\n    }, [props.disallowClosing, onClose]);\n\n    const confirmationAction = props.actions?.find(\n        (action) => action.confirmation,\n    );\n\n    useEffect(() => {\n        if (!confirmationAction) return;\n\n        // ! TODO: this may be done better if we\n        // ! can focus the button although that\n        // ! doesn't seem to work...\n        function keyDown(e: KeyboardEvent) {\n            if (e.key === \"Enter\") {\n                confirmationAction!.onClick();\n            }\n        }\n\n        document.body.addEventListener(\"keydown\", keyDown);\n        return () => document.body.removeEventListener(\"keydown\", keyDown);\n    }, [confirmationAction]);\n\n    return createPortal(\n        <ModalBase\n            className={animateClose ? \"closing\" : undefined}\n            onClick={(!props.disallowClosing && props.onClose) || undefined}>\n            <ModalContainer onClick={(e) => (e.cancelBubble = true)}>\n                {content}\n                {props.actions && (\n                    <ModalActions>\n                        {props.actions.map((x, index) => (\n                            <Button\n                                key={index}\n                                {...x}\n                                disabled={props.disabled}\n                            />\n                        ))}\n                    </ModalActions>\n                )}\n            </ModalContainer>\n        </ModalBase>,\n        document.body,\n    );\n}\n","import { Text } from \"preact-i18n\";\n\nimport Modal from \"../../../components/ui/Modal\";\n\ninterface Props {\n    onClose: () => void;\n    text: string;\n}\n\nexport function ClipboardModal({ onClose, text }: Props) {\n    return (\n        <Modal\n            visible={true}\n            onClose={onClose}\n            title={<Text id=\"app.special.modals.clipboard.unavailable\" />}\n            actions={[\n                {\n                    onClick: onClose,\n                    confirmation: true,\n                    children: <Text id=\"app.special.modals.actions.close\" />,\n                },\n            ]}>\n            {location.protocol !== \"https:\" && (\n                <p>\n                    <Text id=\"app.special.modals.clipboard.https\" />\n                </p>\n            )}\n            <Text id=\"app.special.modals.clipboard.copy\" />{\" \"}\n            <code style={{ userSelect: \"all\" }}>{text}</code>\n        </Modal>\n    );\n}\n","import { Text } from \"preact-i18n\";\n\nimport Modal from \"../../../components/ui/Modal\";\n\ninterface Props {\n    onClose: () => void;\n    error: string;\n}\n\nexport function ErrorModal({ onClose, error }: Props) {\n    return (\n        <Modal\n            visible={true}\n            onClose={() => false}\n            title={<Text id=\"app.special.modals.error\" />}\n            actions={[\n                {\n                    onClick: onClose,\n                    confirmation: true,\n                    children: <Text id=\"app.special.modals.actions.ok\" />,\n                },\n                {\n                    onClick: () => location.reload(),\n                    children: <Text id=\"app.special.modals.actions.reload\" />,\n                },\n            ]}>\n            <Text id={`error.${error}`}>{error}</Text>\n        </Modal>\n    );\n}\n","import styled, { keyframes } from \"styled-components\";\n\nconst skSpinner = keyframes`\n    0%, 80%, 100% { \n        -webkit-transform: scale(0);\n        transform: scale(0);\n    }\n    40% { \n        -webkit-transform: scale(1.0);\n        transform: scale(1.0);\n    }\n`;\n\nconst prRing = keyframes`\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n`;\n\nconst PreloaderBase = styled.div`\n    width: 100%;\n    height: 100%;\n\n    display: grid;\n    place-items: center;\n\n    .spinner {\n        width: 58px;\n        display: flex;\n        text-align: center;\n        margin: 100px auto 0;\n        justify-content: space-between;\n    }\n\n    .spinner > div {\n        width: 14px;\n        height: 14px;\n        background-color: var(--tertiary-foreground);\n\n        border-radius: 100%;\n        display: inline-block;\n        animation: ${skSpinner} 1.4s infinite ease-in-out both;\n    }\n\n    .spinner div:nth-child(1) {\n        animation-delay: -0.32s;\n    }\n\n    .spinner div:nth-child(2) {\n        animation-delay: -0.16s;\n    }\n\n    .ring {\n        display: inline-block;\n        position: relative;\n        width: 48px;\n        height: 52px;\n    }\n\n    .ring div {\n        width: 32px;\n        margin: 8px;\n        height: 32px;\n        display: block;\n        position: absolute;\n        box-sizing: border-box;\n        border: 2px solid #fff;\n        border-radius: var(--border-radius-half);\n        animation: ${prRing} 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n        border-color: #fff transparent transparent transparent;\n    }\n\n    .ring div:nth-child(1) {\n        animation-delay: -0.45s;\n    }\n\n    .ring div:nth-child(2) {\n        animation-delay: -0.3s;\n    }\n\n    .ring div:nth-child(3) {\n        animation-delay: -0.15s;\n    }\n`;\n\ninterface Props {\n    type: \"spinner\" | \"ring\";\n}\n\nexport default function Preloader({ type }: Props) {\n    return (\n        <PreloaderBase>\n            <div class={type}>\n                <div />\n                <div />\n                <div />\n            </div>\n        </PreloaderBase>\n    );\n}\n","import { Client } from \"revolt.js/dist\";\nimport { Message } from \"revolt.js/dist/maps/Messages\";\nimport { ClientboundNotification } from \"revolt.js/dist/websocket/notifications\";\n\nimport { StateUpdater } from \"preact/hooks\";\n\nimport { dispatch } from \"../../redux\";\n\nimport { ClientOperations, ClientStatus } from \"./RevoltClient\";\n\nexport let preventReconnect = false;\nlet preventUntil = 0;\n\nexport function setReconnectDisallowed(allowed: boolean) {\n    preventReconnect = allowed;\n}\n\nexport function registerEvents(\n    { operations }: { operations: ClientOperations },\n    setStatus: StateUpdater<ClientStatus>,\n    client: Client,\n) {\n    function attemptReconnect() {\n        if (preventReconnect) return;\n        function reconnect() {\n            preventUntil = +new Date() + 2000;\n            client.websocket.connect().catch((err) => console.error(err));\n        }\n\n        if (+new Date() > preventUntil) {\n            setTimeout(reconnect, 2000);\n        } else {\n            reconnect();\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let listeners: Record<string, (...args: any[]) => void> = {\n        connecting: () =>\n            operations.ready() && setStatus(ClientStatus.CONNECTING),\n\n        dropped: () => {\n            if (operations.ready()) {\n                setStatus(ClientStatus.DISCONNECTED);\n                attemptReconnect();\n            }\n        },\n\n        packet: (packet: ClientboundNotification) => {\n            switch (packet.type) {\n                case \"ChannelAck\": {\n                    dispatch({\n                        type: \"UNREADS_MARK_READ\",\n                        channel: packet.id,\n                        message: packet.message_id,\n                    });\n                    break;\n                }\n            }\n        },\n\n        message: (message: Message) => {\n            if (message.mention_ids?.includes(client.user!._id)) {\n                dispatch({\n                    type: \"UNREADS_MENTION\",\n                    channel: message.channel_id,\n                    message: message._id,\n                });\n            }\n        },\n\n        ready: () => setStatus(ClientStatus.ONLINE),\n    };\n\n    if (import.meta.env.DEV) {\n        listeners = new Proxy(listeners, {\n            get:\n                (target, listener) =>\n                (...args: unknown[]) => {\n                    console.debug(`Calling ${listener.toString()} with`, args);\n                    Reflect.get(target, listener)(...args);\n                },\n        });\n    }\n\n    // TODO: clean this a bit and properly handle types\n    for (const listener in listeners) {\n        client.addListener(listener, listeners[listener]);\n    }\n\n    const online = () => {\n        if (operations.ready()) {\n            setStatus(ClientStatus.RECONNECTING);\n            setReconnectDisallowed(false);\n            attemptReconnect();\n        }\n    };\n\n    const offline = () => {\n        if (operations.ready()) {\n            setReconnectDisallowed(true);\n            client.websocket.disconnect();\n            setStatus(ClientStatus.OFFLINE);\n        }\n    };\n\n    window.addEventListener(\"online\", online);\n    window.addEventListener(\"offline\", offline);\n\n    return () => {\n        for (const listener in listeners) {\n            client.removeListener(\n                listener,\n                listeners[listener as keyof typeof listeners],\n            );\n        }\n\n        window.removeEventListener(\"online\", online);\n        window.removeEventListener(\"offline\", offline);\n    };\n}\n","import { Channel } from \"revolt.js/dist/maps/Channels\";\n\nimport { Text } from \"preact-i18n\";\n\nimport { Children } from \"../../types/Preact\";\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function takeError(error: any): string {\n    const type = error?.response?.data?.type;\n    const id = type;\n    if (!type) {\n        if (\n            error?.response?.status === 401 ||\n            error?.response?.status === 403\n        ) {\n            return \"Unauthorized\";\n        } else if (error && !!error.isAxiosError && !error.response) {\n            return \"NetworkError\";\n        }\n\n        console.error(error);\n        return \"UnknownError\";\n    }\n\n    return id;\n}\n\nexport function getChannelName(\n    channel: Channel,\n    prefixType?: boolean,\n): Children {\n    if (channel.channel_type === \"SavedMessages\")\n        return <Text id=\"app.navigation.tabs.saved\" />;\n\n    if (channel.channel_type === \"DirectMessage\") {\n        return (\n            <>\n                {prefixType && \"@\"}\n                {channel.recipient!.username}\n            </>\n        );\n    }\n\n    if (channel.channel_type === \"TextChannel\" && prefixType) {\n        return <>#{channel.name}</>;\n    }\n\n    return <>{channel.name}</>;\n}\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport { Session } from \"revolt-api/types/Auth\";\nimport { Client } from \"revolt.js\";\nimport { Route } from \"revolt.js/dist/api/routes\";\n\nimport { createContext } from \"preact\";\nimport { useContext, useEffect, useMemo, useState } from \"preact/hooks\";\n\nimport { dispatch } from \"../../redux\";\nimport { connectState } from \"../../redux/connector\";\nimport { AuthState } from \"../../redux/reducers/auth\";\n\nimport Preloader from \"../../components/ui/Preloader\";\n\nimport { Children } from \"../../types/Preact\";\nimport { useIntermediate } from \"../intermediate/Intermediate\";\nimport { registerEvents, setReconnectDisallowed } from \"./events\";\nimport { takeError } from \"./util\";\n\nexport enum ClientStatus {\n    INIT,\n    LOADING,\n    READY,\n    OFFLINE,\n    DISCONNECTED,\n    CONNECTING,\n    RECONNECTING,\n    ONLINE,\n}\n\nexport interface ClientOperations {\n    login: (\n        data: Route<\"POST\", \"/auth/session/login\">[\"data\"],\n    ) => Promise<void>;\n    logout: (shouldRequest?: boolean) => Promise<void>;\n    loggedIn: () => boolean;\n    ready: () => boolean;\n}\n\n// By the time they are used, they should all be initialized.\n// Currently the app does not render until a client is built and the other two are always initialized on first render.\n// - insert's words\nexport const AppContext = createContext<Client>(null!);\nexport const StatusContext = createContext<ClientStatus>(null!);\nexport const OperationsContext = createContext<ClientOperations>(null!);\n\ntype Props = {\n    auth: AuthState;\n    children: Children;\n};\n\nfunction Context({ auth, children }: Props) {\n    const { openScreen } = useIntermediate();\n    const [status, setStatus] = useState(ClientStatus.INIT);\n    const [client, setClient] = useState<Client>(\n        undefined as unknown as Client,\n    );\n\n    useEffect(() => {\n        (async () => {\n            const client = new Client({\n                autoReconnect: false,\n                apiURL: import.meta.env.VITE_API_URL,\n                debug: import.meta.env.DEV,\n            });\n\n            setClient(client);\n            setStatus(ClientStatus.LOADING);\n        })();\n    }, []);\n\n    if (status === ClientStatus.INIT) return null;\n\n    const operations: ClientOperations = useMemo(() => {\n        return {\n            login: async (data) => {\n                setReconnectDisallowed(true);\n\n                try {\n                    const onboarding = await client.login(data);\n                    setReconnectDisallowed(false);\n                    const login = () =>\n                        dispatch({\n                            type: \"LOGIN\",\n                            session: client.session as Session,\n                        });\n\n                    if (onboarding) {\n                        openScreen({\n                            id: \"onboarding\",\n                            callback: async (username: string) =>\n                                onboarding(username, true).then(login),\n                        });\n                    } else {\n                        login();\n                    }\n                } catch (err) {\n                    setReconnectDisallowed(false);\n                    throw err;\n                }\n            },\n            logout: async (shouldRequest) => {\n                dispatch({ type: \"LOGOUT\" });\n\n                client.reset();\n                dispatch({ type: \"RESET\" });\n\n                openScreen({ id: \"none\" });\n                setStatus(ClientStatus.READY);\n\n                client.websocket.disconnect();\n\n                if (shouldRequest) {\n                    try {\n                        await client.logout();\n                    } catch (err) {\n                        console.error(err);\n                    }\n                }\n            },\n            loggedIn: () => typeof auth.active !== \"undefined\",\n            ready: () =>\n                operations.loggedIn() && typeof client.user !== \"undefined\",\n        };\n    }, [client, auth.active, openScreen]);\n\n    useEffect(\n        () => registerEvents({ operations }, setStatus, client),\n        [client, operations],\n    );\n\n    useEffect(() => {\n        (async () => {\n            if (auth.active) {\n                dispatch({ type: \"QUEUE_FAIL_ALL\" });\n\n                const active = auth.accounts[auth.active];\n                client.user = client.users.get(active.session.user_id);\n                if (!navigator.onLine) {\n                    return setStatus(ClientStatus.OFFLINE);\n                }\n\n                if (operations.ready()) setStatus(ClientStatus.CONNECTING);\n\n                if (navigator.onLine) {\n                    await client\n                        .fetchConfiguration()\n                        .catch(() =>\n                            console.error(\"Failed to connect to API server.\"),\n                        );\n                }\n\n                try {\n                    await client.fetchConfiguration();\n                    const callback = await client.useExistingSession(\n                        active.session,\n                    );\n\n                    if (callback) {\n                        openScreen({ id: \"onboarding\", callback });\n                    }\n                } catch (err) {\n                    setStatus(ClientStatus.DISCONNECTED);\n                    const error = takeError(err);\n                    if (error === \"Forbidden\" || error === \"Unauthorized\") {\n                        operations.logout(true);\n                        openScreen({ id: \"signed_out\" });\n                    } else {\n                        openScreen({ id: \"error\", error });\n                    }\n                }\n            } else {\n                try {\n                    await client.fetchConfiguration();\n                } catch (err) {\n                    console.error(\"Failed to connect to API server.\");\n                }\n\n                setStatus(ClientStatus.READY);\n            }\n        })();\n        // eslint-disable-next-line\n    }, []);\n\n    if (status === ClientStatus.LOADING) {\n        return <Preloader type=\"spinner\" />;\n    }\n\n    return (\n        <AppContext.Provider value={client}>\n            <StatusContext.Provider value={status}>\n                <OperationsContext.Provider value={operations}>\n                    {children}\n                </OperationsContext.Provider>\n            </StatusContext.Provider>\n        </AppContext.Provider>\n    );\n}\n\nexport default connectState<{ children: Children }>(Context, (state) => {\n    return {\n        auth: state.auth,\n        sync: state.sync,\n    };\n});\n\nexport const useClient = () => useContext(AppContext);\n","import { useHistory } from \"react-router\";\nimport { Server } from \"revolt.js/dist/maps/Servers\";\nimport { ulid } from \"ulid\";\n\nimport { Text } from \"preact-i18n\";\nimport { useContext, useState } from \"preact/hooks\";\n\nimport InputBox from \"../../../components/ui/InputBox\";\nimport Modal from \"../../../components/ui/Modal\";\nimport Overline from \"../../../components/ui/Overline\";\n\nimport { Children } from \"../../../types/Preact\";\nimport { AppContext } from \"../../revoltjs/RevoltClient\";\nimport { takeError } from \"../../revoltjs/util\";\n\ninterface Props {\n    onClose: () => void;\n    question: Children;\n    field?: Children;\n    defaultValue?: string;\n    callback: (value: string) => Promise<void>;\n}\n\nexport function InputModal({\n    onClose,\n    question,\n    field,\n    defaultValue,\n    callback,\n}: Props) {\n    const [processing, setProcessing] = useState(false);\n    const [value, setValue] = useState(defaultValue ?? \"\");\n    const [error, setError] = useState<undefined | string>(undefined);\n\n    return (\n        <Modal\n            visible={true}\n            title={question}\n            disabled={processing}\n            actions={[\n                {\n                    confirmation: true,\n                    children: <Text id=\"app.special.modals.actions.ok\" />,\n                    onClick: () => {\n                        setProcessing(true);\n                        callback(value)\n                            .then(onClose)\n                            .catch((err) => {\n                                setError(takeError(err));\n                                setProcessing(false);\n                            });\n                    },\n                },\n                {\n                    children: <Text id=\"app.special.modals.actions.cancel\" />,\n                    onClick: onClose,\n                },\n            ]}\n            onClose={onClose}>\n            {field ? (\n                <Overline error={error} block>\n                    {field}\n                </Overline>\n            ) : (\n                error && <Overline error={error} type=\"error\" block />\n            )}\n            <InputBox\n                value={value}\n                onChange={(e) => setValue(e.currentTarget.value)}\n            />\n        </Modal>\n    );\n}\n\ntype SpecialProps = { onClose: () => void } & (\n    | {\n          type:\n              | \"create_group\"\n              | \"create_server\"\n              | \"set_custom_status\"\n              | \"add_friend\";\n      }\n    | { type: \"create_role\"; server: Server; callback: (id: string) => void }\n);\n\nexport function SpecialInputModal(props: SpecialProps) {\n    const history = useHistory();\n    const client = useContext(AppContext);\n\n    const { onClose } = props;\n    switch (props.type) {\n        case \"create_group\": {\n            return (\n                <InputModal\n                    onClose={onClose}\n                    question={<Text id=\"app.main.groups.create\" />}\n                    field={<Text id=\"app.main.groups.name\" />}\n                    callback={async (name) => {\n                        const group = await client.channels.createGroup({\n                            name,\n                            nonce: ulid(),\n                            users: [],\n                        });\n\n                        history.push(`/channel/${group._id}`);\n                    }}\n                />\n            );\n        }\n        case \"create_server\": {\n            return (\n                <InputModal\n                    onClose={onClose}\n                    question={<Text id=\"app.main.servers.create\" />}\n                    field={<Text id=\"app.main.servers.name\" />}\n                    callback={async (name) => {\n                        const server = await client.servers.createServer({\n                            name,\n                            nonce: ulid(),\n                        });\n\n                        history.push(`/server/${server._id}`);\n                    }}\n                />\n            );\n        }\n        case \"create_role\": {\n            return (\n                <InputModal\n                    onClose={onClose}\n                    question={\n                        <Text id=\"app.settings.permissions.create_role\" />\n                    }\n                    field={<Text id=\"app.settings.permissions.role_name\" />}\n                    callback={async (name) => {\n                        const role = await props.server.createRole(name);\n                        props.callback(role.id);\n                    }}\n                />\n            );\n        }\n        case \"set_custom_status\": {\n            return (\n                <InputModal\n                    onClose={onClose}\n                    question={<Text id=\"app.context_menu.set_custom_status\" />}\n                    field={<Text id=\"app.context_menu.custom_status\" />}\n                    defaultValue={client.user?.status?.text}\n                    callback={(text) =>\n                        client.users.edit({\n                            status: {\n                                ...client.user?.status,\n                                text: text.trim().length > 0 ? text : undefined,\n                            },\n                        })\n                    }\n                />\n            );\n        }\n        case \"add_friend\": {\n            return (\n                <InputModal\n                    onClose={onClose}\n                    question={\"Add Friend\"}\n                    callback={(username) =>\n                        client\n                            .req(\n                                \"PUT\",\n                                `/users/${username}/friend` as \"/users/id/friend\",\n                            )\n                            .then(undefined)\n                    }\n                />\n            );\n        }\n        default:\n            return null;\n    }\n}\n","export default \"__VITE_ASSET__fe712d4a__\"","import { UseFormMethods } from \"react-hook-form\";\n\nimport { Text, Localizer } from \"preact-i18n\";\n\nimport InputBox from \"../../components/ui/InputBox\";\nimport Overline from \"../../components/ui/Overline\";\n\ninterface Props {\n    type: \"email\" | \"username\" | \"password\" | \"invite\" | \"current_password\";\n    showOverline?: boolean;\n    register: UseFormMethods[\"register\"];\n    error?: string;\n    name?: string;\n}\n\nexport default function FormField({\n    type,\n    register,\n    showOverline,\n    error,\n    name,\n}: Props) {\n    return (\n        <>\n            {showOverline && (\n                <Overline error={error}>\n                    <Text id={`login.${type}`} />\n                </Overline>\n            )}\n            <Localizer>\n                <InputBox\n                    placeholder={\n                        (\n                            <Text id={`login.enter.${type}`} />\n                        ) as unknown as string\n                    }\n                    name={\n                        type === \"current_password\" ? \"password\" : name ?? type\n                    }\n                    type={\n                        type === \"invite\" || type === \"username\"\n                            ? \"text\"\n                            : type === \"current_password\"\n                            ? \"password\"\n                            : type\n                    }\n                    // See https://github.com/mozilla/contain-facebook/issues/783\n                    className=\"fbc-has-badge\"\n                    ref={register(\n                        type === \"password\" || type === \"current_password\"\n                            ? {\n                                  validate: (value: string) =>\n                                      value.length === 0\n                                          ? \"RequiredField\"\n                                          : value.length < 8\n                                          ? \"TooShort\"\n                                          : value.length > 1024\n                                          ? \"TooLong\"\n                                          : undefined,\n                              }\n                            : type === \"email\"\n                            ? {\n                                  required: \"RequiredField\",\n                                  pattern: {\n                                      value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                                      message: \"InvalidEmail\",\n                                  },\n                              }\n                            : type === \"username\"\n                            ? {\n                                  validate: (value: string) =>\n                                      value.length === 0\n                                          ? \"RequiredField\"\n                                          : value.length < 2\n                                          ? \"TooShort\"\n                                          : value.length > 32\n                                          ? \"TooLong\"\n                                          : undefined,\n                              }\n                            : { required: \"RequiredField\" },\n                    )}\n                />\n            </Localizer>\n        </>\n    );\n}\n","import { SubmitHandler, useForm } from \"react-hook-form\";\n\nimport styles from \"./Onboarding.module.scss\";\nimport { Text } from \"preact-i18n\";\nimport { useState } from \"preact/hooks\";\n\nimport wideSVG from \"../../../assets/wide.svg\";\nimport Button from \"../../../components/ui/Button\";\nimport Preloader from \"../../../components/ui/Preloader\";\n\nimport FormField from \"../../../pages/login/FormField\";\nimport { takeError } from \"../../revoltjs/util\";\n\ninterface Props {\n    onClose: () => void;\n    callback: (username: string, loginAfterSuccess?: true) => Promise<void>;\n}\n\ninterface FormInputs {\n    username: string;\n}\n\nexport function OnboardingModal({ onClose, callback }: Props) {\n    const { handleSubmit, register } = useForm<FormInputs>();\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState<string | undefined>(undefined);\n\n    const onSubmit: SubmitHandler<FormInputs> = ({ username }) => {\n        setLoading(true);\n        callback(username, true)\n            .then(() => onClose())\n            .catch((err: unknown) => {\n                setError(takeError(err));\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div className={styles.onboarding}>\n            <div className={styles.header}>\n                <h1>\n                    <Text id=\"app.special.modals.onboarding.welcome\" />\n                    <img src={wideSVG} loading=\"eager\" />\n                </h1>\n            </div>\n            <div className={styles.form}>\n                {loading ? (\n                    <Preloader type=\"spinner\" />\n                ) : (\n                    <>\n                        <p>\n                            <Text id=\"app.special.modals.onboarding.pick\" />\n                        </p>\n                        <form\n                            onSubmit={\n                                handleSubmit(\n                                    onSubmit,\n                                ) as unknown as JSX.GenericEventHandler<HTMLFormElement>\n                            }>\n                            <div>\n                                <FormField\n                                    type=\"username\"\n                                    register={register}\n                                    showOverline\n                                    error={error}\n                                />\n                            </div>\n                            <Button type=\"submit\">\n                                <Text id=\"app.special.modals.actions.continue\" />\n                            </Button>\n                        </form>\n                    </>\n                )}\n            </div>\n            <div />\n        </div>\n    );\n}\n","import { IntlContext, translate } from \"preact-i18n\";\nimport { useContext } from \"preact/hooks\";\n\nimport { Dictionary } from \"../context/Locale\";\n\nimport { Children } from \"../types/Preact\";\n\ninterface Fields {\n    [key: string]: Children;\n}\n\ninterface Props {\n    id: string;\n    fields: Fields;\n}\n\nexport interface IntlType {\n    intl: {\n        dictionary: Dictionary;\n    };\n}\n\n// This will exhibit O(2^n) behaviour.\nfunction recursiveReplaceFields(input: string, fields: Fields) {\n    const key = Object.keys(fields)[0];\n    if (key) {\n        const { [key]: field, ...restOfFields } = fields;\n        if (typeof field === \"undefined\") return [input];\n\n        const values: (Children | string[])[] = input\n            .split(`{{${key}}}`)\n            .map((v) => recursiveReplaceFields(v, restOfFields));\n\n        for (let i = values.length - 1; i > 0; i -= 2) {\n            values.splice(i, 0, field);\n        }\n\n        return values.flat();\n    }\n    // base case\n    return [input];\n}\n\nexport function TextReact({ id, fields }: Props) {\n    const { intl } = useContext(IntlContext) as unknown as IntlType;\n\n    const path = id.split(\".\");\n    let entry = intl.dictionary[path.shift()!];\n    for (const key of path) {\n        // @ts-expect-error TODO: lazy\n        entry = entry[key];\n    }\n\n    return <>{recursiveReplaceFields(entry as string, fields)}</>;\n}\n\nexport function useTranslation() {\n    const { intl } = useContext(IntlContext) as unknown as IntlType;\n    return (\n        id: string,\n        fields?: Record<string, string | undefined>,\n        plural?: number,\n        fallback?: string,\n    ) => translate(id, \"\", intl.dictionary, fields, plural, fallback);\n}\n\nexport function useDictionary() {\n    const { intl } = useContext(IntlContext) as unknown as IntlType;\n    return intl.dictionary;\n}\n","import { Suspense, lazy } from \"preact/compat\";\n\nconst Renderer = lazy(() => import(\"./Renderer\"));\n\nexport interface MarkdownProps {\n    content?: string;\n    disallowBigEmoji?: boolean;\n}\n\nexport default function Markdown(props: MarkdownProps) {\n    return (\n        // @ts-expect-error Typings mis-match.\n        <Suspense fallback={props.content}>\n            <Renderer {...props} />\n        </Suspense>\n    );\n}\n","import { Attachment } from \"revolt-api/types/Autumn\";\nimport styled, { css } from \"styled-components\";\n\nexport interface IconBaseProps<T> {\n    target?: T;\n    attachment?: Attachment;\n\n    size: number;\n    hover?: boolean;\n    animate?: boolean;\n}\n\ninterface IconModifiers {\n    /**\n     * If this is undefined or null then the icon defaults to square, else uses the CSS variable given.\n     */\n    borderRadius?: string;\n    hover?: boolean;\n}\n\nexport default styled.svg<IconModifiers>`\n    flex-shrink: 0;\n\n    img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n\n        ${(props) =>\n            props.borderRadius &&\n            css`\n                border-radius: var(${props.borderRadius});\n            `}\n    }\n\n    ${(props) =>\n        props.hover &&\n        css`\n            &:hover .icon {\n                filter: brightness(0.8);\n            }\n        `}\n`;\n\nexport const ImageIconBase = styled.img<IconModifiers>`\n    flex-shrink: 0;\n    object-fit: cover;\n\n    ${(props) =>\n        props.borderRadius &&\n        css`\n            border-radius: var(${props.borderRadius});\n        `}\n\n    ${(props) =>\n        props.hover &&\n        css`\n            &:hover img {\n                filter: brightness(0.8);\n            }\n        `}\n`;\n","import { MicrophoneOff } from \"@styled-icons/boxicons-regular\";\nimport { VolumeMute } from \"@styled-icons/boxicons-solid\";\nimport { observer } from \"mobx-react-lite\";\nimport { useParams } from \"react-router-dom\";\nimport { Presence } from \"revolt-api/types/Users\";\nimport { User } from \"revolt.js/dist/maps/Users\";\nimport styled, { css } from \"styled-components\";\n\nimport { useContext } from \"preact/hooks\";\n\nimport { ThemeContext } from \"../../../context/Theme\";\nimport { useClient } from \"../../../context/revoltjs/RevoltClient\";\n\nimport IconBase, { IconBaseProps } from \"../IconBase\";\nimport fallback from \"../assets/user.png\";\n\ntype VoiceStatus = \"muted\" | \"deaf\";\ninterface Props extends IconBaseProps<User> {\n    mask?: string;\n    status?: boolean;\n    voice?: VoiceStatus;\n    showServerIdentity?: boolean;\n}\n\nexport function useStatusColour(user?: User) {\n    const theme = useContext(ThemeContext);\n\n    return user?.online && user?.status?.presence !== Presence.Invisible\n        ? user?.status?.presence === Presence.Idle\n            ? theme[\"status-away\"]\n            : user?.status?.presence === Presence.Busy\n            ? theme[\"status-busy\"]\n            : theme[\"status-online\"]\n        : theme[\"status-invisible\"];\n}\n\nconst VoiceIndicator = styled.div<{ status: VoiceStatus }>`\n    width: 10px;\n    height: 10px;\n    border-radius: var(--border-radius-half);\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    svg {\n        stroke: white;\n    }\n\n    ${(props) =>\n        (props.status === \"muted\" || props.status === \"deaf\") &&\n        css`\n            background: var(--error);\n        `}\n`;\n\nexport default observer(\n    (\n        props: Props &\n            Omit<\n                JSX.SVGAttributes<SVGSVGElement>,\n                keyof Props | \"children\" | \"as\"\n            >,\n    ) => {\n        const client = useClient();\n\n        const {\n            target,\n            attachment,\n            size,\n            status,\n            animate,\n            mask,\n            hover,\n            showServerIdentity,\n            ...svgProps\n        } = props;\n\n        let override;\n        if (target && showServerIdentity) {\n            const { server } = useParams<{ server?: string }>();\n            if (server) {\n                const member = client.members.getKey({\n                    server,\n                    user: target._id,\n                });\n\n                if (member?.avatar) {\n                    override = member?.avatar;\n                }\n            }\n        }\n\n        const iconURL =\n            client.generateFileURL(\n                override ?? target?.avatar ?? attachment,\n                { max_side: 256 },\n                animate,\n            ) ?? (target ? target.defaultAvatarURL : fallback);\n\n        return (\n            <IconBase\n                {...svgProps}\n                width={size}\n                height={size}\n                hover={hover}\n                borderRadius=\"--border-radius-user-icon\"\n                aria-hidden=\"true\"\n                viewBox=\"0 0 32 32\">\n                <foreignObject\n                    x=\"0\"\n                    y=\"0\"\n                    width=\"32\"\n                    height=\"32\"\n                    class=\"icon\"\n                    mask={mask ?? (status ? \"url(#user)\" : undefined)}>\n                    {<img src={iconURL} draggable={false} loading=\"lazy\" />}\n                </foreignObject>\n                {props.status && (\n                    <circle\n                        cx=\"27\"\n                        cy=\"27\"\n                        r=\"5\"\n                        fill={useStatusColour(target)}\n                    />\n                )}\n                {props.voice && (\n                    <foreignObject x=\"22\" y=\"22\" width=\"10\" height=\"10\">\n                        <VoiceIndicator status={props.voice}>\n                            {(props.voice === \"deaf\" && (\n                                <VolumeMute size={6} />\n                            )) ||\n                                (props.voice === \"muted\" && (\n                                    <MicrophoneOff size={6} />\n                                ))}\n                        </VoiceIndicator>\n                    </foreignObject>\n                )}\n            </IconBase>\n        );\n    },\n);\n","export default \"__VITE_ASSET__c61b8717__\"","import { observer } from \"mobx-react-lite\";\nimport { useParams } from \"react-router-dom\";\nimport { User } from \"revolt.js/dist/maps/Users\";\nimport styled from \"styled-components\";\n\nimport { Text } from \"preact-i18n\";\n\nimport { useIntermediate } from \"../../../context/intermediate/Intermediate\";\nimport { useClient } from \"../../../context/revoltjs/RevoltClient\";\n\nimport UserIcon from \"./UserIcon\";\nimport { internalEmit } from \"../../../lib/eventEmitter\";\n\nconst BotBadge = styled.div`\n    display: inline-block;\n\n    height: 1.4em;\n    padding: 0 4px;\n    font-size: 0.6em;\n    user-select: none;\n    margin-inline-start: 2px;\n    text-transform: uppercase;\n\n    color: var(--foreground);\n    background: var(--accent);\n    border-radius: calc(var(--border-radius) / 2);\n`;\n\ntype UsernameProps = JSX.HTMLAttributes<HTMLElement> & {\n    user?: User;\n    prefixAt?: boolean;\n    showServerIdentity?: boolean;\n}\nexport const Username = observer(\n    ({\n        user,\n        prefixAt,\n        showServerIdentity,\n        ...otherProps\n    }: UsernameProps) => {\n        let username = user?.username;\n        let color;\n\n        if (user && showServerIdentity) {\n            const { server } = useParams<{ server?: string }>();\n            if (server) {\n                const client = useClient();\n                const member = client.members.getKey({\n                    server,\n                    user: user._id,\n                });\n\n                if (member) {\n                    if (member.nickname) {\n                        username = member.nickname;\n                    }\n\n                    if (member.roles && member.roles.length > 0) {\n                        const srv = client.servers.get(member._id.server);\n                        if (srv?.roles) {\n                            for (const role of member.roles) {\n                                const c = srv.roles[role].colour;\n                                if (c) {\n                                    color = c;\n                                    continue;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        if (user?.bot) {\n            return (\n                <>\n                    <span {...otherProps} style={{ color }}>\n                        {username ?? (\n                            <Text id=\"app.main.channel.unknown_user\" />\n                        )}\n                    </span>\n                    <BotBadge>\n                        <Text id=\"app.main.channel.bot\" />\n                    </BotBadge>\n                </>\n            );\n        }\n\n        return (\n            <span {...otherProps} style={{ color }}>\n                {prefixAt ? \"@\" : undefined}\n                {username ?? <Text id=\"app.main.channel.unknown_user\" />}\n            </span>\n        );\n    },\n);\n\nexport default function UserShort({\n    user,\n    size,\n    prefixAt,\n    showServerIdentity,\n}: {\n    user?: User;\n    size?: number;\n    prefixAt?: boolean;\n    showServerIdentity?: boolean;\n}) {\n    const { openScreen } = useIntermediate();\n    const openProfile = () =>\n        user && openScreen({ id: \"profile\", user_id: user._id });\n\n    const handleUserClick = (e: MouseEvent) => {\n        if (e.shiftKey && user?._id) {\n            e.preventDefault()\n            internalEmit(\n                \"MessageBox\",\n                \"append\",\n                `<@${user?._id}>`,\n                \"mention\",\n            );\n        } else {\n            openProfile()\n        }\n    }\n\n    return (\n        <>\n            <UserIcon\n                size={size ?? 24}\n                target={user}\n                onClick={handleUserClick}\n                showServerIdentity={showServerIdentity}\n            />\n            <Username\n                user={user}\n                showServerIdentity={showServerIdentity}\n                onClick={handleUserClick}\n                prefixAt={prefixAt}\n            />\n        </>\n    );\n}\n","import { isDesktop, isMobile, isTablet } from \"react-device-detect\";\n\nexport const isTouchscreenDevice =\n    isDesktop || isTablet\n        ? false\n        : (typeof window !== \"undefined\"\n              ? navigator.maxTouchPoints > 0\n              : false) || isMobile;\n","import Tippy, { TippyProps } from \"@tippyjs/react\";\nimport styled from \"styled-components\";\n\nimport { Text } from \"preact-i18n\";\n\nimport { Children } from \"../../types/Preact\";\n\ntype Props = Omit<TippyProps, \"children\"> & {\n    children: Children;\n    content: Children;\n};\n\nexport default function Tooltip(props: Props) {\n    const { children, content, ...tippyProps } = props;\n\n    return (\n        <Tippy content={content} {...tippyProps}>\n            {/*\n            // @ts-expect-error Type mis-match. */}\n            <div style={`display: flex;`}>{children}</div>\n        </Tippy>\n    );\n}\n\nconst PermissionTooltipBase = styled.div`\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n\n    span {\n        font-size: 11px;\n        font-weight: 700;\n        text-transform: uppercase;\n        color: var(--secondary-foreground);\n    }\n\n    code {\n        font-family: var(--monospace-font);\n    }\n`;\n\nexport function PermissionTooltip(\n    props: Omit<Props, \"content\"> & { permission: string },\n) {\n    const { permission, ...tooltipProps } = props;\n\n    return (\n        <Tooltip\n            content={\n                <PermissionTooltipBase>\n                    <span>\n                        <Text id=\"app.permissions.required\" />\n                    </span>\n                    <code>{permission}</code>\n                </PermissionTooltipBase>\n            }\n            {...tooltipProps}\n        />\n    );\n}\n","import { observer } from \"mobx-react-lite\";\nimport { Message } from \"revolt.js/dist/maps/Messages\";\nimport styled, { css, keyframes } from \"styled-components\";\nimport { decodeTime } from \"ulid\";\n\nimport { Text } from \"preact-i18n\";\n\nimport { useDictionary } from \"../../../lib/i18n\";\nimport { isTouchscreenDevice } from \"../../../lib/isTouchscreenDevice\";\n\nimport { dayjs } from \"../../../context/Locale\";\n\nimport Tooltip from \"../Tooltip\";\n\nexport interface BaseMessageProps {\n    head?: boolean;\n    failed?: boolean;\n    mention?: boolean;\n    blocked?: boolean;\n    sending?: boolean;\n    contrast?: boolean;\n    highlight?: boolean;\n}\n\nconst highlight = keyframes`\n    0% { background: var(--mention); }\n    66% { background: var(--mention); }\n    100% { background: transparent; }\n`;\n\nexport default styled.div<BaseMessageProps>`\n    display: flex;\n    overflow: none;\n    padding: 0.125rem;\n    flex-direction: row;\n    padding-inline-end: 16px;\n\n    ${() =>\n        isTouchscreenDevice &&\n        css`\n            user-select: none;\n        `}\n\n    ${(props) =>\n        props.contrast &&\n        css`\n            padding: 0.3rem;\n            background: var(--hover);\n            border-radius: var(--border-radius);\n        `}\n\n    ${(props) =>\n        props.head &&\n        css`\n            margin-top: 12px;\n        `}\n\n    ${(props) =>\n        props.mention &&\n        css`\n            background: var(--mention);\n        `}\n\n    ${(props) =>\n        props.blocked &&\n        css`\n            filter: blur(4px);\n            transition: 0.2s ease filter;\n\n            &:hover {\n                filter: none;\n            }\n        `}\n\n    ${(props) =>\n        props.sending &&\n        css`\n            opacity: 0.8;\n            color: var(--tertiary-foreground);\n        `}\n\n    ${(props) =>\n        props.failed &&\n        css`\n            color: var(--error);\n        `}\n\n    ${(props) =>\n        props.highlight &&\n        css`\n            animation-name: ${highlight};\n            animation-timing-function: ease;\n            animation-duration: 3s;\n        `}\n\n    .detail {\n        gap: 8px;\n        display: flex;\n        align-items: center;\n        flex-shrink: 0;\n    }\n\n    .author {\n        overflow: hidden;\n        cursor: pointer;\n        font-weight: 600 !important;\n\n        display: -webkit-box;\n        -webkit-line-clamp: 1;\n        -webkit-box-orient: vertical;\n        text-overflow: ellipsis;\n        white-space: normal;\n\n        &:hover {\n            text-decoration: underline;\n        }\n    }\n\n    .copy {\n        display: block;\n        overflow: hidden;\n    }\n\n    &:hover {\n        background: var(--hover);\n\n        time {\n            opacity: 1;\n        }\n\n        .system-message-icon {\n            display: none;\n        }\n    }\n`;\n\nexport const MessageInfo = styled.div`\n    width: 62px;\n    display: flex;\n    flex-shrink: 0;\n    padding-top: 2px;\n    flex-direction: row;\n    justify-content: center;\n\n    .copyBracket {\n        opacity: 0;\n        position: absolute;\n    }\n\n    .copyTime {\n        opacity: 0;\n        position: absolute;\n    }\n\n    svg {\n        user-select: none;\n        cursor: pointer;\n\n        &:active {\n            transform: translateY(1px);\n        }\n    }\n\n    time {\n        opacity: 0;\n    }\n\n    time,\n    .edited {\n        margin-top: 1px;\n        cursor: default;\n        display: inline;\n        font-size: 10px;\n        color: var(--tertiary-foreground);\n    }\n\n    time,\n    .edited > div {\n        &::selection {\n            background-color: transparent;\n            color: var(--tertiary-foreground);\n        }\n    }\n\n    .header {\n        cursor: pointer;\n    }\n\n    .systemIcon {\n        height: 1.33em;\n        width: 1.33em;\n        margin-right: 0.5em;\n        color: var(--tertiary-foreground);\n    }\n`;\n\nexport const MessageContent = styled.div`\n    min-width: 0;\n    flex-grow: 1;\n    display: flex;\n    // overflow: hidden;\n    flex-direction: column;\n    justify-content: center;\n    font-size: var(--text-size);\n`;\n\nexport const DetailBase = styled.div`\n    flex-shrink: 0;\n    gap: 4px;\n    font-size: 10px;\n    display: inline-flex;\n    color: var(--tertiary-foreground);\n\n    .edited {\n        cursor: default;\n        &::selection {\n            background-color: transparent;\n            color: var(--tertiary-foreground);\n        }\n    }\n`;\n\nexport const MessageDetail = observer(\n    ({ message, position }: { message: Message; position: \"left\" | \"top\" }) => {\n        const dict = useDictionary();\n\n        if (position === \"left\") {\n            if (message.edited) {\n                return (\n                    <>\n                        <time className=\"copyTime\">\n                            <i className=\"copyBracket\">[</i>\n                            {dayjs(decodeTime(message._id)).format(\n                                dict.dayjs?.timeFormat,\n                            )}\n                            <i className=\"copyBracket\">]</i>\n                        </time>\n                        <span className=\"edited\">\n                            <Tooltip\n                                content={dayjs(message.edited).format(\"LLLL\")}>\n                                <Text id=\"app.main.channel.edited\" />\n                            </Tooltip>\n                        </span>\n                    </>\n                );\n            }\n            return (\n                <>\n                    <time>\n                        <i className=\"copyBracket\">[</i>\n                        {dayjs(decodeTime(message._id)).format(\n                            dict.dayjs?.timeFormat,\n                        )}\n                        <i className=\"copyBracket\">]</i>\n                    </time>\n                </>\n            );\n        }\n\n        return (\n            <DetailBase>\n                <time>{dayjs(decodeTime(message._id)).calendar()}</time>\n                {message.edited && (\n                    <Tooltip content={dayjs(message.edited).format(\"LLLL\")}>\n                        <span className=\"edited\">\n                            <Text id=\"app.main.channel.edited\" />\n                        </span>\n                    </Tooltip>\n                )}\n            </DetailBase>\n        );\n    },\n);\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","export function determineFileSize(size: number) {\n    if (size > 1e6) {\n        return `${(size / 1e6).toFixed(2)} MB`;\n    } else if (size > 1e3) {\n        return `${(size / 1e3).toFixed(2)} KB`;\n    }\n\n    return `${size} B`;\n}\n","import styled, { css } from \"styled-components\";\n\ninterface Props {\n    rotate?: string;\n    type?: \"default\" | \"circle\";\n}\n\nconst normal = `var(--secondary-foreground)`;\nconst hover = `var(--foreground)`;\n\nexport default styled.div<Props>`\n    z-index: 1;\n    display: grid;\n    cursor: pointer;\n    place-items: center;\n\n    transition: 0.1s ease all;\n\n    fill: ${normal};\n    color: ${normal};\n\n    a {\n        color: ${normal};\n    }\n\n    svg {\n        transition: 0.2s ease transform;\n    }\n\n    &:hover {\n        fill: ${hover};\n        color: ${hover};\n\n        a {\n            color: ${hover};\n        }\n    }\n\n    ${(props) =>\n        props.type === \"circle\" &&\n        css`\n            padding: 4px;\n            border-radius: var(--border-radius-half);\n            background-color: var(--secondary-header);\n\n            &:hover {\n                background-color: var(--primary-header);\n            }\n        `}\n\n    ${(props) =>\n        props.rotate &&\n        css`\n            svg {\n                transform: rotateZ(${props.rotate});\n            }\n        `}\n`;\n","import {\n    Download,\n    LinkExternal,\n    File,\n    Headphone,\n    Video,\n} from \"@styled-icons/boxicons-regular\";\nimport { Attachment } from \"revolt-api/types/Autumn\";\n\nimport styles from \"./AttachmentActions.module.scss\";\nimport classNames from \"classnames\";\nimport { useContext } from \"preact/hooks\";\n\nimport { determineFileSize } from \"../../../../lib/fileSize\";\n\nimport { AppContext } from \"../../../../context/revoltjs/RevoltClient\";\n\nimport IconButton from \"../../../ui/IconButton\";\n\ninterface Props {\n    attachment: Attachment;\n}\n\nexport default function AttachmentActions({ attachment }: Props) {\n    const client = useContext(AppContext);\n    const { filename, metadata, size } = attachment;\n\n    const url = client.generateFileURL(attachment)!;\n    const open_url = `${url}/${filename}`;\n    const download_url = url.replace(\"attachments\", \"attachments/download\");\n\n    const filesize = determineFileSize(size);\n\n    switch (metadata.type) {\n        case \"Image\":\n            return (\n                <div className={classNames(styles.actions, styles.imageAction)}>\n                    <span className={styles.filename}>{filename}</span>\n                    <span className={styles.filesize}>\n                        {`${metadata.width}x${metadata.height}`} ({filesize})\n                    </span>\n                    <a\n                        href={open_url}\n                        target=\"_blank\"\n                        className={styles.iconType}\n                        rel=\"noreferrer\">\n                        <IconButton>\n                            <LinkExternal size={24} />\n                        </IconButton>\n                    </a>\n                    <a\n                        href={download_url}\n                        className={styles.downloadIcon}\n                        download\n                        target=\"_blank\"\n                        rel=\"noreferrer\">\n                        <IconButton>\n                            <Download size={24} />\n                        </IconButton>\n                    </a>\n                </div>\n            );\n        case \"Audio\":\n            return (\n                <div className={classNames(styles.actions, styles.audioAction)}>\n                    <Headphone size={24} className={styles.iconType} />\n                    <span className={styles.filename}>{filename}</span>\n                    <span className={styles.filesize}>{filesize}</span>\n                    <a\n                        href={download_url}\n                        className={styles.downloadIcon}\n                        download\n                        target=\"_blank\"\n                        rel=\"noreferrer\">\n                        <IconButton>\n                            <Download size={24} />\n                        </IconButton>\n                    </a>\n                </div>\n            );\n        case \"Video\":\n            return (\n                <div className={classNames(styles.actions, styles.videoAction)}>\n                    <Video size={24} className={styles.iconType} />\n                    <span className={styles.filename}>{filename}</span>\n                    <span className={styles.filesize}>\n                        {`${metadata.width}x${metadata.height}`} ({filesize})\n                    </span>\n                    <a\n                        href={download_url}\n                        className={styles.downloadIcon}\n                        download\n                        target=\"_blank\"\n                        rel=\"noreferrer\">\n                        <IconButton>\n                            <Download size={24} />\n                        </IconButton>\n                    </a>\n                </div>\n            );\n        default:\n            return (\n                <div className={styles.actions}>\n                    <File size={24} className={styles.iconType} />\n                    <span className={styles.filename}>{filename}</span>\n                    <span className={styles.filesize}>{filesize}</span>\n                    {metadata.type === \"Text\" && (\n                        <a\n                            href={open_url}\n                            target=\"_blank\"\n                            className={styles.externalType}\n                            rel=\"noreferrer\">\n                            <IconButton>\n                                <LinkExternal size={24} />\n                            </IconButton>\n                        </a>\n                    )}\n                    <a\n                        href={download_url}\n                        className={styles.downloadIcon}\n                        download\n                        target=\"_blank\"\n                        rel=\"noreferrer\">\n                        <IconButton>\n                            <Download size={24} />\n                        </IconButton>\n                    </a>\n                </div>\n            );\n    }\n}\n","import styled, { css } from \"styled-components\";\n\nimport { Children } from \"../../../../types/Preact\";\n\nconst Grid = styled.div<{ width: number; height: number }>`\n    --width: ${props => props.width};\n    --height: ${props => props.height};\n    --width-px: calc(var(--width) * 1px);\n    --height-px: calc(var(--height) * 1px);\n    --fixed-width-px: min(var(--width-px), var(--attachment-max-width));\n    --fixed-height-px: min(var(--height-px), var(--attachment-max-height));\n    --aspect: calc(var(--width) / var(--height));\n    --aspect-width-px: calc(var(--fixed-height-px) * var(--aspect));\n    --aspect-height-px: calc(var(--fixed-width-px) * var(--aspect));\n    \n    aspect-ratio: var(--width) / var(--height);\n    \n    ${props => props.width > props.height && css`width: var(--fixed-width-px)`};\n    ${props => props.width <= props.height && css`\n        width: var(--aspect-width-px);\n        height: var(--fixed-height-px);\n    `};\n  \n    max-width: 100%;\n    \n    display: grid;\n\n    // This is a hack for browsers not supporting aspect-ratio.\n    // Stolen from https://codepen.io/una/pen/BazyaOM.\n    @supports not (\n        aspect-ratio: ${(props) => props.width} / ${(props) => props.height}\n    ) {\n        div::before {\n            float: left;\n            padding-top: ${(props) => (props.height / props.width) * 100}%;\n            content: \"\";\n        }\n\n        div::after {\n            display: block;\n            content: \"\";\n            clear: both;\n        }\n    }\n\n    img,\n    video {\n        grid-area: 1 / 1;\n\n        display: block;\n\n        max-width: 100%;\n        max-height: 100%;\n\n        overflow: hidden;\n\n        object-fit: contain;\n        \n        // It's something\n        object-position: left;\n    }\n\n    video {\n        width: 100%;\n        height: 100%;\n    }\n\n    &.spoiler {\n        img,\n        video {\n            filter: blur(44px);\n        }\n\n        border-radius: var(--border-radius);\n    }\n`;\n\nexport default Grid;\n\ntype Props = Omit<\n    JSX.HTMLAttributes<HTMLDivElement>,\n    \"children\" | \"as\" | \"style\"\n> & {\n    children?: Children;\n    width: number;\n    height: number;\n};\n\nexport function SizedGrid(props: Props) {\n    const { width, height, children, ...divProps } = props;\n\n    return (\n        <Grid {...divProps} width={width} height={height}>\n            {children}\n        </Grid>\n    );\n}\n","import styled from \"styled-components\";\n\nimport { Text } from \"preact-i18n\";\n\nconst Base = styled.div`\n    display: grid;\n    place-items: center;\n\n    z-index: 1;\n    grid-area: 1 / 1;\n\n    cursor: pointer;\n    user-select: none;\n    text-transform: uppercase;\n\n    span {\n        padding: 8px;\n        color: var(--foreground);\n        background: var(--primary-background);\n        border-radius: calc(var(--border-radius) * 4);\n    }\n`;\n\ninterface Props {\n    set: (v: boolean) => void;\n}\n\nexport default function Spoiler({ set }: Props) {\n    return (\n        <Base onClick={() => set(false)}>\n            <span>\n                <Text id=\"app.main.channel.misc.spoiler_attachment\" />\n            </span>\n        </Base>\n    );\n}\n","import { WifiOff } from \"@styled-icons/boxicons-regular\";\nimport styled from \"styled-components\";\n\nimport { Text } from \"preact-i18n\";\nimport { useContext } from \"preact/hooks\";\n\nimport Preloader from \"../../components/ui/Preloader\";\n\nimport { Children } from \"../../types/Preact\";\nimport { ClientStatus, StatusContext } from \"./RevoltClient\";\n\ninterface Props {\n    children: Children;\n}\n\nconst Base = styled.div`\n    gap: 16px;\n    padding: 1em;\n    display: flex;\n    user-select: none;\n    align-items: center;\n    flex-direction: row;\n    justify-content: center;\n    color: var(--tertiary-foreground);\n    background: var(--secondary-header);\n\n    > div {\n        font-size: 18px;\n    }\n`;\n\nexport default function RequiresOnline(props: Props) {\n    const status = useContext(StatusContext);\n\n    if (status === ClientStatus.CONNECTING) return <Preloader type=\"ring\" />;\n    if (status !== ClientStatus.ONLINE && status !== ClientStatus.READY)\n        return (\n            <Base>\n                <WifiOff size={16} />\n                <div>\n                    <Text id=\"app.special.requires_online\" />\n                </div>\n            </Base>\n        );\n\n    return <>{props.children}</>;\n}\n","import axios from \"axios\";\nimport { Attachment } from \"revolt-api/types/Autumn\";\n\nimport styles from \"./Attachment.module.scss\";\nimport { useContext, useEffect, useState } from \"preact/hooks\";\n\nimport RequiresOnline from \"../../../../context/revoltjs/RequiresOnline\";\nimport {\n    AppContext,\n    StatusContext,\n} from \"../../../../context/revoltjs/RevoltClient\";\n\nimport Preloader from \"../../../ui/Preloader\";\n\ninterface Props {\n    attachment: Attachment;\n}\n\nconst fileCache: { [key: string]: string } = {};\n\nexport default function TextFile({ attachment }: Props) {\n    const [content, setContent] = useState<undefined | string>(undefined);\n    const [loading, setLoading] = useState(false);\n    const status = useContext(StatusContext);\n    const client = useContext(AppContext);\n\n    const url = client.generateFileURL(attachment)!;\n\n    useEffect(() => {\n        if (typeof content !== \"undefined\") return;\n        if (loading) return;\n\n        if (attachment.size > 100_000) {\n            setContent(\n                \"This file is > 100 KB, for your sake I did not load it.\\nSee tracking issue here for previews: https://github.com/revoltchat/revite/issues/35\",\n            );\n            return;\n        }\n\n        setLoading(true);\n\n        const cached = fileCache[attachment._id];\n        if (cached) {\n            setContent(cached);\n            setLoading(false);\n        } else {\n            axios\n                .get(url, { transformResponse: [] })\n                .then((res) => {\n                    setContent(res.data);\n                    fileCache[attachment._id] = res.data;\n                    setLoading(false);\n                })\n                .catch(() => {\n                    console.error(\n                        \"Failed to load text file. [\",\n                        attachment._id,\n                        \"]\",\n                    );\n                    setLoading(false);\n                });\n        }\n    }, [content, loading, status, attachment._id, attachment.size, url]);\n\n    return (\n        <div\n            className={styles.textContent}\n            data-loading={typeof content === \"undefined\"}>\n            {content ? (\n                <pre>\n                    <code>{content}</code>\n                </pre>\n            ) : (\n                <RequiresOnline>\n                    <Preloader type=\"ring\" />\n                </RequiresOnline>\n            )}\n        </div>\n    );\n}\n","import { Attachment } from \"revolt-api/types/Autumn\";\n\nimport styles from \"./Attachment.module.scss\";\nimport classNames from \"classnames\";\nimport { useContext, useState } from \"preact/hooks\";\n\nimport { useIntermediate } from \"../../../../context/intermediate/Intermediate\";\nimport { AppContext } from \"../../../../context/revoltjs/RevoltClient\";\n\nenum ImageLoadingState {\n    Loading,\n    Loaded,\n    Error\n}\n\ntype Props = JSX.HTMLAttributes<HTMLImageElement> & {\n    attachment: Attachment;\n}\n\nexport default function ImageFile({ attachment, ...props }: Props) {\n    const [loading, setLoading] = useState(ImageLoadingState.Loading);\n    const client = useContext(AppContext);\n    const { openScreen } = useIntermediate();\n    const url = client.generateFileURL(attachment)!;\n\n    return <img\n        {...props}\n        src={url}\n        alt={attachment.filename}\n        loading=\"lazy\"\n        className={classNames(styles.image, {\n            [styles.loading]: loading !== ImageLoadingState.Loaded\n        })}\n        onClick={() =>\n            openScreen({ id: \"image_viewer\", attachment })\n        }\n        onMouseDown={(ev) =>\n            ev.button === 1 && window.open(url, \"_blank\")\n        }\n        onLoad={() =>\n            setLoading(ImageLoadingState.Loaded)\n        }\n        onError={() =>\n            setLoading(ImageLoadingState.Error)\n        }\n    />\n}\n","import { Attachment as AttachmentI } from \"revolt-api/types/Autumn\";\n\nimport styles from \"./Attachment.module.scss\";\nimport classNames from \"classnames\";\nimport { useContext, useState } from \"preact/hooks\";\n\nimport { useIntermediate } from \"../../../../context/intermediate/Intermediate\";\nimport { AppContext } from \"../../../../context/revoltjs/RevoltClient\";\n\nimport AttachmentActions from \"./AttachmentActions\";\nimport { SizedGrid } from \"./Grid\";\nimport Spoiler from \"./Spoiler\";\nimport TextFile from \"./TextFile\";\nimport ImageFile from \"./ImageFile\";\n\ninterface Props {\n    attachment: AttachmentI;\n    hasContent: boolean;\n}\n\nconst MAX_ATTACHMENT_WIDTH = 480;\n\nexport default function Attachment({ attachment, hasContent }: Props) {\n    const client = useContext(AppContext);\n    const { filename, metadata } = attachment;\n    const [spoiler, setSpoiler] = useState(filename.startsWith(\"SPOILER_\"));\n\n    const url = client.generateFileURL(\n        attachment,\n        { width: MAX_ATTACHMENT_WIDTH * 1.5 },\n        true,\n    );\n\n    switch (metadata.type) {\n        case \"Image\": {\n            return (\n                <SizedGrid\n                    width={metadata.width}\n                    height={metadata.height}\n                    className={classNames({\n                        [styles.margin]: hasContent,\n                        spoiler,\n                    })}>\n                    <ImageFile attachment={attachment} width={metadata.width} height={metadata.height} />\n                    {spoiler && <Spoiler set={setSpoiler} />}\n                </SizedGrid>\n            );\n        }\n\n        case \"Video\": {\n            return (\n                <div\n                    className={classNames(styles.container, {\n                        [styles.margin]: hasContent,\n                    })}\n                    style={{ \"--width\": `${metadata.width}px` }}>\n                    <AttachmentActions attachment={attachment} />\n                    <SizedGrid\n                        width={metadata.width}\n                        height={metadata.height}\n                        className={classNames({ spoiler })}>\n                        <video\n                            src={url}\n                            alt={filename}\n                            controls\n                            loading=\"lazy\"\n                            width={metadata.width}\n                            height={metadata.height}\n                            onMouseDown={(ev) =>\n                                ev.button === 1 && window.open(url, \"_blank\")\n                            }\n                        />\n                        {spoiler && <Spoiler set={setSpoiler} />}\n                    </SizedGrid>\n                </div>\n            );\n        }\n\n        case \"Audio\": {\n            return (\n                <div\n                    className={classNames(styles.attachment, styles.audio)}\n                    data-has-content={hasContent}>\n                    <AttachmentActions attachment={attachment} />\n                    <audio src={url} controls />\n                </div>\n            );\n        }\n\n        case \"Text\": {\n            return (\n                <div\n                    className={classNames(styles.attachment, styles.text)}\n                    data-has-content={hasContent}>\n                    <TextFile attachment={attachment} />\n                    <AttachmentActions attachment={attachment} />\n                </div>\n            );\n        }\n\n        default: {\n            return (\n                <div\n                    className={classNames(styles.attachment, styles.file)}\n                    data-has-content={hasContent}>\n                    <AttachmentActions attachment={attachment} />\n                </div>\n            );\n        }\n    }\n}\n","import { runInAction } from \"mobx\";\n\nimport { noopAsync } from \"../../js\";\nimport { SMOOTH_SCROLL_ON_RECEIVE } from \"../Singleton\";\nimport { RendererRoutines } from \"../types\";\n\nexport const SimpleRenderer: RendererRoutines = {\n    init: async (renderer, nearby, smooth) => {\n        if (renderer.channel.client.websocket.connected) {\n            if (nearby)\n                renderer.channel\n                    .fetchMessagesWithUsers({ nearby, limit: 100 })\n                    .then(({ messages }) => {\n                        messages.sort((a, b) => a._id.localeCompare(b._id));\n\n                        runInAction(() => {\n                            renderer.state = \"RENDER\";\n                            renderer.messages = messages;\n                            renderer.atTop = false;\n                            renderer.atBottom = false;\n\n                            renderer.emitScroll({\n                                type: \"ScrollToView\",\n                                id: nearby,\n                            });\n                        });\n                    });\n            else\n                renderer.channel\n                    .fetchMessagesWithUsers({})\n                    .then(({ messages }) => {\n                        messages.reverse();\n\n                        runInAction(() => {\n                            renderer.state = \"RENDER\";\n                            renderer.messages = messages;\n                            renderer.atTop = messages.length < 50;\n                            renderer.atBottom = true;\n\n                            renderer.emitScroll({\n                                type: \"ScrollToBottom\",\n                                smooth,\n                            });\n                        });\n                    });\n        } else {\n            runInAction(() => {\n                renderer.state = \"WAITING_FOR_NETWORK\";\n            });\n        }\n    },\n    receive: async (renderer, message) => {\n        if (message.channel_id !== renderer.channel._id) return;\n        if (renderer.state !== \"RENDER\") return;\n        if (renderer.messages.find((x) => x._id === message._id)) return;\n        if (!renderer.atBottom) return;\n\n        let messages = [...renderer.messages, message];\n        let atTop = renderer.atTop;\n        if (messages.length > 150) {\n            messages = messages.slice(messages.length - 150);\n            atTop = false;\n        }\n\n        runInAction(() => {\n            renderer.messages = messages;\n            renderer.atTop = atTop;\n\n            renderer.emitScroll({\n                type: \"StayAtBottom\",\n                smooth: SMOOTH_SCROLL_ON_RECEIVE,\n            });\n        });\n    },\n    edit: async (renderer) => {\n        renderer.emitScroll({\n            type: \"StayAtBottom\",\n            smooth: false,\n        });\n    },\n    delete: async (renderer, id) => {\n        const channel = renderer.channel;\n        if (!channel) return;\n        if (renderer.state !== \"RENDER\") return;\n\n        const index = renderer.messages.findIndex((x) => x._id === id);\n\n        if (index > -1) {\n            runInAction(() => {\n                renderer.messages.splice(index, 1);\n                renderer.emitScroll({ type: \"StayAtBottom\" });\n            });\n        }\n    },\n    loadTop: async (renderer, generateScroll) => {\n        const channel = renderer.channel;\n        if (!channel) return true;\n\n        if (renderer.state !== \"RENDER\") return true;\n        if (renderer.atTop) return true;\n\n        const { messages: data } =\n            await renderer.channel.fetchMessagesWithUsers({\n                before: renderer.messages[0]._id,\n            });\n\n        runInAction(() => {\n            if (data.length === 0) {\n                renderer.atTop = true;\n                return;\n            }\n\n            data.reverse();\n            renderer.messages = [...data, ...renderer.messages];\n\n            if (data.length < 50) {\n                renderer.atTop = true;\n            }\n\n            if (renderer.messages.length > 150) {\n                renderer.messages = renderer.messages.slice(0, 150);\n                renderer.atBottom = false;\n            }\n\n            renderer.emitScroll(\n                generateScroll(\n                    renderer.messages[renderer.messages.length - 1]._id,\n                ),\n            );\n        });\n    },\n    loadBottom: async (renderer, generateScroll) => {\n        const channel = renderer.channel;\n        if (!channel) return true;\n\n        if (renderer.state !== \"RENDER\") return true;\n        if (renderer.atBottom) return true;\n\n        const { messages: data } =\n            await renderer.channel.fetchMessagesWithUsers({\n                after: renderer.messages[renderer.messages.length - 1]._id,\n                sort: \"Oldest\",\n            });\n\n        runInAction(() => {\n            if (data.length === 0) {\n                renderer.atBottom = true;\n                return;\n            }\n\n            renderer.messages.splice(renderer.messages.length, 0, ...data);\n\n            if (data.length < 50) {\n                renderer.atBottom = true;\n            }\n\n            if (renderer.messages.length > 150) {\n                renderer.messages.splice(0, renderer.messages.length - 150);\n                renderer.atTop = false;\n            }\n\n            renderer.emitScroll(generateScroll(renderer.messages[0]._id));\n        });\n    },\n};\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport { action, makeAutoObservable } from \"mobx\";\nimport { Channel } from \"revolt.js/dist/maps/Channels\";\nimport { Message } from \"revolt.js/dist/maps/Messages\";\nimport { Nullable } from \"revolt.js/dist/util/null\";\n\nimport { SimpleRenderer } from \"./simple/SimpleRenderer\";\nimport { RendererRoutines, ScrollState } from \"./types\";\n\nexport const SMOOTH_SCROLL_ON_RECEIVE = false;\n\nexport class ChannelRenderer {\n    channel: Channel;\n\n    state: \"LOADING\" | \"WAITING_FOR_NETWORK\" | \"EMPTY\" | \"RENDER\" = \"LOADING\";\n    scrollState: ScrollState = { type: \"ScrollToBottom\" };\n    atTop: Nullable<boolean> = null;\n    atBottom: Nullable<boolean> = null;\n    messages: Message[] = [];\n\n    currentRenderer: RendererRoutines = SimpleRenderer;\n\n    stale = false;\n    fetching = false;\n    scrollPosition = 0;\n    scrollAnchored = false;\n\n    constructor(channel: Channel) {\n        this.channel = channel;\n\n        makeAutoObservable(this, {\n            channel: false,\n            currentRenderer: false,\n            scrollPosition: false,\n            scrollAnchored: false,\n        });\n\n        this.receive = this.receive.bind(this);\n        this.edit = this.edit.bind(this);\n        this.delete = this.delete.bind(this);\n\n        const client = this.channel.client;\n        client.addListener(\"message\", this.receive);\n        client.addListener(\"message/update\", this.edit);\n        client.addListener(\"message/delete\", this.delete);\n    }\n\n    destroy() {\n        const client = this.channel.client;\n        client.removeListener(\"message\", this.receive);\n        client.removeListener(\"message/update\", this.edit);\n        client.removeListener(\"message/delete\", this.delete);\n    }\n\n    private receive(message: Message) {\n        this.currentRenderer.receive(this, message);\n    }\n\n    private edit(id: string, patch: Partial<Message>) {\n        this.currentRenderer.edit(this, id, patch);\n    }\n\n    private delete(id: string) {\n        this.currentRenderer.delete(this, id);\n    }\n\n    @action async init(message_id?: string) {\n        if (message_id) {\n            if (this.state === \"RENDER\") {\n                const message = this.messages.find((x) => x._id === message_id);\n\n                if (message) {\n                    this.emitScroll({\n                        type: \"ScrollToView\",\n                        id: message_id,\n                    });\n\n                    return;\n                }\n            }\n        }\n\n        this.stale = false;\n        this.state = \"LOADING\";\n        this.currentRenderer.init(this, message_id);\n    }\n\n    @action emitScroll(state: ScrollState) {\n        this.scrollState = state;\n    }\n\n    @action markStale() {\n        this.stale = true;\n    }\n\n    @action complete() {\n        this.fetching = false;\n    }\n\n    async reloadStale() {\n        if (this.stale) {\n            this.stale = false;\n            await this.init();\n        }\n    }\n\n    async loadTop(ref?: HTMLDivElement) {\n        if (this.fetching) return;\n        this.fetching = true;\n\n        function generateScroll(end: string): ScrollState {\n            if (ref) {\n                let heightRemoved = 0,\n                    removing = false;\n                const messageContainer = ref.children[0];\n                if (messageContainer) {\n                    for (const child of Array.from(messageContainer.children)) {\n                        // If this child has a ulid, check whether it was removed.\n                        if (\n                            removing ||\n                            (child.id?.length === 26 &&\n                                child.id.localeCompare(end) === 1)\n                        ) {\n                            removing = true;\n                            heightRemoved +=\n                                child.clientHeight +\n                                // We also need to take into account the top margin of the container.\n                                parseInt(\n                                    window\n                                        .getComputedStyle(child)\n                                        .marginTop.slice(0, -2),\n                                    10,\n                                );\n                        }\n                    }\n                }\n\n                return {\n                    type: \"OffsetTop\",\n                    previousHeight: ref.scrollHeight - heightRemoved,\n                };\n            }\n            return {\n                type: \"OffsetTop\",\n                previousHeight: 0,\n            };\n        }\n\n        if (await this.currentRenderer.loadTop(this, generateScroll)) {\n            this.fetching = false;\n        }\n    }\n\n    async loadBottom(ref?: HTMLDivElement) {\n        if (this.fetching) return;\n        this.fetching = true;\n\n        function generateScroll(start: string): ScrollState {\n            if (ref) {\n                let heightRemoved = 0,\n                    removing = true;\n                const messageContainer = ref.children[0];\n                if (messageContainer) {\n                    for (const child of Array.from(messageContainer.children)) {\n                        // If this child has a ulid check whether it was removed.\n                        if (\n                            removing /* ||\n                            (child.id?.length === 26 &&\n                                child.id.localeCompare(start) === -1)*/\n                        ) {\n                            heightRemoved +=\n                                child.clientHeight +\n                                // We also need to take into account the top margin of the container.\n                                parseInt(\n                                    window\n                                        .getComputedStyle(child)\n                                        .marginTop.slice(0, -2),\n                                    10,\n                                );\n                        }\n\n                        if (\n                            child.id?.length === 26 &&\n                            child.id.localeCompare(start) !== -1\n                        )\n                            removing = false;\n                    }\n                }\n\n                return {\n                    type: \"ScrollTop\",\n                    y: ref.scrollTop - heightRemoved,\n                };\n            }\n            return {\n                type: \"ScrollToBottom\",\n            };\n        }\n\n        if (await this.currentRenderer.loadBottom(this, generateScroll)) {\n            this.fetching = false;\n        }\n    }\n\n    async jumpToBottom(smooth: boolean) {\n        if (this.state === \"RENDER\" && this.atBottom) {\n            this.emitScroll({ type: \"ScrollToBottom\", smooth });\n        } else {\n            await this.currentRenderer.init(this, undefined, true);\n        }\n    }\n}\n\nconst renderers: Record<string, ChannelRenderer> = {};\n\nexport function getRenderer(channel: Channel) {\n    let renderer = renderers[channel._id];\n    if (!renderer) {\n        renderer = new ChannelRenderer(channel);\n        renderers[channel._id] = renderer;\n    }\n\n    return renderer;\n}\n","import {\n    InfoCircle,\n    UserPlus,\n    UserMinus,\n    ArrowToRight,\n    ArrowToLeft,\n    UserX,\n    ShieldX,\n    EditAlt,\n    Edit,\n    MessageSquareEdit,\n} from \"@styled-icons/boxicons-solid\";\nimport { observer } from \"mobx-react-lite\";\nimport { SystemMessage as SystemMessageI } from \"revolt-api/types/Channels\";\nimport { Message } from \"revolt.js/dist/maps/Messages\";\nimport styled from \"styled-components\";\n\nimport { attachContextMenu } from \"preact-context-menu\";\n\nimport { TextReact } from \"../../../lib/i18n\";\n\nimport UserShort from \"../user/UserShort\";\nimport MessageBase, { MessageDetail, MessageInfo } from \"./MessageBase\";\n\nconst SystemContent = styled.div`\n    gap: 4px;\n    display: flex;\n    padding: 2px 0;\n    flex-wrap: wrap;\n    align-items: center;\n    flex-direction: row;\n`;\n\ninterface Props {\n    attachContext?: boolean;\n    message: Message;\n    highlight?: boolean;\n    hideInfo?: boolean;\n}\n\nconst iconDictionary = {\n    user_added: UserPlus,\n    user_remove: UserMinus,\n    user_joined: ArrowToRight,\n    user_left: ArrowToLeft,\n    user_kicked: UserX,\n    user_banned: ShieldX,\n    channel_renamed: EditAlt,\n    channel_description_changed: Edit,\n    channel_icon_changed: MessageSquareEdit,\n    text: InfoCircle,\n};\n\nexport const SystemMessage = observer(\n    ({ attachContext, message, highlight, hideInfo }: Props) => {\n        const data = message.asSystemMessage;\n        const SystemMessageIcon =\n            iconDictionary[data.type as SystemMessageI[\"type\"]] ?? InfoCircle;\n\n        let children;\n        switch (data.type) {\n            case \"text\":\n                children = <span>{data.content}</span>;\n                break;\n            case \"user_added\":\n            case \"user_remove\":\n                children = (\n                    <TextReact\n                        id={`app.main.channel.system.${\n                            data.type === \"user_added\"\n                                ? \"added_by\"\n                                : \"removed_by\"\n                        }`}\n                        fields={{\n                            user: <UserShort user={data.user} />,\n                            other_user: <UserShort user={data.by} />,\n                        }}\n                    />\n                );\n                break;\n            case \"user_joined\":\n            case \"user_left\":\n            case \"user_kicked\":\n            case \"user_banned\":\n                children = (\n                    <TextReact\n                        id={`app.main.channel.system.${data.type}`}\n                        fields={{\n                            user: <UserShort user={data.user} />,\n                        }}\n                    />\n                );\n                break;\n            case \"channel_renamed\":\n                children = (\n                    <TextReact\n                        id={`app.main.channel.system.channel_renamed`}\n                        fields={{\n                            user: <UserShort user={data.by} />,\n                            name: <b>{data.name}</b>,\n                        }}\n                    />\n                );\n                break;\n            case \"channel_description_changed\":\n            case \"channel_icon_changed\":\n                children = (\n                    <TextReact\n                        id={`app.main.channel.system.${data.type}`}\n                        fields={{\n                            user: <UserShort user={data.by} />,\n                        }}\n                    />\n                );\n                break;\n        }\n\n        return (\n            <MessageBase\n                highlight={highlight}\n                onContextMenu={\n                    attachContext\n                        ? attachContextMenu(\"Menu\", {\n                              message,\n                              contextualChannel: message.channel,\n                          })\n                        : undefined\n                }>\n                {!hideInfo && (\n                    <MessageInfo>\n                        <MessageDetail message={message} position=\"left\" />\n                        <SystemMessageIcon className=\"systemIcon\" />\n                    </MessageInfo>\n                )}\n                <SystemContent>{children}</SystemContent>\n            </MessageBase>\n        );\n    },\n);\n","import { Reply } from \"@styled-icons/boxicons-regular\";\nimport { File } from \"@styled-icons/boxicons-solid\";\nimport { observer } from \"mobx-react-lite\";\nimport { useHistory } from \"react-router-dom\";\nimport { RelationshipStatus } from \"revolt-api/types/Users\";\nimport { Channel } from \"revolt.js/dist/maps/Channels\";\nimport { Message } from \"revolt.js/dist/maps/Messages\";\nimport styled, { css } from \"styled-components\";\n\nimport { Text } from \"preact-i18n\";\nimport { useLayoutEffect, useState } from \"preact/hooks\";\n\nimport { getRenderer } from \"../../../../lib/renderer/Singleton\";\n\nimport Markdown from \"../../../markdown/Markdown\";\nimport UserShort from \"../../user/UserShort\";\nimport { SystemMessage } from \"../SystemMessage\";\n\ninterface Props {\n    parent_mentions: string[];\n    channel: Channel;\n    index: number;\n    id: string;\n}\n\nexport const ReplyBase = styled.div<{\n    head?: boolean;\n    fail?: boolean;\n    preview?: boolean;\n}>`\n    gap: 4px;\n    min-width: 0;\n    display: flex;\n    margin-inline-start: 30px;\n    margin-inline-end: 12px;\n    font-size: 0.8em;\n    user-select: none;\n    align-items: center;\n    color: var(--secondary-foreground);\n\n    /* nizune's Discord replies,\n        does not scale properly with messages,\n        reverted temporarily\n    &::before {\n        content: \"\";\n        height: 10px;\n        width: 28px;\n        margin-inline-end: 2px;\n        align-self: flex-end;\n        display: flex;\n        border-top: 2.2px solid var(--tertiary-foreground);\n        border-inline-start: 2.2px solid var(--tertiary-foreground);\n        border-start-start-radius: 6px;\n    }*/\n\n    * {\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n\n    .user {\n        gap: 6px;\n        display: flex;\n        flex-shrink: 0;\n        font-weight: 600;\n        overflow: visible;\n        align-items: center;\n        padding: 2px 0;\n\n        span {\n            cursor: pointer;\n            &:hover {\n                text-decoration: underline;\n            }\n        }\n\n        /*&::before {\n            position:relative;\n            width: 50px;\n            height: 2px;\n            background: red;\n        }*/\n    }\n\n    .content {\n        padding: 2px 0;\n        gap: 4px;\n        display: flex;\n        cursor: pointer;\n        align-items: center;\n        flex-direction: row;\n        transition: filter 1s ease-in-out;\n        transition: transform ease-in-out 0.1s;\n        filter: brightness(1);\n\n        &:hover {\n            filter: brightness(2);\n        }\n\n        &:active {\n            transform: translateY(1px);\n        }\n\n        > * {\n            pointer-events: none;\n        }\n\n        /*> span > p {\n            display: flex;\n        }*/\n    }\n\n    > svg:first-child {\n        flex-shrink: 0;\n        transform: scaleX(-1);\n        color: var(--tertiary-foreground);\n    }\n\n    ${(props) =>\n        props.fail &&\n        css`\n            color: var(--tertiary-foreground);\n        `}\n\n    ${(props) =>\n        props.head &&\n        css`\n            margin-top: 12px;\n        `}\n\n    ${(props) =>\n        props.preview &&\n        css`\n            margin-left: 0;\n        `}\n`;\n\nexport const MessageReply = observer(\n    ({ index, channel, id, parent_mentions }: Props) => {\n        const view = getRenderer(channel);\n        if (view.state !== \"RENDER\") return null;\n\n        const [message, setMessage] = useState<Message | undefined>(undefined);\n\n        useLayoutEffect(() => {\n            const message = channel.client.messages.get(id);\n            if (message) {\n                setMessage(message);\n            } else {\n                channel.fetchMessage(id).then(setMessage);\n            }\n        }, [id, channel, view.messages]);\n\n        if (!message) {\n            return (\n                <ReplyBase head={index === 0} fail>\n                    <Reply size={16} />\n                    <span>\n                        <Text id=\"app.main.channel.misc.failed_load\" />\n                    </span>\n                </ReplyBase>\n            );\n        }\n\n        const history = useHistory();\n\n        return (\n            <ReplyBase head={index === 0}>\n                <Reply size={16} />\n                {message.author?.relationship === RelationshipStatus.Blocked ? (\n                    <Text id=\"app.main.channel.misc.blocked_user\" />\n                ) : (\n                    <>\n                        {message.author_id === \"00000000000000000000000000\" ? (\n                            <SystemMessage message={message} hideInfo />\n                        ) : (\n                            <>\n                                <div className=\"user\">\n                                    <UserShort\n                                        user={message.author}\n                                        size={16}\n                                        showServerIdentity\n                                        prefixAt={parent_mentions.includes(\n                                            message.author_id,\n                                        )}\n                                    />\n                                </div>\n                                <div\n                                    className=\"content\"\n                                    onClick={() => {\n                                        const channel = message.channel!;\n                                        if (\n                                            channel.channel_type ===\n                                            \"TextChannel\"\n                                        ) {\n                                            history.push(\n                                                `/server/${channel.server_id}/channel/${channel._id}/${message._id}`,\n                                            );\n                                        } else {\n                                            history.push(\n                                                `/channel/${channel._id}/${message._id}`,\n                                            );\n                                        }\n                                    }}>\n                                    {message.attachments && (\n                                        <>\n                                            <File size={16} />\n                                            <em>\n                                                {message.attachments.length >\n                                                1 ? (\n                                                    <Text id=\"app.main.channel.misc.sent_multiple_files\" />\n                                                ) : (\n                                                    <Text id=\"app.main.channel.misc.sent_file\" />\n                                                )}\n                                            </em>\n                                        </>\n                                    )}\n                                    <Markdown\n                                        disallowBigEmoji\n                                        content={(\n                                            message.content as string\n                                        ).replace(/\\n/g, \" \")}\n                                    />\n                                </div>\n                            </>\n                        )}\n                    </>\n                )}\n            </ReplyBase>\n        );\n    },\n);\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lodash = require('lodash.throttle');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _passiveEventListeners = require('./passive-event-listeners');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// The eventHandler will execute at a rate of 15fps by default\nvar eventThrottler = function eventThrottler(eventHandler) {\n  var throttleAmount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 66;\n  return (0, _lodash2.default)(eventHandler, throttleAmount);\n};\n\nvar scrollSpy = {\n\n  spyCallbacks: [],\n  spySetState: [],\n  scrollSpyContainers: [],\n\n  mount: function mount(scrollSpyContainer, throttle) {\n    if (scrollSpyContainer) {\n      var eventHandler = eventThrottler(function (event) {\n        scrollSpy.scrollHandler(scrollSpyContainer);\n      }, throttle);\n      scrollSpy.scrollSpyContainers.push(scrollSpyContainer);\n      (0, _passiveEventListeners.addPassiveEventListener)(scrollSpyContainer, 'scroll', eventHandler);\n    }\n  },\n  isMounted: function isMounted(scrollSpyContainer) {\n    return scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer) !== -1;\n  },\n  currentPositionX: function currentPositionX(scrollSpyContainer) {\n    if (scrollSpyContainer === document) {\n      var supportPageOffset = window.pageYOffset !== undefined;\n      var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n      return supportPageOffset ? window.pageXOffset : isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft;\n    } else {\n      return scrollSpyContainer.scrollLeft;\n    }\n  },\n  currentPositionY: function currentPositionY(scrollSpyContainer) {\n    if (scrollSpyContainer === document) {\n      var supportPageOffset = window.pageXOffset !== undefined;\n      var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n      return supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;\n    } else {\n      return scrollSpyContainer.scrollTop;\n    }\n  },\n  scrollHandler: function scrollHandler(scrollSpyContainer) {\n    var callbacks = scrollSpy.scrollSpyContainers[scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer)].spyCallbacks || [];\n    callbacks.forEach(function (c) {\n      return c(scrollSpy.currentPositionX(scrollSpyContainer), scrollSpy.currentPositionY(scrollSpyContainer));\n    });\n  },\n  addStateHandler: function addStateHandler(handler) {\n    scrollSpy.spySetState.push(handler);\n  },\n  addSpyHandler: function addSpyHandler(handler, scrollSpyContainer) {\n    var container = scrollSpy.scrollSpyContainers[scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer)];\n\n    if (!container.spyCallbacks) {\n      container.spyCallbacks = [];\n    }\n\n    container.spyCallbacks.push(handler);\n\n    handler(scrollSpy.currentPositionX(scrollSpyContainer), scrollSpy.currentPositionY(scrollSpyContainer));\n  },\n  updateStates: function updateStates() {\n    scrollSpy.spySetState.forEach(function (s) {\n      return s();\n    });\n  },\n  unmount: function unmount(stateHandler, spyHandler) {\n    scrollSpy.scrollSpyContainers.forEach(function (c) {\n      return c.spyCallbacks && c.spyCallbacks.length && c.spyCallbacks.splice(c.spyCallbacks.indexOf(spyHandler), 1);\n    });\n\n    if (scrollSpy.spySetState && scrollSpy.spySetState.length) {\n      scrollSpy.spySetState.splice(scrollSpy.spySetState.indexOf(stateHandler), 1);\n    }\n\n    document.removeEventListener('scroll', scrollSpy.scrollHandler);\n  },\n\n\n  update: function update() {\n    return scrollSpy.scrollSpyContainers.forEach(function (c) {\n      return scrollSpy.scrollHandler(c);\n    });\n  }\n};\n\nexports.default = scrollSpy;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/*\r\n * Tell the browser that the event listener won't prevent a scroll.\r\n * Allowing the browser to continue scrolling without having to\r\n * to wait for the listener to return.\r\n */\nvar addPassiveEventListener = exports.addPassiveEventListener = function addPassiveEventListener(target, eventName, listener) {\n  var supportsPassiveOption = function () {\n    var supportsPassiveOption = false;\n    try {\n      var opts = Object.defineProperty({}, 'passive', {\n        get: function get() {\n          supportsPassiveOption = true;\n        }\n      });\n      window.addEventListener('test', null, opts);\n    } catch (e) {}\n    return supportsPassiveOption;\n  }();\n  target.addEventListener(eventName, listener, supportsPassiveOption ? { passive: true } : false);\n};\n\nvar removePassiveEventListener = exports.removePassiveEventListener = function removePassiveEventListener(target, eventName, listener) {\n  target.removeEventListener(eventName, listener);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar updateHash = function updateHash(hash, historyUpdate) {\n  var hashVal = hash.indexOf(\"#\") === 0 ? hash.substring(1) : hash;\n  var hashToUpdate = hashVal ? \"#\" + hashVal : \"\";\n  var curLoc = window && window.location;\n  var urlToPush = hashToUpdate ? curLoc.pathname + curLoc.search + hashToUpdate : curLoc.pathname + curLoc.search;\n  historyUpdate ? history.pushState(null, \"\", urlToPush) : history.replaceState(null, \"\", urlToPush);\n};\n\nvar getHash = function getHash() {\n  return window.location.hash.replace(/^#/, \"\");\n};\n\nvar filterElementInContainer = function filterElementInContainer(container) {\n  return function (element) {\n    return container.contains ? container != element && container.contains(element) : !!(container.compareDocumentPosition(element) & 16);\n  };\n};\n\nvar isPositioned = function isPositioned(element) {\n  return getComputedStyle(element).position !== \"static\";\n};\n\nvar getElementOffsetInfoUntil = function getElementOffsetInfoUntil(element, predicate) {\n  var offsetTop = element.offsetTop;\n  var currentOffsetParent = element.offsetParent;\n\n  while (currentOffsetParent && !predicate(currentOffsetParent)) {\n    offsetTop += currentOffsetParent.offsetTop;\n    currentOffsetParent = currentOffsetParent.offsetParent;\n  }\n\n  return { offsetTop: offsetTop, offsetParent: currentOffsetParent };\n};\n\nvar scrollOffset = function scrollOffset(c, t, horizontal) {\n  if (horizontal) {\n    return c === document ? t.getBoundingClientRect().left + (window.scrollX || window.pageXOffset) : getComputedStyle(c).position !== \"static\" ? t.offsetLeft : t.offsetLeft - c.offsetLeft;\n  } else {\n    if (c === document) {\n      return t.getBoundingClientRect().top + (window.scrollY || window.pageYOffset);\n    }\n\n    // The offsetParent of an element, according to MDN, is its nearest positioned\n    // (an element whose position is anything other than static) ancestor. The offsetTop\n    // of an element is taken with respect to its offsetParent which may not neccessarily\n    // be its parentElement except the parent itself is positioned.\n\n    // So if containerElement is positioned, then it must be an offsetParent somewhere\n    // If it happens that targetElement is a descendant of the containerElement, and there\n    // is not intermediate positioned element between the two of them, i.e.\n    // targetElement\"s offsetParent is the same as the containerElement, then the\n    // distance between the two will be the offsetTop of the targetElement.\n    // If, on the other hand, there are intermediate positioned elements between the\n    // two entities, the distance between the targetElement and the containerElement\n    // will be the accumulation of the offsetTop of the element and that of its\n    // subsequent offsetParent until the containerElement is reached, since it\n    // will also be an offsetParent at some point due to the fact that it is positioned.\n\n    // If the containerElement is not positioned, then it can\"t be an offsetParent,\n    // which means that the offsetTop of the targetElement would not be with respect to it.\n    // However, if the two of them happen to have the same offsetParent, then\n    // the distance between them will be the difference between their offsetTop\n    // since they are both taken with respect to the same entity.\n    // The last resort would be to accumulate their offsetTop until a common\n    // offsetParent is reached (usually the document) and taking the difference\n    // between the accumulated offsetTops\n\n    if (isPositioned(c)) {\n      if (t.offsetParent !== c) {\n        var isContainerElementOrDocument = function isContainerElementOrDocument(e) {\n          return e === c || e === document;\n        };\n\n        var _getElementOffsetInfo = getElementOffsetInfoUntil(t, isContainerElementOrDocument),\n            offsetTop = _getElementOffsetInfo.offsetTop,\n            offsetParent = _getElementOffsetInfo.offsetParent;\n\n        if (offsetParent !== c) {\n          throw new Error(\"Seems containerElement is not an ancestor of the Element\");\n        }\n\n        return offsetTop;\n      }\n\n      return t.offsetTop;\n    }\n\n    if (t.offsetParent === c.offsetParent) {\n      return t.offsetTop - c.offsetTop;\n    }\n\n    var isDocument = function isDocument(e) {\n      return e === document;\n    };\n    return getElementOffsetInfoUntil(t, isDocument).offsetTop - getElementOffsetInfoUntil(c, isDocument).offsetTop;\n  }\n};\n\nexports.default = {\n  updateHash: updateHash,\n  getHash: getHash,\n  filterElementInContainer: filterElementInContainer,\n  scrollOffset: scrollOffset\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  /*\r\n   * https://github.com/oblador/angular-scroll (duScrollDefaultEasing)\r\n   */\n  defaultEasing: function defaultEasing(x) {\n    if (x < 0.5) {\n      return Math.pow(x * 2, 2) / 2;\n    }\n    return 1 - Math.pow((1 - x) * 2, 2) / 2;\n  },\n  /*\r\n   * https://gist.github.com/gre/1650294\r\n   */\n  // no easing, no acceleration\n  linear: function linear(x) {\n    return x;\n  },\n  // accelerating from zero velocity\n  easeInQuad: function easeInQuad(x) {\n    return x * x;\n  },\n  // decelerating to zero velocity\n  easeOutQuad: function easeOutQuad(x) {\n    return x * (2 - x);\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuad: function easeInOutQuad(x) {\n    return x < .5 ? 2 * x * x : -1 + (4 - 2 * x) * x;\n  },\n  // accelerating from zero velocity \n  easeInCubic: function easeInCubic(x) {\n    return x * x * x;\n  },\n  // decelerating to zero velocity π\n  easeOutCubic: function easeOutCubic(x) {\n    return --x * x * x + 1;\n  },\n  // acceleration until halfway, then deceleration \n  easeInOutCubic: function easeInOutCubic(x) {\n    return x < .5 ? 4 * x * x * x : (x - 1) * (2 * x - 2) * (2 * x - 2) + 1;\n  },\n  // accelerating from zero velocity \n  easeInQuart: function easeInQuart(x) {\n    return x * x * x * x;\n  },\n  // decelerating to zero velocity \n  easeOutQuart: function easeOutQuart(x) {\n    return 1 - --x * x * x * x;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuart: function easeInOutQuart(x) {\n    return x < .5 ? 8 * x * x * x * x : 1 - 8 * --x * x * x * x;\n  },\n  // accelerating from zero velocity\n  easeInQuint: function easeInQuint(x) {\n    return x * x * x * x * x;\n  },\n  // decelerating to zero velocity\n  easeOutQuint: function easeOutQuint(x) {\n    return 1 + --x * x * x * x * x;\n  },\n  // acceleration until halfway, then deceleration \n  easeInOutQuint: function easeInOutQuint(x) {\n    return x < .5 ? 16 * x * x * x * x * x : 1 + 16 * --x * x * x * x * x;\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _passiveEventListeners = require('./passive-event-listeners');\n\nvar events = ['mousedown', 'mousewheel', 'touchmove', 'keydown'];\n\nexports.default = {\n  subscribe: function subscribe(cancelEvent) {\n    return typeof document !== 'undefined' && events.forEach(function (event) {\n      return (0, _passiveEventListeners.addPassiveEventListener)(document, event, cancelEvent);\n    });\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar Events = {\n\tregistered: {},\n\tscrollEvent: {\n\t\tregister: function register(evtName, callback) {\n\t\t\tEvents.registered[evtName] = callback;\n\t\t},\n\t\tremove: function remove(evtName) {\n\t\t\tEvents.registered[evtName] = null;\n\t\t}\n\t}\n};\n\nexports.default = Events;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _smooth = require('./smooth');\n\nvar _smooth2 = _interopRequireDefault(_smooth);\n\nvar _cancelEvents = require('./cancel-events');\n\nvar _cancelEvents2 = _interopRequireDefault(_cancelEvents);\n\nvar _scrollEvents = require('./scroll-events');\n\nvar _scrollEvents2 = _interopRequireDefault(_scrollEvents);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * Gets the easing type from the smooth prop within options.\r\n */\nvar getAnimationType = function getAnimationType(options) {\n  return _smooth2.default[options.smooth] || _smooth2.default.defaultEasing;\n};\n/*\r\n * Function helper\r\n */\nvar functionWrapper = function functionWrapper(value) {\n  return typeof value === 'function' ? value : function () {\n    return value;\n  };\n};\n/*\r\n * Wraps window properties to allow server side rendering\r\n */\nvar currentWindowProperties = function currentWindowProperties() {\n  if (typeof window !== 'undefined') {\n    return window.requestAnimationFrame || window.webkitRequestAnimationFrame;\n  }\n};\n\n/*\r\n * Helper function to never extend 60fps on the webpage.\r\n */\nvar requestAnimationFrameHelper = function () {\n  return currentWindowProperties() || function (callback, element, delay) {\n    window.setTimeout(callback, delay || 1000 / 60, new Date().getTime());\n  };\n}();\n\nvar makeData = function makeData() {\n  return {\n    currentPosition: 0,\n    startPosition: 0,\n    targetPosition: 0,\n    progress: 0,\n    duration: 0,\n    cancel: false,\n\n    target: null,\n    containerElement: null,\n    to: null,\n    start: null,\n    delta: null,\n    percent: null,\n    delayTimeout: null\n  };\n};\n\nvar currentPositionX = function currentPositionX(options) {\n  var containerElement = options.data.containerElement;\n  if (containerElement && containerElement !== document && containerElement !== document.body) {\n    return containerElement.scrollLeft;\n  } else {\n    var supportPageOffset = window.pageXOffset !== undefined;\n    var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n    return supportPageOffset ? window.pageXOffset : isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft;\n  }\n};\n\nvar currentPositionY = function currentPositionY(options) {\n  var containerElement = options.data.containerElement;\n  if (containerElement && containerElement !== document && containerElement !== document.body) {\n    return containerElement.scrollTop;\n  } else {\n    var supportPageOffset = window.pageXOffset !== undefined;\n    var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n    return supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;\n  }\n};\n\nvar scrollContainerWidth = function scrollContainerWidth(options) {\n  var containerElement = options.data.containerElement;\n  if (containerElement && containerElement !== document && containerElement !== document.body) {\n    return containerElement.scrollWidth - containerElement.offsetWidth;\n  } else {\n    var body = document.body;\n    var html = document.documentElement;\n\n    return Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth);\n  }\n};\n\nvar scrollContainerHeight = function scrollContainerHeight(options) {\n  var containerElement = options.data.containerElement;\n  if (containerElement && containerElement !== document && containerElement !== document.body) {\n    return containerElement.scrollHeight - containerElement.offsetHeight;\n  } else {\n    var body = document.body;\n    var html = document.documentElement;\n\n    return Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n  }\n};\n\nvar animateScroll = function animateScroll(easing, options, timestamp) {\n  var data = options.data;\n\n  // Cancel on specific events\n  if (!options.ignoreCancelEvents && data.cancel) {\n    if (_scrollEvents2.default.registered['end']) {\n      _scrollEvents2.default.registered['end'](data.to, data.target, data.currentPositionY);\n    }\n    return;\n  };\n\n  data.delta = Math.round(data.targetPosition - data.startPosition);\n\n  if (data.start === null) {\n    data.start = timestamp;\n  }\n\n  data.progress = timestamp - data.start;\n\n  data.percent = data.progress >= data.duration ? 1 : easing(data.progress / data.duration);\n\n  data.currentPosition = data.startPosition + Math.ceil(data.delta * data.percent);\n\n  if (data.containerElement && data.containerElement !== document && data.containerElement !== document.body) {\n    if (options.horizontal) {\n      data.containerElement.scrollLeft = data.currentPosition;\n    } else {\n      data.containerElement.scrollTop = data.currentPosition;\n    }\n  } else {\n    if (options.horizontal) {\n      window.scrollTo(data.currentPosition, 0);\n    } else {\n      window.scrollTo(0, data.currentPosition);\n    }\n  }\n\n  if (data.percent < 1) {\n    var easedAnimate = animateScroll.bind(null, easing, options);\n    requestAnimationFrameHelper.call(window, easedAnimate);\n    return;\n  }\n\n  if (_scrollEvents2.default.registered['end']) {\n    _scrollEvents2.default.registered['end'](data.to, data.target, data.currentPosition);\n  }\n};\n\nvar setContainer = function setContainer(options) {\n  options.data.containerElement = !options ? null : options.containerId ? document.getElementById(options.containerId) : options.container && options.container.nodeType ? options.container : document;\n};\n\nvar animateTopScroll = function animateTopScroll(scrollOffset, options, to, target) {\n  options.data = options.data || makeData();\n\n  window.clearTimeout(options.data.delayTimeout);\n\n  _cancelEvents2.default.subscribe(function () {\n    options.data.cancel = true;\n  });\n\n  setContainer(options);\n\n  options.data.start = null;\n  options.data.cancel = false;\n  options.data.startPosition = options.horizontal ? currentPositionX(options) : currentPositionY(options);\n  options.data.targetPosition = options.absolute ? scrollOffset : scrollOffset + options.data.startPosition;\n\n  if (options.data.startPosition === options.data.targetPosition) {\n    if (_scrollEvents2.default.registered['end']) {\n      _scrollEvents2.default.registered['end'](options.data.to, options.data.target, options.data.currentPosition);\n    }\n    return;\n  }\n\n  options.data.delta = Math.round(options.data.targetPosition - options.data.startPosition);\n\n  options.data.duration = functionWrapper(options.duration)(options.data.delta);\n  options.data.duration = isNaN(parseFloat(options.data.duration)) ? 1000 : parseFloat(options.data.duration);\n  options.data.to = to;\n  options.data.target = target;\n\n  var easing = getAnimationType(options);\n  var easedAnimate = animateScroll.bind(null, easing, options);\n\n  if (options && options.delay > 0) {\n    options.data.delayTimeout = window.setTimeout(function () {\n      if (_scrollEvents2.default.registered['begin']) {\n        _scrollEvents2.default.registered['begin'](options.data.to, options.data.target);\n      }\n      requestAnimationFrameHelper.call(window, easedAnimate);\n    }, options.delay);\n    return;\n  }\n\n  if (_scrollEvents2.default.registered['begin']) {\n    _scrollEvents2.default.registered['begin'](options.data.to, options.data.target);\n  }\n  requestAnimationFrameHelper.call(window, easedAnimate);\n};\n\nvar proceedOptions = function proceedOptions(options) {\n  options = _extends({}, options);\n  options.data = options.data || makeData();\n  options.absolute = true;\n  return options;\n};\n\nvar scrollToTop = function scrollToTop(options) {\n  animateTopScroll(0, proceedOptions(options));\n};\n\nvar scrollTo = function scrollTo(toPosition, options) {\n  animateTopScroll(toPosition, proceedOptions(options));\n};\n\nvar scrollToBottom = function scrollToBottom(options) {\n  options = proceedOptions(options);\n  setContainer(options);\n  animateTopScroll(options.horizontal ? scrollContainerWidth(options) : scrollContainerHeight(options), options);\n};\n\nvar scrollMore = function scrollMore(toPosition, options) {\n  options = proceedOptions(options);\n  setContainer(options);\n  var currentPosition = options.horizontal ? currentPositionX(options) : currentPositionY(options);\n  animateTopScroll(toPosition + currentPosition, options);\n};\n\nexports.default = {\n  animateTopScroll: animateTopScroll,\n  getAnimationType: getAnimationType,\n  scrollToTop: scrollToTop,\n  scrollToBottom: scrollToBottom,\n  scrollTo: scrollTo,\n  scrollMore: scrollMore\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _animateScroll = require('./animate-scroll');\n\nvar _animateScroll2 = _interopRequireDefault(_animateScroll);\n\nvar _scrollEvents = require('./scroll-events');\n\nvar _scrollEvents2 = _interopRequireDefault(_scrollEvents);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __mapped = {};\nvar __activeLink = void 0;\n\nexports.default = {\n\n  unmount: function unmount() {\n    __mapped = {};\n  },\n\n  register: function register(name, element) {\n    __mapped[name] = element;\n  },\n\n  unregister: function unregister(name) {\n    delete __mapped[name];\n  },\n\n  get: function get(name) {\n    return __mapped[name] || document.getElementById(name) || document.getElementsByName(name)[0] || document.getElementsByClassName(name)[0];\n  },\n\n  setActiveLink: function setActiveLink(link) {\n    return __activeLink = link;\n  },\n\n  getActiveLink: function getActiveLink() {\n    return __activeLink;\n  },\n\n  scrollTo: function scrollTo(to, props) {\n\n    var target = this.get(to);\n\n    if (!target) {\n      console.warn(\"target Element not found\");\n      return;\n    }\n\n    props = _extends({}, props, { absolute: false });\n\n    var containerId = props.containerId;\n    var container = props.container;\n\n    var containerElement = void 0;\n    if (containerId) {\n      containerElement = document.getElementById(containerId);\n    } else if (container && container.nodeType) {\n      containerElement = container;\n    } else {\n      containerElement = document;\n    }\n\n    props.absolute = true;\n\n    var horizontal = props.horizontal;\n    var scrollOffset = _utils2.default.scrollOffset(containerElement, target, horizontal) + (props.offset || 0);\n\n    /*\r\n     * if animate is not provided just scroll into the view\r\n     */\n    if (!props.smooth) {\n      if (_scrollEvents2.default.registered['begin']) {\n        _scrollEvents2.default.registered['begin'](to, target);\n      }\n\n      if (containerElement === document) {\n        if (props.horizontal) {\n          window.scrollTo(scrollOffset, 0);\n        } else {\n          window.scrollTo(0, scrollOffset);\n        }\n      } else {\n        containerElement.scrollTop = scrollOffset;\n      }\n\n      if (_scrollEvents2.default.registered['end']) {\n        _scrollEvents2.default.registered['end'](to, target);\n      }\n\n      return;\n    }\n\n    /*\r\n     * Animate scrolling\r\n     */\n\n    _animateScroll2.default.animateTopScroll(scrollOffset, props, to, target);\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _passiveEventListeners = require('./passive-event-listeners');\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar scrollHash = {\n  mountFlag: false,\n  initialized: false,\n  scroller: null,\n  containers: {},\n\n  mount: function mount(scroller) {\n    this.scroller = scroller;\n\n    this.handleHashChange = this.handleHashChange.bind(this);\n    window.addEventListener('hashchange', this.handleHashChange);\n\n    this.initStateFromHash();\n    this.mountFlag = true;\n  },\n  mapContainer: function mapContainer(to, container) {\n    this.containers[to] = container;\n  },\n  isMounted: function isMounted() {\n    return this.mountFlag;\n  },\n  isInitialized: function isInitialized() {\n    return this.initialized;\n  },\n  initStateFromHash: function initStateFromHash() {\n    var _this = this;\n\n    var hash = this.getHash();\n    if (hash) {\n      window.setTimeout(function () {\n        _this.scrollTo(hash, true);\n        _this.initialized = true;\n      }, 10);\n    } else {\n      this.initialized = true;\n    }\n  },\n  scrollTo: function scrollTo(to, isInit) {\n    var scroller = this.scroller;\n    var element = scroller.get(to);\n    if (element && (isInit || to !== scroller.getActiveLink())) {\n      var container = this.containers[to] || document;\n      scroller.scrollTo(to, { container: container });\n    }\n  },\n  getHash: function getHash() {\n    return _utils2.default.getHash();\n  },\n  changeHash: function changeHash(to, saveHashHistory) {\n    if (this.isInitialized() && _utils2.default.getHash() !== to) {\n      _utils2.default.updateHash(to, saveHashHistory);\n    }\n  },\n  handleHashChange: function handleHashChange() {\n    this.scrollTo(this.getHash());\n  },\n  unmount: function unmount() {\n    this.scroller = null;\n    this.containers = null;\n    window.removeEventListener('hashchange', this.handleHashChange);\n  }\n};\n\nexports.default = scrollHash;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _scrollSpy = require('./scroll-spy');\n\nvar _scrollSpy2 = _interopRequireDefault(_scrollSpy);\n\nvar _scroller = require('./scroller');\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _scrollHash = require('./scroll-hash');\n\nvar _scrollHash2 = _interopRequireDefault(_scrollHash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar protoTypes = {\n  to: _propTypes2.default.string.isRequired,\n  containerId: _propTypes2.default.string,\n  container: _propTypes2.default.object,\n  activeClass: _propTypes2.default.string,\n  spy: _propTypes2.default.bool,\n  horizontal: _propTypes2.default.bool,\n  smooth: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.string]),\n  offset: _propTypes2.default.number,\n  delay: _propTypes2.default.number,\n  isDynamic: _propTypes2.default.bool,\n  onClick: _propTypes2.default.func,\n  duration: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.func]),\n  absolute: _propTypes2.default.bool,\n  onSetActive: _propTypes2.default.func,\n  onSetInactive: _propTypes2.default.func,\n  ignoreCancelEvents: _propTypes2.default.bool,\n  hashSpy: _propTypes2.default.bool,\n  saveHashHistory: _propTypes2.default.bool,\n  spyThrottle: _propTypes2.default.number\n};\n\nexports.default = function (Component, customScroller) {\n\n  var scroller = customScroller || _scroller2.default;\n\n  var Link = function (_React$PureComponent) {\n    _inherits(Link, _React$PureComponent);\n\n    function Link(props) {\n      _classCallCheck(this, Link);\n\n      var _this = _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).call(this, props));\n\n      _initialiseProps.call(_this);\n\n      _this.state = {\n        active: false\n      };\n      return _this;\n    }\n\n    _createClass(Link, [{\n      key: 'getScrollSpyContainer',\n      value: function getScrollSpyContainer() {\n        var containerId = this.props.containerId;\n        var container = this.props.container;\n\n        if (containerId && !container) {\n          return document.getElementById(containerId);\n        }\n\n        if (container && container.nodeType) {\n          return container;\n        }\n\n        return document;\n      }\n    }, {\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if (this.props.spy || this.props.hashSpy) {\n          var scrollSpyContainer = this.getScrollSpyContainer();\n\n          if (!_scrollSpy2.default.isMounted(scrollSpyContainer)) {\n            _scrollSpy2.default.mount(scrollSpyContainer, this.props.spyThrottle);\n          }\n\n          if (this.props.hashSpy) {\n            if (!_scrollHash2.default.isMounted()) {\n              _scrollHash2.default.mount(scroller);\n            }\n            _scrollHash2.default.mapContainer(this.props.to, scrollSpyContainer);\n          }\n\n          _scrollSpy2.default.addSpyHandler(this.spyHandler, scrollSpyContainer);\n\n          this.setState({\n            container: scrollSpyContainer\n          });\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        _scrollSpy2.default.unmount(this.stateHandler, this.spyHandler);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var className = \"\";\n\n        if (this.state && this.state.active) {\n          className = ((this.props.className || \"\") + \" \" + (this.props.activeClass || \"active\")).trim();\n        } else {\n          className = this.props.className;\n        }\n\n        var props = _extends({}, this.props);\n\n        for (var prop in protoTypes) {\n          if (props.hasOwnProperty(prop)) {\n            delete props[prop];\n          }\n        }\n\n        props.className = className;\n        props.onClick = this.handleClick;\n\n        return _react2.default.createElement(Component, props);\n      }\n    }]);\n\n    return Link;\n  }(_react2.default.PureComponent);\n\n  var _initialiseProps = function _initialiseProps() {\n    var _this2 = this;\n\n    this.scrollTo = function (to, props) {\n      scroller.scrollTo(to, _extends({}, _this2.state, props));\n    };\n\n    this.handleClick = function (event) {\n\n      /*\r\n       * give the posibility to override onClick\r\n       */\n\n      if (_this2.props.onClick) {\n        _this2.props.onClick(event);\n      }\n\n      /*\r\n       * dont bubble the navigation\r\n       */\n\n      if (event.stopPropagation) event.stopPropagation();\n      if (event.preventDefault) event.preventDefault();\n\n      /*\r\n       * do the magic!\r\n       */\n      _this2.scrollTo(_this2.props.to, _this2.props);\n    };\n\n    this.spyHandler = function (x, y) {\n      var scrollSpyContainer = _this2.getScrollSpyContainer();\n\n      if (_scrollHash2.default.isMounted() && !_scrollHash2.default.isInitialized()) {\n        return;\n      }\n\n      var horizontal = _this2.props.horizontal;\n\n      var to = _this2.props.to;\n      var element = null;\n      var isInside = void 0;\n      var isOutside = void 0;\n\n      if (horizontal) {\n        var elemLeftBound = 0;\n        var elemRightBound = 0;\n        var containerLeft = 0;\n\n        if (scrollSpyContainer.getBoundingClientRect) {\n          var containerCords = scrollSpyContainer.getBoundingClientRect();\n          containerLeft = containerCords.left;\n        }\n\n        if (!element || _this2.props.isDynamic) {\n          element = scroller.get(to);\n          if (!element) {\n            return;\n          }\n\n          var cords = element.getBoundingClientRect();\n          elemLeftBound = cords.left - containerLeft + x;\n          elemRightBound = elemLeftBound + cords.width;\n        }\n\n        var offsetX = x - _this2.props.offset;\n        isInside = offsetX >= Math.floor(elemLeftBound) && offsetX < Math.floor(elemRightBound);\n        isOutside = offsetX < Math.floor(elemLeftBound) || offsetX >= Math.floor(elemRightBound);\n      } else {\n        var elemTopBound = 0;\n        var elemBottomBound = 0;\n        var containerTop = 0;\n\n        if (scrollSpyContainer.getBoundingClientRect) {\n          var _containerCords = scrollSpyContainer.getBoundingClientRect();\n          containerTop = _containerCords.top;\n        }\n\n        if (!element || _this2.props.isDynamic) {\n          element = scroller.get(to);\n          if (!element) {\n            return;\n          }\n\n          var _cords = element.getBoundingClientRect();\n          elemTopBound = _cords.top - containerTop + y;\n          elemBottomBound = elemTopBound + _cords.height;\n        }\n\n        var offsetY = y - _this2.props.offset;\n        isInside = offsetY >= Math.floor(elemTopBound) && offsetY < Math.floor(elemBottomBound);\n        isOutside = offsetY < Math.floor(elemTopBound) || offsetY >= Math.floor(elemBottomBound);\n      }\n\n      var activeLink = scroller.getActiveLink();\n\n      if (isOutside) {\n        if (to === activeLink) {\n          scroller.setActiveLink(void 0);\n        }\n\n        if (_this2.props.hashSpy && _scrollHash2.default.getHash() === to) {\n          var _props$saveHashHistor = _this2.props.saveHashHistory,\n              saveHashHistory = _props$saveHashHistor === undefined ? false : _props$saveHashHistor;\n\n          _scrollHash2.default.changeHash(\"\", saveHashHistory);\n        }\n\n        if (_this2.props.spy && _this2.state.active) {\n          _this2.setState({ active: false });\n          _this2.props.onSetInactive && _this2.props.onSetInactive(to, element);\n        }\n      }\n\n      if (isInside && (activeLink !== to || _this2.state.active === false)) {\n        scroller.setActiveLink(to);\n\n        var _props$saveHashHistor2 = _this2.props.saveHashHistory,\n            _saveHashHistory = _props$saveHashHistor2 === undefined ? false : _props$saveHashHistor2;\n\n        _this2.props.hashSpy && _scrollHash2.default.changeHash(to, _saveHashHistory);\n\n        if (_this2.props.spy) {\n          _this2.setState({ active: true });\n          _this2.props.onSetActive && _this2.props.onSetActive(to, element);\n        }\n      }\n    };\n  };\n\n  ;\n\n  Link.propTypes = protoTypes;\n\n  Link.defaultProps = { offset: 0 };\n\n  return Link;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _scrollLink = require('../mixins/scroll-link');\n\nvar _scrollLink2 = _interopRequireDefault(_scrollLink);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LinkElement = function (_React$Component) {\n  _inherits(LinkElement, _React$Component);\n\n  function LinkElement() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LinkElement);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LinkElement.__proto__ || Object.getPrototypeOf(LinkElement)).call.apply(_ref, [this].concat(args))), _this), _this.render = function () {\n      return _react2.default.createElement(\n        'a',\n        _this.props,\n        _this.props.children\n      );\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  return LinkElement;\n}(_react2.default.Component);\n\n;\n\nexports.default = (0, _scrollLink2.default)(LinkElement);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _scrollLink = require('../mixins/scroll-link');\n\nvar _scrollLink2 = _interopRequireDefault(_scrollLink);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ButtonElement = function (_React$Component) {\n  _inherits(ButtonElement, _React$Component);\n\n  function ButtonElement() {\n    _classCallCheck(this, ButtonElement);\n\n    return _possibleConstructorReturn(this, (ButtonElement.__proto__ || Object.getPrototypeOf(ButtonElement)).apply(this, arguments));\n  }\n\n  _createClass(ButtonElement, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'input',\n        this.props,\n        this.props.children\n      );\n    }\n  }]);\n\n  return ButtonElement;\n}(_react2.default.Component);\n\n;\n\nexports.default = (0, _scrollLink2.default)(ButtonElement);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _scroller = require('./scroller');\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nexports.default = function (Component) {\n  var Element = function (_React$Component) {\n    _inherits(Element, _React$Component);\n\n    function Element(props) {\n      _classCallCheck(this, Element);\n\n      var _this = _possibleConstructorReturn(this, (Element.__proto__ || Object.getPrototypeOf(Element)).call(this, props));\n\n      _this.childBindings = {\n        domNode: null\n      };\n      return _this;\n    }\n\n    _createClass(Element, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if (typeof window === 'undefined') {\n          return false;\n        }\n        this.registerElems(this.props.name);\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps) {\n        if (this.props.name !== prevProps.name) {\n          this.registerElems(this.props.name);\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        if (typeof window === 'undefined') {\n          return false;\n        }\n        _scroller2.default.unregister(this.props.name);\n      }\n    }, {\n      key: 'registerElems',\n      value: function registerElems(name) {\n        _scroller2.default.register(name, this.childBindings.domNode);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return _react2.default.createElement(Component, _extends({}, this.props, { parentBindings: this.childBindings }));\n      }\n    }]);\n\n    return Element;\n  }(_react2.default.Component);\n\n  ;\n\n  Element.propTypes = {\n    name: _propTypes2.default.string,\n    id: _propTypes2.default.string\n  };\n\n  return Element;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _scrollElement = require('../mixins/scroll-element');\n\nvar _scrollElement2 = _interopRequireDefault(_scrollElement);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ElementWrapper = function (_React$Component) {\n  _inherits(ElementWrapper, _React$Component);\n\n  function ElementWrapper() {\n    _classCallCheck(this, ElementWrapper);\n\n    return _possibleConstructorReturn(this, (ElementWrapper.__proto__ || Object.getPrototypeOf(ElementWrapper)).apply(this, arguments));\n  }\n\n  _createClass(ElementWrapper, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      // Remove `parentBindings` from props\n      var newProps = _extends({}, this.props);\n      if (newProps.parentBindings) {\n        delete newProps.parentBindings;\n      }\n\n      return _react2.default.createElement(\n        'div',\n        _extends({}, newProps, { ref: function ref(el) {\n            _this2.props.parentBindings.domNode = el;\n          } }),\n        this.props.children\n      );\n    }\n  }]);\n\n  return ElementWrapper;\n}(_react2.default.Component);\n\n;\n\nElementWrapper.propTypes = {\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string\n};\n\nexports.default = (0, _scrollElement2.default)(ElementWrapper);","\"use strict\";\n\n/* DEPRECATED */\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar utils = require('./utils');\nvar scrollSpy = require('./scroll-spy');\nvar defaultScroller = require('./scroller');\nvar PropTypes = require('prop-types');\nvar scrollHash = require('./scroll-hash');\n\nvar protoTypes = {\n  to: PropTypes.string.isRequired,\n  containerId: PropTypes.string,\n  container: PropTypes.object,\n  activeClass: PropTypes.string,\n  spy: PropTypes.bool,\n  smooth: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  offset: PropTypes.number,\n  delay: PropTypes.number,\n  isDynamic: PropTypes.bool,\n  onClick: PropTypes.func,\n  duration: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  absolute: PropTypes.bool,\n  onSetActive: PropTypes.func,\n  onSetInactive: PropTypes.func,\n  ignoreCancelEvents: PropTypes.bool,\n  hashSpy: PropTypes.bool,\n  spyThrottle: PropTypes.number\n};\n\nvar Helpers = {\n  Scroll: function Scroll(Component, customScroller) {\n\n    console.warn(\"Helpers.Scroll is deprecated since v1.7.0\");\n\n    var scroller = customScroller || defaultScroller;\n\n    var Scroll = function (_React$Component) {\n      _inherits(Scroll, _React$Component);\n\n      function Scroll(props) {\n        _classCallCheck(this, Scroll);\n\n        var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, props));\n\n        _initialiseProps.call(_this);\n\n        _this.state = {\n          active: false\n        };\n        return _this;\n      }\n\n      _createClass(Scroll, [{\n        key: 'getScrollSpyContainer',\n        value: function getScrollSpyContainer() {\n          var containerId = this.props.containerId;\n          var container = this.props.container;\n\n          if (containerId) {\n            return document.getElementById(containerId);\n          }\n\n          if (container && container.nodeType) {\n            return container;\n          }\n\n          return document;\n        }\n      }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          if (this.props.spy || this.props.hashSpy) {\n            var scrollSpyContainer = this.getScrollSpyContainer();\n\n            if (!scrollSpy.isMounted(scrollSpyContainer)) {\n              scrollSpy.mount(scrollSpyContainer, this.props.spyThrottle);\n            }\n\n            if (this.props.hashSpy) {\n              if (!scrollHash.isMounted()) {\n                scrollHash.mount(scroller);\n              }\n              scrollHash.mapContainer(this.props.to, scrollSpyContainer);\n            }\n\n            if (this.props.spy) {\n              scrollSpy.addStateHandler(this.stateHandler);\n            }\n\n            scrollSpy.addSpyHandler(this.spyHandler, scrollSpyContainer);\n\n            this.setState({\n              container: scrollSpyContainer\n            });\n          }\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          scrollSpy.unmount(this.stateHandler, this.spyHandler);\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          var className = \"\";\n\n          if (this.state && this.state.active) {\n            className = ((this.props.className || \"\") + \" \" + (this.props.activeClass || \"active\")).trim();\n          } else {\n            className = this.props.className;\n          }\n\n          var props = _extends({}, this.props);\n\n          for (var prop in protoTypes) {\n            if (props.hasOwnProperty(prop)) {\n              delete props[prop];\n            }\n          }\n\n          props.className = className;\n          props.onClick = this.handleClick;\n\n          return React.createElement(Component, props);\n        }\n      }]);\n\n      return Scroll;\n    }(React.Component);\n\n    var _initialiseProps = function _initialiseProps() {\n      var _this2 = this;\n\n      this.scrollTo = function (to, props) {\n        scroller.scrollTo(to, _extends({}, _this2.state, props));\n      };\n\n      this.handleClick = function (event) {\n\n        /*\r\n         * give the posibility to override onClick\r\n         */\n\n        if (_this2.props.onClick) {\n          _this2.props.onClick(event);\n        }\n\n        /*\r\n         * dont bubble the navigation\r\n         */\n\n        if (event.stopPropagation) event.stopPropagation();\n        if (event.preventDefault) event.preventDefault();\n\n        /*\r\n         * do the magic!\r\n         */\n        _this2.scrollTo(_this2.props.to, _this2.props);\n      };\n\n      this.stateHandler = function () {\n        if (scroller.getActiveLink() !== _this2.props.to) {\n          if (_this2.state !== null && _this2.state.active && _this2.props.onSetInactive) {\n            _this2.props.onSetInactive();\n          }\n          _this2.setState({ active: false });\n        }\n      };\n\n      this.spyHandler = function (y) {\n\n        var scrollSpyContainer = _this2.getScrollSpyContainer();\n\n        if (scrollHash.isMounted() && !scrollHash.isInitialized()) {\n          return;\n        }\n\n        var to = _this2.props.to;\n        var element = null;\n        var elemTopBound = 0;\n        var elemBottomBound = 0;\n        var containerTop = 0;\n\n        if (scrollSpyContainer.getBoundingClientRect) {\n          var containerCords = scrollSpyContainer.getBoundingClientRect();\n          containerTop = containerCords.top;\n        }\n\n        if (!element || _this2.props.isDynamic) {\n          element = scroller.get(to);\n          if (!element) {\n            return;\n          }\n\n          var cords = element.getBoundingClientRect();\n          elemTopBound = cords.top - containerTop + y;\n          elemBottomBound = elemTopBound + cords.height;\n        }\n\n        var offsetY = y - _this2.props.offset;\n        var isInside = offsetY >= Math.floor(elemTopBound) && offsetY < Math.floor(elemBottomBound);\n        var isOutside = offsetY < Math.floor(elemTopBound) || offsetY >= Math.floor(elemBottomBound);\n        var activeLink = scroller.getActiveLink();\n\n        if (isOutside) {\n          if (to === activeLink) {\n            scroller.setActiveLink(void 0);\n          }\n\n          if (_this2.props.hashSpy && scrollHash.getHash() === to) {\n            scrollHash.changeHash();\n          }\n\n          if (_this2.props.spy && _this2.state.active) {\n            _this2.setState({ active: false });\n            _this2.props.onSetInactive && _this2.props.onSetInactive();\n          }\n\n          return scrollSpy.updateStates();\n        }\n\n        if (isInside && activeLink !== to) {\n          scroller.setActiveLink(to);\n\n          _this2.props.hashSpy && scrollHash.changeHash(to);\n\n          if (_this2.props.spy) {\n            _this2.setState({ active: true });\n            _this2.props.onSetActive && _this2.props.onSetActive(to);\n          }\n          return scrollSpy.updateStates();\n        }\n      };\n    };\n\n    ;\n\n    Scroll.propTypes = protoTypes;\n\n    Scroll.defaultProps = { offset: 0 };\n\n    return Scroll;\n  },\n  Element: function Element(Component) {\n\n    console.warn(\"Helpers.Element is deprecated since v1.7.0\");\n\n    var Element = function (_React$Component2) {\n      _inherits(Element, _React$Component2);\n\n      function Element(props) {\n        _classCallCheck(this, Element);\n\n        var _this3 = _possibleConstructorReturn(this, (Element.__proto__ || Object.getPrototypeOf(Element)).call(this, props));\n\n        _this3.childBindings = {\n          domNode: null\n        };\n        return _this3;\n      }\n\n      _createClass(Element, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          if (typeof window === 'undefined') {\n            return false;\n          }\n          this.registerElems(this.props.name);\n        }\n      }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n          if (this.props.name !== prevProps.name) {\n            this.registerElems(this.props.name);\n          }\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          if (typeof window === 'undefined') {\n            return false;\n          }\n          defaultScroller.unregister(this.props.name);\n        }\n      }, {\n        key: 'registerElems',\n        value: function registerElems(name) {\n          defaultScroller.register(name, this.childBindings.domNode);\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          return React.createElement(Component, _extends({}, this.props, { parentBindings: this.childBindings }));\n        }\n      }]);\n\n      return Element;\n    }(React.Component);\n\n    ;\n\n    Element.propTypes = {\n      name: PropTypes.string,\n      id: PropTypes.string\n    };\n\n    return Element;\n  }\n};\n\nmodule.exports = Helpers;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Helpers = exports.ScrollElement = exports.ScrollLink = exports.animateScroll = exports.scrollSpy = exports.Events = exports.scroller = exports.Element = exports.Button = exports.Link = undefined;\n\nvar _Link = require('./components/Link.js');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nvar _Button = require('./components/Button.js');\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _Element = require('./components/Element.js');\n\nvar _Element2 = _interopRequireDefault(_Element);\n\nvar _scroller = require('./mixins/scroller.js');\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nvar _scrollEvents = require('./mixins/scroll-events.js');\n\nvar _scrollEvents2 = _interopRequireDefault(_scrollEvents);\n\nvar _scrollSpy = require('./mixins/scroll-spy.js');\n\nvar _scrollSpy2 = _interopRequireDefault(_scrollSpy);\n\nvar _animateScroll = require('./mixins/animate-scroll.js');\n\nvar _animateScroll2 = _interopRequireDefault(_animateScroll);\n\nvar _scrollLink = require('./mixins/scroll-link.js');\n\nvar _scrollLink2 = _interopRequireDefault(_scrollLink);\n\nvar _scrollElement = require('./mixins/scroll-element.js');\n\nvar _scrollElement2 = _interopRequireDefault(_scrollElement);\n\nvar _Helpers = require('./mixins/Helpers.js');\n\nvar _Helpers2 = _interopRequireDefault(_Helpers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Link = _Link2.default;\nexports.Button = _Button2.default;\nexports.Element = _Element2.default;\nexports.scroller = _scroller2.default;\nexports.Events = _scrollEvents2.default;\nexports.scrollSpy = _scrollSpy2.default;\nexports.animateScroll = _animateScroll2.default;\nexports.ScrollLink = _scrollLink2.default;\nexports.ScrollElement = _scrollElement2.default;\nexports.Helpers = _Helpers2.default;\nexports.default = { Link: _Link2.default, Button: _Button2.default, Element: _Element2.default, scroller: _scroller2.default, Events: _scrollEvents2.default, scrollSpy: _scrollSpy2.default, animateScroll: _animateScroll2.default, ScrollLink: _scrollLink2.default, ScrollElement: _scrollElement2.default, Helpers: _Helpers2.default };","import { useRef, useState, useEffect, useCallback, useMemo } from 'react';\n\n// This of course could've been more streamlined with internal state instead of\n// refs, but then host hooks / components could not opt out of renders.\n// This could've been exported to its own module, but the current build doesn't\n// seem to work with module imports and I had no more time to spend on this...\nfunction useResolvedElement(subscriber, refOrElement) {\n  var callbackRefElement = useRef(null);\n  var lastReportRef = useRef(null);\n  var cleanupRef = useRef();\n  var callSubscriber = useCallback(function () {\n    var element = null;\n\n    if (callbackRefElement.current) {\n      element = callbackRefElement.current;\n    } else if (refOrElement) {\n      if (refOrElement instanceof HTMLElement) {\n        element = refOrElement;\n      } else {\n        element = refOrElement.current;\n      }\n    }\n\n    if (lastReportRef.current && lastReportRef.current.element === element && lastReportRef.current.reporter === callSubscriber) {\n      return;\n    }\n\n    if (cleanupRef.current) {\n      cleanupRef.current(); // Making sure the cleanup is not called accidentally multiple times.\n\n      cleanupRef.current = null;\n    }\n\n    lastReportRef.current = {\n      reporter: callSubscriber,\n      element: element\n    }; // Only calling the subscriber, if there's an actual element to report.\n\n    if (element) {\n      cleanupRef.current = subscriber(element);\n    }\n  }, [refOrElement, subscriber]); // On each render, we check whether a ref changed, or if we got a new raw\n  // element.\n\n  useEffect(function () {\n    // With this we're *technically* supporting cases where ref objects' current value changes, but only if there's a\n    // render accompanying that change as well.\n    // To guarantee we always have the right element, one must use the ref callback provided instead, but we support\n    // RefObjects to make the hook API more convenient in certain cases.\n    callSubscriber();\n  }, [callSubscriber]);\n  return useCallback(function (element) {\n    callbackRefElement.current = element;\n    callSubscriber();\n  }, [callSubscriber]);\n}\n\n// We're only using the first element of the size sequences, until future versions of the spec solidify on how\n// exactly it'll be used for fragments in multi-column scenarios:\n// From the spec:\n// > The box size properties are exposed as FrozenArray in order to support elements that have multiple fragments,\n// > which occur in multi-column scenarios. However the current definitions of content rect and border box do not\n// > mention how those boxes are affected by multi-column layout. In this spec, there will only be a single\n// > ResizeObserverSize returned in the FrozenArray, which will correspond to the dimensions of the first column.\n// > A future version of this spec will extend the returned FrozenArray to contain the per-fragment size information.\n// (https://drafts.csswg.org/resize-observer/#resize-observer-entry-interface)\n//\n// Also, testing these new box options revealed that in both Chrome and FF everything is returned in the callback,\n// regardless of the \"box\" option.\n// The spec states the following on this:\n// > This does not have any impact on which box dimensions are returned to the defined callback when the event\n// > is fired, it solely defines which box the author wishes to observe layout changes on.\n// (https://drafts.csswg.org/resize-observer/#resize-observer-interface)\n// I'm not exactly clear on what this means, especially when you consider a later section stating the following:\n// > This section is non-normative. An author may desire to observe more than one CSS box.\n// > In this case, author will need to use multiple ResizeObservers.\n// (https://drafts.csswg.org/resize-observer/#resize-observer-interface)\n// Which is clearly not how current browser implementations behave, and seems to contradict the previous quote.\n// For this reason I decided to only return the requested size,\n// even though it seems we have access to results for all box types.\n// This also means that we get to keep the current api, being able to return a simple { width, height } pair,\n// regardless of box option.\nvar extractSize = function extractSize(entry, boxProp, sizeType) {\n  if (!entry[boxProp]) {\n    if (boxProp === \"contentBoxSize\") {\n      // The dimensions in `contentBoxSize` and `contentRect` are equivalent according to the spec.\n      // See the 6th step in the description for the RO algorithm:\n      // https://drafts.csswg.org/resize-observer/#create-and-populate-resizeobserverentry-h\n      // > Set this.contentRect to logical this.contentBoxSize given target and observedBox of \"content-box\".\n      // In real browser implementations of course these objects differ, but the width/height values should be equivalent.\n      return entry.contentRect[sizeType === \"inlineSize\" ? \"width\" : \"height\"];\n    }\n\n    return undefined;\n  } // A couple bytes smaller than calling Array.isArray() and just as effective here.\n\n\n  return entry[boxProp][0] ? entry[boxProp][0][sizeType] : // TS complains about this, because the RO entry type follows the spec and does not reflect Firefox's current\n  // behaviour of returning objects instead of arrays for `borderBoxSize` and `contentBoxSize`.\n  // @ts-ignore\n  entry[boxProp][sizeType];\n};\n\nfunction useResizeObserver(opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  // Saving the callback as a ref. With this, I don't need to put onResize in the\n  // effect dep array, and just passing in an anonymous function without memoising\n  // will not reinstantiate the hook's ResizeObserver.\n  var onResize = opts.onResize;\n  var onResizeRef = useRef(undefined);\n  onResizeRef.current = onResize;\n  var round = opts.round || Math.round; // Using a single instance throughout the hook's lifetime\n\n  var resizeObserverRef = useRef();\n\n  var _useState = useState({\n    width: undefined,\n    height: undefined\n  }),\n      size = _useState[0],\n      setSize = _useState[1]; // In certain edge cases the RO might want to report a size change just after\n  // the component unmounted.\n\n\n  var didUnmount = useRef(false);\n  useEffect(function () {\n    return function () {\n      didUnmount.current = true;\n    };\n  }, []); // Using a ref to track the previous width / height to avoid unnecessary renders.\n\n  var previous = useRef({\n    width: undefined,\n    height: undefined\n  }); // This block is kinda like a useEffect, only it's called whenever a new\n  // element could be resolved based on the ref option. It also has a cleanup\n  // function.\n\n  var refCallback = useResolvedElement(useCallback(function (element) {\n    // We only use a single Resize Observer instance, and we're instantiating it on demand, only once there's something to observe.\n    // This instance is also recreated when the `box` option changes, so that a new observation is fired if there was a previously observed element with a different box option.\n    if (!resizeObserverRef.current || resizeObserverRef.current.box !== opts.box || resizeObserverRef.current.round !== round) {\n      resizeObserverRef.current = {\n        box: opts.box,\n        round: round,\n        instance: new ResizeObserver(function (entries) {\n          var entry = entries[0];\n          var boxProp = opts.box === \"border-box\" ? \"borderBoxSize\" : opts.box === \"device-pixel-content-box\" ? \"devicePixelContentBoxSize\" : \"contentBoxSize\";\n          var reportedWidth = extractSize(entry, boxProp, \"inlineSize\");\n          var reportedHeight = extractSize(entry, boxProp, \"blockSize\");\n          var newWidth = reportedWidth ? round(reportedWidth) : undefined;\n          var newHeight = reportedHeight ? round(reportedHeight) : undefined;\n\n          if (previous.current.width !== newWidth || previous.current.height !== newHeight) {\n            var newSize = {\n              width: newWidth,\n              height: newHeight\n            };\n            previous.current.width = newWidth;\n            previous.current.height = newHeight;\n\n            if (onResizeRef.current) {\n              onResizeRef.current(newSize);\n            } else {\n              if (!didUnmount.current) {\n                setSize(newSize);\n              }\n            }\n          }\n        })\n      };\n    }\n\n    resizeObserverRef.current.instance.observe(element, {\n      box: opts.box\n    });\n    return function () {\n      if (resizeObserverRef.current) {\n        resizeObserverRef.current.instance.unobserve(element);\n      }\n    };\n  }, [opts.box, round]), opts.ref);\n  return useMemo(function () {\n    return {\n      ref: refCallback,\n      width: size.width,\n      height: size.height\n    };\n  }, [refCallback, size ? size.width : null, size ? size.height : null]);\n}\n\nexport { useResizeObserver as default };\n","export const defer = (cb: () => void) => setTimeout(cb, 0);\n","import { observer } from \"mobx-react-lite\";\nimport { Channel } from \"revolt.js/dist/maps/Channels\";\nimport styled from \"styled-components\";\n\nimport { Text } from \"preact-i18n\";\n\nimport { getChannelName } from \"../../../context/revoltjs/util\";\n\nconst StartBase = styled.div`\n    margin: 18px 16px 10px 16px;\n\n    h1 {\n        font-size: 23px;\n        margin: 0 0 8px 0;\n    }\n\n    h4 {\n        font-weight: 400;\n        margin: 0;\n        font-size: 14px;\n    }\n`;\n\ninterface Props {\n    channel: Channel;\n}\n\nexport default observer(({ channel }: Props) => {\n    return (\n        <StartBase>\n            <h1>{getChannelName(channel, true)}</h1>\n            <h4>\n                <Text id=\"app.main.channel.start.group\" />\n            </h4>\n        </StartBase>\n    );\n});\n","import styled, { css } from \"styled-components\";\n\nimport { dayjs } from \"../../context/Locale\";\n\nconst Base = styled.div<{ unread?: boolean }>`\n    height: 0;\n    display: flex;\n    user-select: none;\n    align-items: center;\n    margin: 17px 12px 5px;\n    border-top: thin solid var(--tertiary-foreground);\n\n    time {\n        margin-top: -2px;\n        font-size: 0.6875rem;\n        line-height: 0.6875rem;\n        padding: 2px 0 2px 0;\n        padding-inline-end: 5px;\n        color: var(--tertiary-foreground);\n        background: var(--primary-background);\n    }\n\n    ${(props) =>\n        props.unread &&\n        css`\n            border-top: thin solid var(--accent);\n        `}\n`;\n\nconst Unread = styled.div`\n    background: var(--accent);\n    color: white;\n    padding: 5px 8px;\n    border-radius: 60px;\n    font-weight: 600;\n`;\n\ninterface Props {\n    date: Date;\n    unread?: boolean;\n}\n\nexport default function DateDivider(props: Props) {\n    return (\n        <Base unread={props.unread}>\n            {props.unread && <Unread>NEW</Unread>}\n            <time>{dayjs(props.date).format(\"LL\")}</time>\n        </Base>\n    );\n}\n","import styled, { css } from \"styled-components\";\n\nexport interface TextAreaProps {\n    code?: boolean;\n    padding?: string;\n    lineHeight?: string;\n    hideBorder?: boolean;\n}\n\nexport const TEXT_AREA_BORDER_WIDTH = 2;\nexport const DEFAULT_TEXT_AREA_PADDING = 16;\nexport const DEFAULT_LINE_HEIGHT = 20;\n\nexport default styled.textarea<TextAreaProps>`\n    width: 100%;\n    resize: none;\n    display: block;\n    color: var(--foreground);\n    background: var(--secondary-background);\n    padding: ${(props) => props.padding ?? \"var(--textarea-padding)\"};\n    line-height: ${(props) =>\n        props.lineHeight ?? \"var(--textarea-line-height)\"};\n\n    ${(props) =>\n        props.hideBorder &&\n        css`\n            border: none;\n        `}\n\n    ${(props) =>\n        !props.hideBorder &&\n        css`\n            border-radius: var(--border-radius);\n            transition: border-color 0.2s ease-in-out;\n            border: var(--input-border-width) solid transparent;\n        `}\n\n    &:focus {\n        outline: none;\n\n        ${(props) =>\n            !props.hideBorder &&\n            css`\n                border: var(--input-border-width) solid var(--accent);\n            `}\n    }\n\n    ${(props) =>\n        props.code\n            ? css`\n                  font-family: var(--monospace-font), monospace;\n              `\n            : css`\n                  font-family: inherit;\n              `}\n\n    font-variant-ligatures: var(--ligatures);\n`;\n","import styled from \"styled-components\";\n\nimport { RefObject } from \"preact\";\nimport { useEffect, useLayoutEffect, useRef } from \"preact/hooks\";\n\nimport TextArea, { TextAreaProps } from \"../components/ui/TextArea\";\n\nimport { internalSubscribe } from \"./eventEmitter\";\nimport { isTouchscreenDevice } from \"./isTouchscreenDevice\";\n\ntype TextAreaAutoSizeProps = Omit<\n    JSX.HTMLAttributes<HTMLTextAreaElement>,\n    \"style\" | \"value\" | \"onChange\" | \"children\" | \"as\"\n> &\n    TextAreaProps & {\n        forceFocus?: boolean;\n        autoFocus?: boolean;\n        minHeight?: number;\n        maxRows?: number;\n        value: string;\n\n        id?: string;\n\n        onChange?: (ev: JSX.TargetedEvent<HTMLTextAreaElement, Event>) => void;\n    };\n\nconst Container = styled.div`\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n`;\n\nconst Ghost = styled.div<{ lineHeight: string; maxRows: number }>`\n    flex: 0;\n    width: 100%;\n    overflow: hidden;\n    visibility: hidden;\n    position: relative;\n\n    > div {\n        width: 100%;\n        white-space: pre-wrap;\n        word-break: break-all;\n\n        top: 0;\n        position: absolute;\n        font-size: var(--text-size);\n        line-height: ${(props) => props.lineHeight};\n\n        max-height: calc(\n            calc(${(props) => props.lineHeight} * ${(props) => props.maxRows})\n        );\n    }\n`;\n\nexport default function TextAreaAutoSize(props: TextAreaAutoSizeProps) {\n    const {\n        autoFocus,\n        minHeight,\n        maxRows,\n        value,\n        padding,\n        lineHeight,\n        hideBorder,\n        forceFocus,\n        onChange,\n        ...textAreaProps\n    } = props;\n\n    const ref = useRef<HTMLTextAreaElement>() as RefObject<HTMLTextAreaElement>;\n    const ghost = useRef<HTMLDivElement>() as RefObject<HTMLDivElement>;\n\n    useLayoutEffect(() => {\n        if (ref.current && ghost.current) {\n            ref.current.style.height = `${ghost.current.clientHeight}px`;\n        }\n    }, [ghost, props.value]);\n\n    useEffect(() => {\n        if (isTouchscreenDevice) return;\n        autoFocus && ref.current && ref.current.focus();\n    }, [value, autoFocus]);\n\n    const inputSelected = () =>\n        [\"TEXTAREA\", \"INPUT\"].includes(document.activeElement?.nodeName ?? \"\");\n\n    useEffect(() => {\n        if (!ref.current) return;\n        if (forceFocus) {\n            ref.current.focus();\n        }\n\n        if (isTouchscreenDevice) return;\n        if (autoFocus && !inputSelected()) {\n            ref.current.focus();\n        }\n\n        // ? if you are wondering what this is\n        // ? it is a quick and dirty hack to fix\n        // ? value not setting correctly\n        // ? I have no clue what's going on\n        // ref.current.value = value;\n        // * commented out of 30-08-21\n        // * hopefully nothing breaks :v\n\n        if (!autoFocus) return;\n        function keyDown(e: KeyboardEvent) {\n            if ((e.ctrlKey && e.key !== \"v\") || e.altKey || e.metaKey) return;\n            if (e.key.length !== 1) return;\n            if (ref && !inputSelected()) {\n                ref.current!.focus();\n            }\n        }\n\n        document.body.addEventListener(\"keydown\", keyDown);\n        return () => document.body.removeEventListener(\"keydown\", keyDown);\n    }, [ref, autoFocus, forceFocus, value]);\n\n    useEffect(() => {\n        if (!ref.current) return;\n        function focus(id: string) {\n            if (id === props.id) {\n                ref.current!.focus();\n            }\n        }\n\n        return internalSubscribe(\n            \"TextArea\",\n            \"focus\",\n            focus as (...args: unknown[]) => void,\n        );\n    }, [props.id, ref]);\n\n    return (\n        <Container>\n            <TextArea\n                ref={ref}\n                value={value}\n                padding={padding}\n                style={{ minHeight }}\n                hideBorder={hideBorder}\n                lineHeight={lineHeight}\n                onChange={(ev) => {\n                    onChange && onChange(ev);\n                }}\n                {...textAreaProps}\n            />\n            <Ghost\n                lineHeight={lineHeight ?? \"var(--textarea-line-height)\"}\n                maxRows={maxRows ?? 5}>\n                <div ref={ghost} style={{ padding }}>\n                    {props.value\n                        ? props.value\n                              .split(\"\\n\")\n                              .map((x) => `\\u200e${x}`)\n                              .join(\"\\n\")\n                        : undefined ?? \"‎\\n\"}\n                </div>\n            </Ghost>\n        </Container>\n    );\n}\n","export const emojiDictionary = {\n    100: \"💯\",\n    1234: \"🔢\",\n    grinning: \"😀\",\n    smiley: \"😃\",\n    smile: \"😄\",\n    grin: \"😁\",\n    laughing: \"😆\",\n    satisfied: \"😆\",\n    sweat_smile: \"😅\",\n    rofl: \"🤣\",\n    joy: \"😂\",\n    slightly_smiling_face: \"🙂\",\n    upside_down_face: \"🙃\",\n    wink: \"😉\",\n    blush: \"😊\",\n    innocent: \"😇\",\n    smiling_face_with_three_hearts: \"🥰\",\n    heart_eyes: \"😍\",\n    star_struck: \"🤩\",\n    kissing_heart: \"😘\",\n    kissing: \"😗\",\n    relaxed: \"☺️\",\n    kissing_closed_eyes: \"😚\",\n    kissing_smiling_eyes: \"😙\",\n    smiling_face_with_tear: \"🥲\",\n    yum: \"😋\",\n    stuck_out_tongue: \"😛\",\n    stuck_out_tongue_winking_eye: \"😜\",\n    zany_face: \"🤪\",\n    stuck_out_tongue_closed_eyes: \"😝\",\n    money_mouth_face: \"🤑\",\n    hugs: \"🤗\",\n    hand_over_mouth: \"🤭\",\n    shushing_face: \"🤫\",\n    thinking: \"🤔\",\n    zipper_mouth_face: \"🤐\",\n    raised_eyebrow: \"🤨\",\n    neutral_face: \"😐\",\n    expressionless: \"😑\",\n    no_mouth: \"😶\",\n    smirk: \"😏\",\n    unamused: \"😒\",\n    roll_eyes: \"🙄\",\n    grimacing: \"😬\",\n    lying_face: \"🤥\",\n    relieved: \"😌\",\n    pensive: \"😔\",\n    sleepy: \"😪\",\n    drooling_face: \"🤤\",\n    sleeping: \"😴\",\n    mask: \"😷\",\n    face_with_thermometer: \"🤒\",\n    face_with_head_bandage: \"🤕\",\n    nauseated_face: \"🤢\",\n    vomiting_face: \"🤮\",\n    sneezing_face: \"🤧\",\n    hot_face: \"🥵\",\n    cold_face: \"🥶\",\n    woozy_face: \"🥴\",\n    dizzy_face: \"😵\",\n    exploding_head: \"🤯\",\n    cowboy_hat_face: \"🤠\",\n    partying_face: \"🥳\",\n    disguised_face: \"🥸\",\n    sunglasses: \"😎\",\n    nerd_face: \"🤓\",\n    monocle_face: \"🧐\",\n    confused: \"😕\",\n    worried: \"😟\",\n    slightly_frowning_face: \"🙁\",\n    frowning_face: \"☹️\",\n    open_mouth: \"😮\",\n    hushed: \"😯\",\n    astonished: \"😲\",\n    flushed: \"😳\",\n    pleading_face: \"🥺\",\n    frowning: \"😦\",\n    anguished: \"😧\",\n    fearful: \"😨\",\n    cold_sweat: \"😰\",\n    disappointed_relieved: \"😥\",\n    cry: \"😢\",\n    sob: \"😭\",\n    scream: \"😱\",\n    confounded: \"😖\",\n    persevere: \"😣\",\n    disappointed: \"😞\",\n    sweat: \"😓\",\n    weary: \"😩\",\n    tired_face: \"😫\",\n    yawning_face: \"🥱\",\n    triumph: \"😤\",\n    rage: \"😡\",\n    pout: \"😡\",\n    angry: \"😠\",\n    cursing_face: \"🤬\",\n    smiling_imp: \"😈\",\n    imp: \"👿\",\n    skull: \"💀\",\n    skull_and_crossbones: \"☠️\",\n    hankey: \"💩\",\n    poop: \"💩\",\n    shit: \"💩\",\n    clown_face: \"🤡\",\n    japanese_ogre: \"👹\",\n    japanese_goblin: \"👺\",\n    ghost: \"👻\",\n    alien: \"👽\",\n    space_invader: \"👾\",\n    robot: \"🤖\",\n    smiley_cat: \"😺\",\n    smile_cat: \"😸\",\n    joy_cat: \"😹\",\n    heart_eyes_cat: \"😻\",\n    smirk_cat: \"😼\",\n    kissing_cat: \"😽\",\n    scream_cat: \"🙀\",\n    crying_cat_face: \"😿\",\n    pouting_cat: \"😾\",\n    see_no_evil: \"🙈\",\n    hear_no_evil: \"🙉\",\n    speak_no_evil: \"🙊\",\n    kiss: \"💋\",\n    love_letter: \"💌\",\n    cupid: \"💘\",\n    gift_heart: \"💝\",\n    sparkling_heart: \"💖\",\n    heartpulse: \"💗\",\n    heartbeat: \"💓\",\n    revolving_hearts: \"💞\",\n    two_hearts: \"💕\",\n    heart_decoration: \"💟\",\n    heavy_heart_exclamation: \"❣️\",\n    broken_heart: \"💔\",\n    heart: \"❤️\",\n    orange_heart: \"🧡\",\n    yellow_heart: \"💛\",\n    green_heart: \"💚\",\n    blue_heart: \"💙\",\n    purple_heart: \"💜\",\n    brown_heart: \"🤎\",\n    black_heart: \"🖤\",\n    white_heart: \"🤍\",\n    anger: \"💢\",\n    boom: \"💥\",\n    collision: \"💥\",\n    dizzy: \"💫\",\n    sweat_drops: \"💦\",\n    dash: \"💨\",\n    hole: \"🕳️\",\n    bomb: \"💣\",\n    speech_balloon: \"💬\",\n    eye_speech_bubble: \"👁️‍🗨️\",\n    left_speech_bubble: \"🗨️\",\n    right_anger_bubble: \"🗯️\",\n    thought_balloon: \"💭\",\n    zzz: \"💤\",\n    wave: \"👋\",\n    raised_back_of_hand: \"🤚\",\n    raised_hand_with_fingers_splayed: \"🖐️\",\n    hand: \"✋\",\n    raised_hand: \"✋\",\n    vulcan_salute: \"🖖\",\n    ok_hand: \"👌\",\n    pinched_fingers: \"🤌\",\n    pinching_hand: \"🤏\",\n    v: \"✌️\",\n    crossed_fingers: \"🤞\",\n    love_you_gesture: \"🤟\",\n    metal: \"🤘\",\n    call_me_hand: \"🤙\",\n    point_left: \"👈\",\n    point_right: \"👉\",\n    point_up_2: \"👆\",\n    middle_finger: \"🖕\",\n    fu: \"🖕\",\n    point_down: \"👇\",\n    point_up: \"☝️\",\n    \"+1\": \"👍\",\n    thumbsup: \"👍\",\n    \"-1\": \"👎\",\n    thumbsdown: \"👎\",\n    fist_raised: \"✊\",\n    fist: \"✊\",\n    fist_oncoming: \"👊\",\n    facepunch: \"👊\",\n    punch: \"👊\",\n    fist_left: \"🤛\",\n    fist_right: \"🤜\",\n    clap: \"👏\",\n    raised_hands: \"🙌\",\n    open_hands: \"👐\",\n    palms_up_together: \"🤲\",\n    handshake: \"🤝\",\n    pray: \"🙏\",\n    writing_hand: \"✍️\",\n    nail_care: \"💅\",\n    selfie: \"🤳\",\n    muscle: \"💪\",\n    mechanical_arm: \"🦾\",\n    mechanical_leg: \"🦿\",\n    leg: \"🦵\",\n    foot: \"🦶\",\n    ear: \"👂\",\n    ear_with_hearing_aid: \"🦻\",\n    nose: \"👃\",\n    brain: \"🧠\",\n    anatomical_heart: \"🫀\",\n    lungs: \"🫁\",\n    tooth: \"🦷\",\n    bone: \"🦴\",\n    eyes: \"👀\",\n    eye: \"👁️\",\n    tongue: \"👅\",\n    lips: \"👄\",\n    baby: \"👶\",\n    child: \"🧒\",\n    boy: \"👦\",\n    girl: \"👧\",\n    adult: \"🧑\",\n    blond_haired_person: \"👱\",\n    man: \"👨\",\n    bearded_person: \"🧔\",\n    red_haired_man: \"👨‍🦰\",\n    curly_haired_man: \"👨‍🦱\",\n    white_haired_man: \"👨‍🦳\",\n    bald_man: \"👨‍🦲\",\n    woman: \"👩\",\n    red_haired_woman: \"👩‍🦰\",\n    person_red_hair: \"🧑‍🦰\",\n    curly_haired_woman: \"👩‍🦱\",\n    person_curly_hair: \"🧑‍🦱\",\n    white_haired_woman: \"👩‍🦳\",\n    person_white_hair: \"🧑‍🦳\",\n    bald_woman: \"👩‍🦲\",\n    person_bald: \"🧑‍🦲\",\n    blond_haired_woman: \"👱‍♀️\",\n    blonde_woman: \"👱‍♀️\",\n    blond_haired_man: \"👱‍♂️\",\n    older_adult: \"🧓\",\n    older_man: \"👴\",\n    older_woman: \"👵\",\n    frowning_person: \"🙍\",\n    frowning_man: \"🙍‍♂️\",\n    frowning_woman: \"🙍‍♀️\",\n    pouting_face: \"🙎\",\n    pouting_man: \"🙎‍♂️\",\n    pouting_woman: \"🙎‍♀️\",\n    no_good: \"🙅\",\n    no_good_man: \"🙅‍♂️\",\n    ng_man: \"🙅‍♂️\",\n    no_good_woman: \"🙅‍♀️\",\n    ng_woman: \"🙅‍♀️\",\n    ok_person: \"🙆\",\n    ok_man: \"🙆‍♂️\",\n    ok_woman: \"🙆‍♀️\",\n    tipping_hand_person: \"💁\",\n    information_desk_person: \"💁\",\n    tipping_hand_man: \"💁‍♂️\",\n    sassy_man: \"💁‍♂️\",\n    tipping_hand_woman: \"💁‍♀️\",\n    sassy_woman: \"💁‍♀️\",\n    raising_hand: \"🙋\",\n    raising_hand_man: \"🙋‍♂️\",\n    raising_hand_woman: \"🙋‍♀️\",\n    deaf_person: \"🧏\",\n    deaf_man: \"🧏‍♂️\",\n    deaf_woman: \"🧏‍♀️\",\n    bow: \"🙇\",\n    bowing_man: \"🙇‍♂️\",\n    bowing_woman: \"🙇‍♀️\",\n    facepalm: \"🤦\",\n    man_facepalming: \"🤦‍♂️\",\n    woman_facepalming: \"🤦‍♀️\",\n    shrug: \"🤷\",\n    man_shrugging: \"🤷‍♂️\",\n    woman_shrugging: \"🤷‍♀️\",\n    health_worker: \"🧑‍⚕️\",\n    man_health_worker: \"👨‍⚕️\",\n    woman_health_worker: \"👩‍⚕️\",\n    student: \"🧑‍🎓\",\n    man_student: \"👨‍🎓\",\n    woman_student: \"👩‍🎓\",\n    teacher: \"🧑‍🏫\",\n    man_teacher: \"👨‍🏫\",\n    woman_teacher: \"👩‍🏫\",\n    judge: \"🧑‍⚖️\",\n    man_judge: \"👨‍⚖️\",\n    woman_judge: \"👩‍⚖️\",\n    farmer: \"🧑‍🌾\",\n    man_farmer: \"👨‍🌾\",\n    woman_farmer: \"👩‍🌾\",\n    cook: \"🧑‍🍳\",\n    man_cook: \"👨‍🍳\",\n    woman_cook: \"👩‍🍳\",\n    mechanic: \"🧑‍🔧\",\n    man_mechanic: \"👨‍🔧\",\n    woman_mechanic: \"👩‍🔧\",\n    factory_worker: \"🧑‍🏭\",\n    man_factory_worker: \"👨‍🏭\",\n    woman_factory_worker: \"👩‍🏭\",\n    office_worker: \"🧑‍💼\",\n    man_office_worker: \"👨‍💼\",\n    woman_office_worker: \"👩‍💼\",\n    scientist: \"🧑‍🔬\",\n    man_scientist: \"👨‍🔬\",\n    woman_scientist: \"👩‍🔬\",\n    technologist: \"🧑‍💻\",\n    man_technologist: \"👨‍💻\",\n    woman_technologist: \"👩‍💻\",\n    singer: \"🧑‍🎤\",\n    man_singer: \"👨‍🎤\",\n    woman_singer: \"👩‍🎤\",\n    artist: \"🧑‍🎨\",\n    man_artist: \"👨‍🎨\",\n    woman_artist: \"👩‍🎨\",\n    pilot: \"🧑‍✈️\",\n    man_pilot: \"👨‍✈️\",\n    woman_pilot: \"👩‍✈️\",\n    astronaut: \"🧑‍🚀\",\n    man_astronaut: \"👨‍🚀\",\n    woman_astronaut: \"👩‍🚀\",\n    firefighter: \"🧑‍🚒\",\n    man_firefighter: \"👨‍🚒\",\n    woman_firefighter: \"👩‍🚒\",\n    police_officer: \"👮\",\n    cop: \"👮\",\n    policeman: \"👮‍♂️\",\n    policewoman: \"👮‍♀️\",\n    detective: \"🕵️\",\n    male_detective: \"🕵️‍♂️\",\n    female_detective: \"🕵️‍♀️\",\n    guard: \"💂\",\n    guardsman: \"💂‍♂️\",\n    guardswoman: \"💂‍♀️\",\n    ninja: \"🥷\",\n    construction_worker: \"👷\",\n    construction_worker_man: \"👷‍♂️\",\n    construction_worker_woman: \"👷‍♀️\",\n    prince: \"🤴\",\n    princess: \"👸\",\n    person_with_turban: \"👳\",\n    man_with_turban: \"👳‍♂️\",\n    woman_with_turban: \"👳‍♀️\",\n    man_with_gua_pi_mao: \"👲\",\n    woman_with_headscarf: \"🧕\",\n    person_in_tuxedo: \"🤵\",\n    man_in_tuxedo: \"🤵‍♂️\",\n    woman_in_tuxedo: \"🤵‍♀️\",\n    person_with_veil: \"👰\",\n    man_with_veil: \"👰‍♂️\",\n    woman_with_veil: \"👰‍♀️\",\n    bride_with_veil: \"👰‍♀️\",\n    pregnant_woman: \"🤰\",\n    breast_feeding: \"🤱\",\n    woman_feeding_baby: \"👩‍🍼\",\n    man_feeding_baby: \"👨‍🍼\",\n    person_feeding_baby: \"🧑‍🍼\",\n    angel: \"👼\",\n    santa: \"🎅\",\n    mrs_claus: \"🤶\",\n    mx_claus: \"🧑‍🎄\",\n    superhero: \"🦸\",\n    superhero_man: \"🦸‍♂️\",\n    superhero_woman: \"🦸‍♀️\",\n    supervillain: \"🦹\",\n    supervillain_man: \"🦹‍♂️\",\n    supervillain_woman: \"🦹‍♀️\",\n    mage: \"🧙\",\n    mage_man: \"🧙‍♂️\",\n    mage_woman: \"🧙‍♀️\",\n    fairy: \"🧚\",\n    fairy_man: \"🧚‍♂️\",\n    fairy_woman: \"🧚‍♀️\",\n    vampire: \"🧛\",\n    vampire_man: \"🧛‍♂️\",\n    vampire_woman: \"🧛‍♀️\",\n    merperson: \"🧜\",\n    merman: \"🧜‍♂️\",\n    mermaid: \"🧜‍♀️\",\n    elf: \"🧝\",\n    elf_man: \"🧝‍♂️\",\n    elf_woman: \"🧝‍♀️\",\n    genie: \"🧞\",\n    genie_man: \"🧞‍♂️\",\n    genie_woman: \"🧞‍♀️\",\n    zombie: \"🧟\",\n    zombie_man: \"🧟‍♂️\",\n    zombie_woman: \"🧟‍♀️\",\n    massage: \"💆\",\n    massage_man: \"💆‍♂️\",\n    massage_woman: \"💆‍♀️\",\n    haircut: \"💇\",\n    haircut_man: \"💇‍♂️\",\n    haircut_woman: \"💇‍♀️\",\n    walking: \"🚶\",\n    walking_man: \"🚶‍♂️\",\n    walking_woman: \"🚶‍♀️\",\n    standing_person: \"🧍\",\n    standing_man: \"🧍‍♂️\",\n    standing_woman: \"🧍‍♀️\",\n    kneeling_person: \"🧎\",\n    kneeling_man: \"🧎‍♂️\",\n    kneeling_woman: \"🧎‍♀️\",\n    person_with_probing_cane: \"🧑‍🦯\",\n    man_with_probing_cane: \"👨‍🦯\",\n    woman_with_probing_cane: \"👩‍🦯\",\n    person_in_motorized_wheelchair: \"🧑‍🦼\",\n    man_in_motorized_wheelchair: \"👨‍🦼\",\n    woman_in_motorized_wheelchair: \"👩‍🦼\",\n    person_in_manual_wheelchair: \"🧑‍🦽\",\n    man_in_manual_wheelchair: \"👨‍🦽\",\n    woman_in_manual_wheelchair: \"👩‍🦽\",\n    runner: \"🏃\",\n    running: \"🏃\",\n    running_man: \"🏃‍♂️\",\n    running_woman: \"🏃‍♀️\",\n    woman_dancing: \"💃\",\n    dancer: \"💃\",\n    man_dancing: \"🕺\",\n    business_suit_levitating: \"🕴️\",\n    dancers: \"👯\",\n    dancing_men: \"👯‍♂️\",\n    dancing_women: \"👯‍♀️\",\n    sauna_person: \"🧖\",\n    sauna_man: \"🧖‍♂️\",\n    sauna_woman: \"🧖‍♀️\",\n    climbing: \"🧗\",\n    climbing_man: \"🧗‍♂️\",\n    climbing_woman: \"🧗‍♀️\",\n    person_fencing: \"🤺\",\n    horse_racing: \"🏇\",\n    skier: \"⛷️\",\n    snowboarder: \"🏂\",\n    golfing: \"🏌️\",\n    golfing_man: \"🏌️‍♂️\",\n    golfing_woman: \"🏌️‍♀️\",\n    surfer: \"🏄\",\n    surfing_man: \"🏄‍♂️\",\n    surfing_woman: \"🏄‍♀️\",\n    rowboat: \"🚣\",\n    rowing_man: \"🚣‍♂️\",\n    rowing_woman: \"🚣‍♀️\",\n    swimmer: \"🏊\",\n    swimming_man: \"🏊‍♂️\",\n    swimming_woman: \"🏊‍♀️\",\n    bouncing_ball_person: \"⛹️\",\n    bouncing_ball_man: \"⛹️‍♂️\",\n    basketball_man: \"⛹️‍♂️\",\n    bouncing_ball_woman: \"⛹️‍♀️\",\n    basketball_woman: \"⛹️‍♀️\",\n    weight_lifting: \"🏋️\",\n    weight_lifting_man: \"🏋️‍♂️\",\n    weight_lifting_woman: \"🏋️‍♀️\",\n    bicyclist: \"🚴\",\n    biking_man: \"🚴‍♂️\",\n    biking_woman: \"🚴‍♀️\",\n    mountain_bicyclist: \"🚵\",\n    mountain_biking_man: \"🚵‍♂️\",\n    mountain_biking_woman: \"🚵‍♀️\",\n    cartwheeling: \"🤸\",\n    man_cartwheeling: \"🤸‍♂️\",\n    woman_cartwheeling: \"🤸‍♀️\",\n    wrestling: \"🤼\",\n    men_wrestling: \"🤼‍♂️\",\n    women_wrestling: \"🤼‍♀️\",\n    water_polo: \"🤽\",\n    man_playing_water_polo: \"🤽‍♂️\",\n    woman_playing_water_polo: \"🤽‍♀️\",\n    handball_person: \"🤾\",\n    man_playing_handball: \"🤾‍♂️\",\n    woman_playing_handball: \"🤾‍♀️\",\n    juggling_person: \"🤹\",\n    man_juggling: \"🤹‍♂️\",\n    woman_juggling: \"🤹‍♀️\",\n    lotus_position: \"🧘\",\n    lotus_position_man: \"🧘‍♂️\",\n    lotus_position_woman: \"🧘‍♀️\",\n    bath: \"🛀\",\n    sleeping_bed: \"🛌\",\n    people_holding_hands: \"🧑‍🤝‍🧑\",\n    two_women_holding_hands: \"👭\",\n    couple: \"👫\",\n    two_men_holding_hands: \"👬\",\n    couplekiss: \"💏\",\n    couplekiss_man_woman: \"👩‍❤️‍💋‍👨\",\n    couplekiss_man_man: \"👨‍❤️‍💋‍👨\",\n    couplekiss_woman_woman: \"👩‍❤️‍💋‍👩\",\n    couple_with_heart: \"💑\",\n    couple_with_heart_woman_man: \"👩‍❤️‍👨\",\n    couple_with_heart_man_man: \"👨‍❤️‍👨\",\n    couple_with_heart_woman_woman: \"👩‍❤️‍👩\",\n    family: \"👪\",\n    family_man_woman_boy: \"👨‍👩‍👦\",\n    family_man_woman_girl: \"👨‍👩‍👧\",\n    family_man_woman_girl_boy: \"👨‍👩‍👧‍👦\",\n    family_man_woman_boy_boy: \"👨‍👩‍👦‍👦\",\n    family_man_woman_girl_girl: \"👨‍👩‍👧‍👧\",\n    family_man_man_boy: \"👨‍👨‍👦\",\n    family_man_man_girl: \"👨‍👨‍👧\",\n    family_man_man_girl_boy: \"👨‍👨‍👧‍👦\",\n    family_man_man_boy_boy: \"👨‍👨‍👦‍👦\",\n    family_man_man_girl_girl: \"👨‍👨‍👧‍👧\",\n    family_woman_woman_boy: \"👩‍👩‍👦\",\n    family_woman_woman_girl: \"👩‍👩‍👧\",\n    family_woman_woman_girl_boy: \"👩‍👩‍👧‍👦\",\n    family_woman_woman_boy_boy: \"👩‍👩‍👦‍👦\",\n    family_woman_woman_girl_girl: \"👩‍👩‍👧‍👧\",\n    family_man_boy: \"👨‍👦\",\n    family_man_boy_boy: \"👨‍👦‍👦\",\n    family_man_girl: \"👨‍👧\",\n    family_man_girl_boy: \"👨‍👧‍👦\",\n    family_man_girl_girl: \"👨‍👧‍👧\",\n    family_woman_boy: \"👩‍👦\",\n    family_woman_boy_boy: \"👩‍👦‍👦\",\n    family_woman_girl: \"👩‍👧\",\n    family_woman_girl_boy: \"👩‍👧‍👦\",\n    family_woman_girl_girl: \"👩‍👧‍👧\",\n    speaking_head: \"🗣️\",\n    bust_in_silhouette: \"👤\",\n    busts_in_silhouette: \"👥\",\n    people_hugging: \"🫂\",\n    footprints: \"👣\",\n    monkey_face: \"🐵\",\n    monkey: \"🐒\",\n    gorilla: \"🦍\",\n    orangutan: \"🦧\",\n    dog: \"🐶\",\n    dog2: \"🐕\",\n    guide_dog: \"🦮\",\n    service_dog: \"🐕‍🦺\",\n    poodle: \"🐩\",\n    wolf: \"🐺\",\n    fox_face: \"🦊\",\n    raccoon: \"🦝\",\n    cat: \"🐱\",\n    cat2: \"🐈\",\n    black_cat: \"🐈‍⬛\",\n    lion: \"🦁\",\n    tiger: \"🐯\",\n    tiger2: \"🐅\",\n    leopard: \"🐆\",\n    horse: \"🐴\",\n    racehorse: \"🐎\",\n    unicorn: \"🦄\",\n    zebra: \"🦓\",\n    deer: \"🦌\",\n    bison: \"🦬\",\n    cow: \"🐮\",\n    ox: \"🐂\",\n    water_buffalo: \"🐃\",\n    cow2: \"🐄\",\n    pig: \"🐷\",\n    pig2: \"🐖\",\n    boar: \"🐗\",\n    pig_nose: \"🐽\",\n    ram: \"🐏\",\n    sheep: \"🐑\",\n    goat: \"🐐\",\n    dromedary_camel: \"🐪\",\n    camel: \"🐫\",\n    llama: \"🦙\",\n    giraffe: \"🦒\",\n    elephant: \"🐘\",\n    mammoth: \"🦣\",\n    rhinoceros: \"🦏\",\n    hippopotamus: \"🦛\",\n    mouse: \"🐭\",\n    mouse2: \"🐁\",\n    rat: \"🐀\",\n    hamster: \"🐹\",\n    rabbit: \"🐰\",\n    rabbit2: \"🐇\",\n    chipmunk: \"🐿️\",\n    beaver: \"🦫\",\n    hedgehog: \"🦔\",\n    bat: \"🦇\",\n    bear: \"🐻\",\n    polar_bear: \"🐻‍❄️\",\n    koala: \"🐨\",\n    panda_face: \"🐼\",\n    sloth: \"🦥\",\n    otter: \"🦦\",\n    skunk: \"🦨\",\n    kangaroo: \"🦘\",\n    badger: \"🦡\",\n    feet: \"🐾\",\n    paw_prints: \"🐾\",\n    turkey: \"🦃\",\n    chicken: \"🐔\",\n    rooster: \"🐓\",\n    hatching_chick: \"🐣\",\n    baby_chick: \"🐤\",\n    hatched_chick: \"🐥\",\n    bird: \"🐦\",\n    penguin: \"🐧\",\n    dove: \"🕊️\",\n    eagle: \"🦅\",\n    duck: \"🦆\",\n    swan: \"🦢\",\n    owl: \"🦉\",\n    dodo: \"🦤\",\n    feather: \"🪶\",\n    flamingo: \"🦩\",\n    peacock: \"🦚\",\n    parrot: \"🦜\",\n    frog: \"🐸\",\n    crocodile: \"🐊\",\n    turtle: \"🐢\",\n    lizard: \"🦎\",\n    snake: \"🐍\",\n    dragon_face: \"🐲\",\n    dragon: \"🐉\",\n    sauropod: \"🦕\",\n    \"t-rex\": \"🦖\",\n    whale: \"🐳\",\n    whale2: \"🐋\",\n    dolphin: \"🐬\",\n    flipper: \"🐬\",\n    seal: \"🦭\",\n    fish: \"🐟\",\n    tropical_fish: \"🐠\",\n    blowfish: \"🐡\",\n    shark: \"🦈\",\n    octopus: \"🐙\",\n    shell: \"🐚\",\n    snail: \"🐌\",\n    butterfly: \"🦋\",\n    bug: \"🐛\",\n    ant: \"🐜\",\n    bee: \"🐝\",\n    honeybee: \"🐝\",\n    beetle: \"🪲\",\n    lady_beetle: \"🐞\",\n    cricket: \"🦗\",\n    cockroach: \"🪳\",\n    spider: \"🕷️\",\n    spider_web: \"🕸️\",\n    scorpion: \"🦂\",\n    mosquito: \"🦟\",\n    fly: \"🪰\",\n    worm: \"🪱\",\n    microbe: \"🦠\",\n    bouquet: \"💐\",\n    cherry_blossom: \"🌸\",\n    white_flower: \"💮\",\n    rosette: \"🏵️\",\n    rose: \"🌹\",\n    wilted_flower: \"🥀\",\n    hibiscus: \"🌺\",\n    sunflower: \"🌻\",\n    blossom: \"🌼\",\n    tulip: \"🌷\",\n    seedling: \"🌱\",\n    potted_plant: \"🪴\",\n    evergreen_tree: \"🌲\",\n    deciduous_tree: \"🌳\",\n    palm_tree: \"🌴\",\n    cactus: \"🌵\",\n    ear_of_rice: \"🌾\",\n    herb: \"🌿\",\n    shamrock: \"☘️\",\n    four_leaf_clover: \"🍀\",\n    maple_leaf: \"🍁\",\n    fallen_leaf: \"🍂\",\n    leaves: \"🍃\",\n    grapes: \"🍇\",\n    melon: \"🍈\",\n    watermelon: \"🍉\",\n    tangerine: \"🍊\",\n    orange: \"🍊\",\n    mandarin: \"🍊\",\n    lemon: \"🍋\",\n    banana: \"🍌\",\n    pineapple: \"🍍\",\n    mango: \"🥭\",\n    apple: \"🍎\",\n    green_apple: \"🍏\",\n    pear: \"🍐\",\n    peach: \"🍑\",\n    cherries: \"🍒\",\n    strawberry: \"🍓\",\n    blueberries: \"🫐\",\n    kiwi_fruit: \"🥝\",\n    tomato: \"🍅\",\n    olive: \"🫒\",\n    coconut: \"🥥\",\n    avocado: \"🥑\",\n    eggplant: \"🍆\",\n    potato: \"🥔\",\n    carrot: \"🥕\",\n    corn: \"🌽\",\n    hot_pepper: \"🌶️\",\n    bell_pepper: \"🫑\",\n    cucumber: \"🥒\",\n    leafy_green: \"🥬\",\n    broccoli: \"🥦\",\n    garlic: \"🧄\",\n    onion: \"🧅\",\n    mushroom: \"🍄\",\n    peanuts: \"🥜\",\n    chestnut: \"🌰\",\n    bread: \"🍞\",\n    croissant: \"🥐\",\n    baguette_bread: \"🥖\",\n    flatbread: \"🫓\",\n    pretzel: \"🥨\",\n    bagel: \"🥯\",\n    pancakes: \"🥞\",\n    waffle: \"🧇\",\n    cheese: \"🧀\",\n    meat_on_bone: \"🍖\",\n    poultry_leg: \"🍗\",\n    cut_of_meat: \"🥩\",\n    bacon: \"🥓\",\n    hamburger: \"🍔\",\n    fries: \"🍟\",\n    pizza: \"🍕\",\n    hotdog: \"🌭\",\n    sandwich: \"🥪\",\n    taco: \"🌮\",\n    burrito: \"🌯\",\n    tamale: \"🫔\",\n    stuffed_flatbread: \"🥙\",\n    falafel: \"🧆\",\n    egg: \"🥚\",\n    fried_egg: \"🍳\",\n    shallow_pan_of_food: \"🥘\",\n    stew: \"🍲\",\n    fondue: \"🫕\",\n    bowl_with_spoon: \"🥣\",\n    green_salad: \"🥗\",\n    popcorn: \"🍿\",\n    butter: \"🧈\",\n    salt: \"🧂\",\n    canned_food: \"🥫\",\n    bento: \"🍱\",\n    rice_cracker: \"🍘\",\n    rice_ball: \"🍙\",\n    rice: \"🍚\",\n    curry: \"🍛\",\n    ramen: \"🍜\",\n    spaghetti: \"🍝\",\n    sweet_potato: \"🍠\",\n    oden: \"🍢\",\n    sushi: \"🍣\",\n    fried_shrimp: \"🍤\",\n    fish_cake: \"🍥\",\n    moon_cake: \"🥮\",\n    dango: \"🍡\",\n    dumpling: \"🥟\",\n    fortune_cookie: \"🥠\",\n    takeout_box: \"🥡\",\n    crab: \"🦀\",\n    lobster: \"🦞\",\n    shrimp: \"🦐\",\n    squid: \"🦑\",\n    oyster: \"🦪\",\n    icecream: \"🍦\",\n    shaved_ice: \"🍧\",\n    ice_cream: \"🍨\",\n    doughnut: \"🍩\",\n    cookie: \"🍪\",\n    birthday: \"🎂\",\n    cake: \"🍰\",\n    cupcake: \"🧁\",\n    pie: \"🥧\",\n    chocolate_bar: \"🍫\",\n    candy: \"🍬\",\n    lollipop: \"🍭\",\n    custard: \"🍮\",\n    honey_pot: \"🍯\",\n    baby_bottle: \"🍼\",\n    milk_glass: \"🥛\",\n    coffee: \"☕\",\n    teapot: \"🫖\",\n    tea: \"🍵\",\n    sake: \"🍶\",\n    champagne: \"🍾\",\n    wine_glass: \"🍷\",\n    cocktail: \"🍸\",\n    tropical_drink: \"🍹\",\n    beer: \"🍺\",\n    beers: \"🍻\",\n    clinking_glasses: \"🥂\",\n    tumbler_glass: \"🥃\",\n    cup_with_straw: \"🥤\",\n    bubble_tea: \"🧋\",\n    beverage_box: \"🧃\",\n    mate: \"🧉\",\n    ice_cube: \"🧊\",\n    chopsticks: \"🥢\",\n    plate_with_cutlery: \"🍽️\",\n    fork_and_knife: \"🍴\",\n    spoon: \"🥄\",\n    hocho: \"🔪\",\n    knife: \"🔪\",\n    amphora: \"🏺\",\n    earth_africa: \"🌍\",\n    earth_americas: \"🌎\",\n    earth_asia: \"🌏\",\n    globe_with_meridians: \"🌐\",\n    world_map: \"🗺️\",\n    japan: \"🗾\",\n    compass: \"🧭\",\n    mountain_snow: \"🏔️\",\n    mountain: \"⛰️\",\n    volcano: \"🌋\",\n    mount_fuji: \"🗻\",\n    camping: \"🏕️\",\n    beach_umbrella: \"🏖️\",\n    desert: \"🏜️\",\n    desert_island: \"🏝️\",\n    national_park: \"🏞️\",\n    stadium: \"🏟️\",\n    classical_building: \"🏛️\",\n    building_construction: \"🏗️\",\n    bricks: \"🧱\",\n    rock: \"🪨\",\n    wood: \"🪵\",\n    hut: \"🛖\",\n    houses: \"🏘️\",\n    derelict_house: \"🏚️\",\n    house: \"🏠\",\n    house_with_garden: \"🏡\",\n    office: \"🏢\",\n    post_office: \"🏣\",\n    european_post_office: \"🏤\",\n    hospital: \"🏥\",\n    bank: \"🏦\",\n    hotel: \"🏨\",\n    love_hotel: \"🏩\",\n    convenience_store: \"🏪\",\n    school: \"🏫\",\n    department_store: \"🏬\",\n    factory: \"🏭\",\n    japanese_castle: \"🏯\",\n    european_castle: \"🏰\",\n    wedding: \"💒\",\n    tokyo_tower: \"🗼\",\n    statue_of_liberty: \"🗽\",\n    church: \"⛪\",\n    mosque: \"🕌\",\n    hindu_temple: \"🛕\",\n    synagogue: \"🕍\",\n    shinto_shrine: \"⛩️\",\n    kaaba: \"🕋\",\n    fountain: \"⛲\",\n    tent: \"⛺\",\n    foggy: \"🌁\",\n    night_with_stars: \"🌃\",\n    cityscape: \"🏙️\",\n    sunrise_over_mountains: \"🌄\",\n    sunrise: \"🌅\",\n    city_sunset: \"🌆\",\n    city_sunrise: \"🌇\",\n    bridge_at_night: \"🌉\",\n    hotsprings: \"♨️\",\n    carousel_horse: \"🎠\",\n    ferris_wheel: \"🎡\",\n    roller_coaster: \"🎢\",\n    barber: \"💈\",\n    circus_tent: \"🎪\",\n    steam_locomotive: \"🚂\",\n    railway_car: \"🚃\",\n    bullettrain_side: \"🚄\",\n    bullettrain_front: \"🚅\",\n    train2: \"🚆\",\n    metro: \"🚇\",\n    light_rail: \"🚈\",\n    station: \"🚉\",\n    tram: \"🚊\",\n    monorail: \"🚝\",\n    mountain_railway: \"🚞\",\n    train: \"🚋\",\n    bus: \"🚌\",\n    oncoming_bus: \"🚍\",\n    trolleybus: \"🚎\",\n    minibus: \"🚐\",\n    ambulance: \"🚑\",\n    fire_engine: \"🚒\",\n    police_car: \"🚓\",\n    oncoming_police_car: \"🚔\",\n    taxi: \"🚕\",\n    oncoming_taxi: \"🚖\",\n    car: \"🚗\",\n    red_car: \"🚗\",\n    oncoming_automobile: \"🚘\",\n    blue_car: \"🚙\",\n    pickup_truck: \"🛻\",\n    truck: \"🚚\",\n    articulated_lorry: \"🚛\",\n    tractor: \"🚜\",\n    racing_car: \"🏎️\",\n    motorcycle: \"🏍️\",\n    motor_scooter: \"🛵\",\n    manual_wheelchair: \"🦽\",\n    motorized_wheelchair: \"🦼\",\n    auto_rickshaw: \"🛺\",\n    bike: \"🚲\",\n    kick_scooter: \"🛴\",\n    skateboard: \"🛹\",\n    roller_skate: \"🛼\",\n    busstop: \"🚏\",\n    motorway: \"🛣️\",\n    railway_track: \"🛤️\",\n    oil_drum: \"🛢️\",\n    fuelpump: \"⛽\",\n    rotating_light: \"🚨\",\n    traffic_light: \"🚥\",\n    vertical_traffic_light: \"🚦\",\n    stop_sign: \"🛑\",\n    construction: \"🚧\",\n    anchor: \"⚓\",\n    boat: \"⛵\",\n    sailboat: \"⛵\",\n    canoe: \"🛶\",\n    speedboat: \"🚤\",\n    passenger_ship: \"🛳️\",\n    ferry: \"⛴️\",\n    motor_boat: \"🛥️\",\n    ship: \"🚢\",\n    airplane: \"✈️\",\n    small_airplane: \"🛩️\",\n    flight_departure: \"🛫\",\n    flight_arrival: \"🛬\",\n    parachute: \"🪂\",\n    seat: \"💺\",\n    helicopter: \"🚁\",\n    suspension_railway: \"🚟\",\n    mountain_cableway: \"🚠\",\n    aerial_tramway: \"🚡\",\n    artificial_satellite: \"🛰️\",\n    rocket: \"🚀\",\n    flying_saucer: \"🛸\",\n    bellhop_bell: \"🛎️\",\n    luggage: \"🧳\",\n    hourglass: \"⌛\",\n    hourglass_flowing_sand: \"⏳\",\n    watch: \"⌚\",\n    alarm_clock: \"⏰\",\n    stopwatch: \"⏱️\",\n    timer_clock: \"⏲️\",\n    mantelpiece_clock: \"🕰️\",\n    clock12: \"🕛\",\n    clock1230: \"🕧\",\n    clock1: \"🕐\",\n    clock130: \"🕜\",\n    clock2: \"🕑\",\n    clock230: \"🕝\",\n    clock3: \"🕒\",\n    clock330: \"🕞\",\n    clock4: \"🕓\",\n    clock430: \"🕟\",\n    clock5: \"🕔\",\n    clock530: \"🕠\",\n    clock6: \"🕕\",\n    clock630: \"🕡\",\n    clock7: \"🕖\",\n    clock730: \"🕢\",\n    clock8: \"🕗\",\n    clock830: \"🕣\",\n    clock9: \"🕘\",\n    clock930: \"🕤\",\n    clock10: \"🕙\",\n    clock1030: \"🕥\",\n    clock11: \"🕚\",\n    clock1130: \"🕦\",\n    new_moon: \"🌑\",\n    waxing_crescent_moon: \"🌒\",\n    first_quarter_moon: \"🌓\",\n    moon: \"🌔\",\n    waxing_gibbous_moon: \"🌔\",\n    full_moon: \"🌕\",\n    waning_gibbous_moon: \"🌖\",\n    last_quarter_moon: \"🌗\",\n    waning_crescent_moon: \"🌘\",\n    crescent_moon: \"🌙\",\n    new_moon_with_face: \"🌚\",\n    first_quarter_moon_with_face: \"🌛\",\n    last_quarter_moon_with_face: \"🌜\",\n    thermometer: \"🌡️\",\n    sunny: \"☀️\",\n    full_moon_with_face: \"🌝\",\n    sun_with_face: \"🌞\",\n    ringed_planet: \"🪐\",\n    star: \"⭐\",\n    star2: \"🌟\",\n    stars: \"🌠\",\n    milky_way: \"🌌\",\n    cloud: \"☁️\",\n    partly_sunny: \"⛅\",\n    cloud_with_lightning_and_rain: \"⛈️\",\n    sun_behind_small_cloud: \"🌤️\",\n    sun_behind_large_cloud: \"🌥️\",\n    sun_behind_rain_cloud: \"🌦️\",\n    cloud_with_rain: \"🌧️\",\n    cloud_with_snow: \"🌨️\",\n    cloud_with_lightning: \"🌩️\",\n    tornado: \"🌪️\",\n    fog: \"🌫️\",\n    wind_face: \"🌬️\",\n    cyclone: \"🌀\",\n    rainbow: \"🌈\",\n    closed_umbrella: \"🌂\",\n    open_umbrella: \"☂️\",\n    umbrella: \"☔\",\n    parasol_on_ground: \"⛱️\",\n    zap: \"⚡\",\n    snowflake: \"❄️\",\n    snowman_with_snow: \"☃️\",\n    snowman: \"⛄\",\n    comet: \"☄️\",\n    fire: \"🔥\",\n    droplet: \"💧\",\n    ocean: \"🌊\",\n    jack_o_lantern: \"🎃\",\n    christmas_tree: \"🎄\",\n    fireworks: \"🎆\",\n    sparkler: \"🎇\",\n    firecracker: \"🧨\",\n    sparkles: \"✨\",\n    balloon: \"🎈\",\n    tada: \"🎉\",\n    confetti_ball: \"🎊\",\n    tanabata_tree: \"🎋\",\n    bamboo: \"🎍\",\n    dolls: \"🎎\",\n    flags: \"🎏\",\n    wind_chime: \"🎐\",\n    rice_scene: \"🎑\",\n    red_envelope: \"🧧\",\n    ribbon: \"🎀\",\n    gift: \"🎁\",\n    reminder_ribbon: \"🎗️\",\n    tickets: \"🎟️\",\n    ticket: \"🎫\",\n    medal_military: \"🎖️\",\n    trophy: \"🏆\",\n    medal_sports: \"🏅\",\n    \"1st_place_medal\": \"🥇\",\n    \"2nd_place_medal\": \"🥈\",\n    \"3rd_place_medal\": \"🥉\",\n    soccer: \"⚽\",\n    baseball: \"⚾\",\n    softball: \"🥎\",\n    basketball: \"🏀\",\n    volleyball: \"🏐\",\n    football: \"🏈\",\n    rugby_football: \"🏉\",\n    tennis: \"🎾\",\n    flying_disc: \"🥏\",\n    bowling: \"🎳\",\n    cricket_game: \"🏏\",\n    field_hockey: \"🏑\",\n    ice_hockey: \"🏒\",\n    lacrosse: \"🥍\",\n    ping_pong: \"🏓\",\n    badminton: \"🏸\",\n    boxing_glove: \"🥊\",\n    martial_arts_uniform: \"🥋\",\n    goal_net: \"🥅\",\n    golf: \"⛳\",\n    ice_skate: \"⛸️\",\n    fishing_pole_and_fish: \"🎣\",\n    diving_mask: \"🤿\",\n    running_shirt_with_sash: \"🎽\",\n    ski: \"🎿\",\n    sled: \"🛷\",\n    curling_stone: \"🥌\",\n    dart: \"🎯\",\n    yo_yo: \"🪀\",\n    kite: \"🪁\",\n    \"8ball\": \"🎱\",\n    crystal_ball: \"🔮\",\n    magic_wand: \"🪄\",\n    nazar_amulet: \"🧿\",\n    video_game: \"🎮\",\n    joystick: \"🕹️\",\n    slot_machine: \"🎰\",\n    game_die: \"🎲\",\n    jigsaw: \"🧩\",\n    teddy_bear: \"🧸\",\n    pinata: \"🪅\",\n    nesting_dolls: \"🪆\",\n    spades: \"♠️\",\n    hearts: \"♥️\",\n    diamonds: \"♦️\",\n    clubs: \"♣️\",\n    chess_pawn: \"♟️\",\n    black_joker: \"🃏\",\n    mahjong: \"🀄\",\n    flower_playing_cards: \"🎴\",\n    performing_arts: \"🎭\",\n    framed_picture: \"🖼️\",\n    art: \"🎨\",\n    thread: \"🧵\",\n    sewing_needle: \"🪡\",\n    yarn: \"🧶\",\n    knot: \"🪢\",\n    eyeglasses: \"👓\",\n    dark_sunglasses: \"🕶️\",\n    goggles: \"🥽\",\n    lab_coat: \"🥼\",\n    safety_vest: \"🦺\",\n    necktie: \"👔\",\n    shirt: \"👕\",\n    tshirt: \"👕\",\n    jeans: \"👖\",\n    scarf: \"🧣\",\n    gloves: \"🧤\",\n    coat: \"🧥\",\n    socks: \"🧦\",\n    dress: \"👗\",\n    kimono: \"👘\",\n    sari: \"🥻\",\n    one_piece_swimsuit: \"🩱\",\n    swim_brief: \"🩲\",\n    shorts: \"🩳\",\n    bikini: \"👙\",\n    womans_clothes: \"👚\",\n    purse: \"👛\",\n    handbag: \"👜\",\n    pouch: \"👝\",\n    shopping: \"🛍️\",\n    school_satchel: \"🎒\",\n    thong_sandal: \"🩴\",\n    mans_shoe: \"👞\",\n    shoe: \"👞\",\n    athletic_shoe: \"👟\",\n    hiking_boot: \"🥾\",\n    flat_shoe: \"🥿\",\n    high_heel: \"👠\",\n    sandal: \"👡\",\n    ballet_shoes: \"🩰\",\n    boot: \"👢\",\n    crown: \"👑\",\n    womans_hat: \"👒\",\n    tophat: \"🎩\",\n    mortar_board: \"🎓\",\n    billed_cap: \"🧢\",\n    military_helmet: \"🪖\",\n    rescue_worker_helmet: \"⛑️\",\n    prayer_beads: \"📿\",\n    lipstick: \"💄\",\n    ring: \"💍\",\n    gem: \"💎\",\n    mute: \"🔇\",\n    speaker: \"🔈\",\n    sound: \"🔉\",\n    loud_sound: \"🔊\",\n    loudspeaker: \"📢\",\n    mega: \"📣\",\n    postal_horn: \"📯\",\n    bell: \"🔔\",\n    no_bell: \"🔕\",\n    musical_score: \"🎼\",\n    musical_note: \"🎵\",\n    notes: \"🎶\",\n    studio_microphone: \"🎙️\",\n    level_slider: \"🎚️\",\n    control_knobs: \"🎛️\",\n    microphone: \"🎤\",\n    headphones: \"🎧\",\n    radio: \"📻\",\n    saxophone: \"🎷\",\n    accordion: \"🪗\",\n    guitar: \"🎸\",\n    musical_keyboard: \"🎹\",\n    trumpet: \"🎺\",\n    violin: \"🎻\",\n    banjo: \"🪕\",\n    drum: \"🥁\",\n    long_drum: \"🪘\",\n    iphone: \"📱\",\n    calling: \"📲\",\n    phone: \"☎️\",\n    telephone: \"☎️\",\n    telephone_receiver: \"📞\",\n    pager: \"📟\",\n    fax: \"📠\",\n    battery: \"🔋\",\n    electric_plug: \"🔌\",\n    computer: \"💻\",\n    desktop_computer: \"🖥️\",\n    printer: \"🖨️\",\n    keyboard: \"⌨️\",\n    computer_mouse: \"🖱️\",\n    trackball: \"🖲️\",\n    minidisc: \"💽\",\n    floppy_disk: \"💾\",\n    cd: \"💿\",\n    dvd: \"📀\",\n    abacus: \"🧮\",\n    movie_camera: \"🎥\",\n    film_strip: \"🎞️\",\n    film_projector: \"📽️\",\n    clapper: \"🎬\",\n    tv: \"📺\",\n    camera: \"📷\",\n    camera_flash: \"📸\",\n    video_camera: \"📹\",\n    vhs: \"📼\",\n    mag: \"🔍\",\n    mag_right: \"🔎\",\n    candle: \"🕯️\",\n    bulb: \"💡\",\n    flashlight: \"🔦\",\n    izakaya_lantern: \"🏮\",\n    lantern: \"🏮\",\n    diya_lamp: \"🪔\",\n    notebook_with_decorative_cover: \"📔\",\n    closed_book: \"📕\",\n    book: \"📖\",\n    open_book: \"📖\",\n    green_book: \"📗\",\n    blue_book: \"📘\",\n    orange_book: \"📙\",\n    books: \"📚\",\n    notebook: \"📓\",\n    ledger: \"📒\",\n    page_with_curl: \"📃\",\n    scroll: \"📜\",\n    page_facing_up: \"📄\",\n    newspaper: \"📰\",\n    newspaper_roll: \"🗞️\",\n    bookmark_tabs: \"📑\",\n    bookmark: \"🔖\",\n    label: \"🏷️\",\n    moneybag: \"💰\",\n    coin: \"🪙\",\n    yen: \"💴\",\n    dollar: \"💵\",\n    euro: \"💶\",\n    pound: \"💷\",\n    money_with_wings: \"💸\",\n    credit_card: \"💳\",\n    receipt: \"🧾\",\n    chart: \"💹\",\n    envelope: \"✉️\",\n    email: \"📧\",\n    \"e-mail\": \"📧\",\n    incoming_envelope: \"📨\",\n    envelope_with_arrow: \"📩\",\n    outbox_tray: \"📤\",\n    inbox_tray: \"📥\",\n    package: \"📦\",\n    mailbox: \"📫\",\n    mailbox_closed: \"📪\",\n    mailbox_with_mail: \"📬\",\n    mailbox_with_no_mail: \"📭\",\n    postbox: \"📮\",\n    ballot_box: \"🗳️\",\n    pencil2: \"✏️\",\n    black_nib: \"✒️\",\n    fountain_pen: \"🖋️\",\n    pen: \"🖊️\",\n    paintbrush: \"🖌️\",\n    crayon: \"🖍️\",\n    memo: \"📝\",\n    pencil: \"📝\",\n    briefcase: \"💼\",\n    file_folder: \"📁\",\n    open_file_folder: \"📂\",\n    card_index_dividers: \"🗂️\",\n    date: \"📅\",\n    calendar: \"📆\",\n    spiral_notepad: \"🗒️\",\n    spiral_calendar: \"🗓️\",\n    card_index: \"📇\",\n    chart_with_upwards_trend: \"📈\",\n    chart_with_downwards_trend: \"📉\",\n    bar_chart: \"📊\",\n    clipboard: \"📋\",\n    pushpin: \"📌\",\n    round_pushpin: \"📍\",\n    paperclip: \"📎\",\n    paperclips: \"🖇️\",\n    straight_ruler: \"📏\",\n    triangular_ruler: \"📐\",\n    scissors: \"✂️\",\n    card_file_box: \"🗃️\",\n    file_cabinet: \"🗄️\",\n    wastebasket: \"🗑️\",\n    lock: \"🔒\",\n    unlock: \"🔓\",\n    lock_with_ink_pen: \"🔏\",\n    closed_lock_with_key: \"🔐\",\n    key: \"🔑\",\n    old_key: \"🗝️\",\n    hammer: \"🔨\",\n    axe: \"🪓\",\n    pick: \"⛏️\",\n    hammer_and_pick: \"⚒️\",\n    hammer_and_wrench: \"🛠️\",\n    dagger: \"🗡️\",\n    crossed_swords: \"⚔️\",\n    gun: \"🔫\",\n    boomerang: \"🪃\",\n    bow_and_arrow: \"🏹\",\n    shield: \"🛡️\",\n    carpentry_saw: \"🪚\",\n    wrench: \"🔧\",\n    screwdriver: \"🪛\",\n    nut_and_bolt: \"🔩\",\n    gear: \"⚙️\",\n    clamp: \"🗜️\",\n    balance_scale: \"⚖️\",\n    probing_cane: \"🦯\",\n    link: \"🔗\",\n    chains: \"⛓️\",\n    hook: \"🪝\",\n    toolbox: \"🧰\",\n    magnet: \"🧲\",\n    ladder: \"🪜\",\n    alembic: \"⚗️\",\n    test_tube: \"🧪\",\n    petri_dish: \"🧫\",\n    dna: \"🧬\",\n    microscope: \"🔬\",\n    telescope: \"🔭\",\n    satellite: \"📡\",\n    syringe: \"💉\",\n    drop_of_blood: \"🩸\",\n    pill: \"💊\",\n    adhesive_bandage: \"🩹\",\n    stethoscope: \"🩺\",\n    door: \"🚪\",\n    elevator: \"🛗\",\n    mirror: \"🪞\",\n    window: \"🪟\",\n    bed: \"🛏️\",\n    couch_and_lamp: \"🛋️\",\n    chair: \"🪑\",\n    toilet: \"🚽\",\n    plunger: \"🪠\",\n    shower: \"🚿\",\n    bathtub: \"🛁\",\n    mouse_trap: \"🪤\",\n    razor: \"🪒\",\n    lotion_bottle: \"🧴\",\n    safety_pin: \"🧷\",\n    broom: \"🧹\",\n    basket: \"🧺\",\n    roll_of_paper: \"🧻\",\n    bucket: \"🪣\",\n    soap: \"🧼\",\n    toothbrush: \"🪥\",\n    sponge: \"🧽\",\n    fire_extinguisher: \"🧯\",\n    shopping_cart: \"🛒\",\n    smoking: \"🚬\",\n    coffin: \"⚰️\",\n    headstone: \"🪦\",\n    funeral_urn: \"⚱️\",\n    moyai: \"🗿\",\n    placard: \"🪧\",\n    atm: \"🏧\",\n    put_litter_in_its_place: \"🚮\",\n    potable_water: \"🚰\",\n    wheelchair: \"♿\",\n    mens: \"🚹\",\n    womens: \"🚺\",\n    restroom: \"🚻\",\n    baby_symbol: \"🚼\",\n    wc: \"🚾\",\n    passport_control: \"🛂\",\n    customs: \"🛃\",\n    baggage_claim: \"🛄\",\n    left_luggage: \"🛅\",\n    warning: \"⚠️\",\n    children_crossing: \"🚸\",\n    no_entry: \"⛔\",\n    no_entry_sign: \"🚫\",\n    no_bicycles: \"🚳\",\n    no_smoking: \"🚭\",\n    do_not_litter: \"🚯\",\n    \"non-potable_water\": \"🚱\",\n    no_pedestrians: \"🚷\",\n    no_mobile_phones: \"📵\",\n    underage: \"🔞\",\n    radioactive: \"☢️\",\n    biohazard: \"☣️\",\n    arrow_up: \"⬆️\",\n    arrow_upper_right: \"↗️\",\n    arrow_right: \"➡️\",\n    arrow_lower_right: \"↘️\",\n    arrow_down: \"⬇️\",\n    arrow_lower_left: \"↙️\",\n    arrow_left: \"⬅️\",\n    arrow_upper_left: \"↖️\",\n    arrow_up_down: \"↕️\",\n    left_right_arrow: \"↔️\",\n    leftwards_arrow_with_hook: \"↩️\",\n    arrow_right_hook: \"↪️\",\n    arrow_heading_up: \"⤴️\",\n    arrow_heading_down: \"⤵️\",\n    arrows_clockwise: \"🔃\",\n    arrows_counterclockwise: \"🔄\",\n    back: \"🔙\",\n    end: \"🔚\",\n    on: \"🔛\",\n    soon: \"🔜\",\n    top: \"🔝\",\n    place_of_worship: \"🛐\",\n    atom_symbol: \"⚛️\",\n    om: \"🕉️\",\n    star_of_david: \"✡️\",\n    wheel_of_dharma: \"☸️\",\n    yin_yang: \"☯️\",\n    latin_cross: \"✝️\",\n    orthodox_cross: \"☦️\",\n    star_and_crescent: \"☪️\",\n    peace_symbol: \"☮️\",\n    menorah: \"🕎\",\n    six_pointed_star: \"🔯\",\n    aries: \"♈\",\n    taurus: \"♉\",\n    gemini: \"♊\",\n    cancer: \"♋\",\n    leo: \"♌\",\n    virgo: \"♍\",\n    libra: \"♎\",\n    scorpius: \"♏\",\n    sagittarius: \"♐\",\n    capricorn: \"♑\",\n    aquarius: \"♒\",\n    pisces: \"♓\",\n    ophiuchus: \"⛎\",\n    twisted_rightwards_arrows: \"🔀\",\n    repeat: \"🔁\",\n    repeat_one: \"🔂\",\n    arrow_forward: \"▶️\",\n    fast_forward: \"⏩\",\n    next_track_button: \"⏭️\",\n    play_or_pause_button: \"⏯️\",\n    arrow_backward: \"◀️\",\n    rewind: \"⏪\",\n    previous_track_button: \"⏮️\",\n    arrow_up_small: \"🔼\",\n    arrow_double_up: \"⏫\",\n    arrow_down_small: \"🔽\",\n    arrow_double_down: \"⏬\",\n    pause_button: \"⏸️\",\n    stop_button: \"⏹️\",\n    record_button: \"⏺️\",\n    eject_button: \"⏏️\",\n    cinema: \"🎦\",\n    low_brightness: \"🔅\",\n    high_brightness: \"🔆\",\n    signal_strength: \"📶\",\n    vibration_mode: \"📳\",\n    mobile_phone_off: \"📴\",\n    female_sign: \"♀️\",\n    male_sign: \"♂️\",\n    transgender_symbol: \"⚧️\",\n    heavy_multiplication_x: \"✖️\",\n    heavy_plus_sign: \"➕\",\n    heavy_minus_sign: \"➖\",\n    heavy_division_sign: \"➗\",\n    infinity: \"♾️\",\n    bangbang: \"‼️\",\n    interrobang: \"⁉️\",\n    question: \"❓\",\n    grey_question: \"❔\",\n    grey_exclamation: \"❕\",\n    exclamation: \"❗\",\n    heavy_exclamation_mark: \"❗\",\n    wavy_dash: \"〰️\",\n    currency_exchange: \"💱\",\n    heavy_dollar_sign: \"💲\",\n    medical_symbol: \"⚕️\",\n    recycle: \"♻️\",\n    fleur_de_lis: \"⚜️\",\n    trident: \"🔱\",\n    name_badge: \"📛\",\n    beginner: \"🔰\",\n    o: \"⭕\",\n    white_check_mark: \"✅\",\n    ballot_box_with_check: \"☑️\",\n    heavy_check_mark: \"✔️\",\n    x: \"❌\",\n    negative_squared_cross_mark: \"❎\",\n    curly_loop: \"➰\",\n    loop: \"➿\",\n    part_alternation_mark: \"〽️\",\n    eight_spoked_asterisk: \"✳️\",\n    eight_pointed_black_star: \"✴️\",\n    sparkle: \"❇️\",\n    copyright: \"©️\",\n    registered: \"®️\",\n    tm: \"™️\",\n    hash: \"#️⃣\",\n    asterisk: \"*️⃣\",\n    zero: \"0️⃣\",\n    one: \"1️⃣\",\n    two: \"2️⃣\",\n    three: \"3️⃣\",\n    four: \"4️⃣\",\n    five: \"5️⃣\",\n    six: \"6️⃣\",\n    seven: \"7️⃣\",\n    eight: \"8️⃣\",\n    nine: \"9️⃣\",\n    keycap_ten: \"🔟\",\n    capital_abcd: \"🔠\",\n    abcd: \"🔡\",\n    symbols: \"🔣\",\n    abc: \"🔤\",\n    a: \"🅰️\",\n    ab: \"🆎\",\n    b: \"🅱️\",\n    cl: \"🆑\",\n    cool: \"🆒\",\n    free: \"🆓\",\n    information_source: \"ℹ️\",\n    id: \"🆔\",\n    m: \"Ⓜ️\",\n    new: \"🆕\",\n    ng: \"🆖\",\n    o2: \"🅾️\",\n    ok: \"🆗\",\n    parking: \"🅿️\",\n    sos: \"🆘\",\n    up: \"🆙\",\n    vs: \"🆚\",\n    koko: \"🈁\",\n    sa: \"🈂️\",\n    u6708: \"🈷️\",\n    u6709: \"🈶\",\n    u6307: \"🈯\",\n    ideograph_advantage: \"🉐\",\n    u5272: \"🈹\",\n    u7121: \"🈚\",\n    u7981: \"🈲\",\n    accept: \"🉑\",\n    u7533: \"🈸\",\n    u5408: \"🈴\",\n    u7a7a: \"🈳\",\n    congratulations: \"㊗️\",\n    secret: \"㊙️\",\n    u55b6: \"🈺\",\n    u6e80: \"🈵\",\n    red_circle: \"🔴\",\n    orange_circle: \"🟠\",\n    yellow_circle: \"🟡\",\n    green_circle: \"🟢\",\n    large_blue_circle: \"🔵\",\n    purple_circle: \"🟣\",\n    brown_circle: \"🟤\",\n    black_circle: \"⚫\",\n    white_circle: \"⚪\",\n    red_square: \"🟥\",\n    orange_square: \"🟧\",\n    yellow_square: \"🟨\",\n    green_square: \"🟩\",\n    blue_square: \"🟦\",\n    purple_square: \"🟪\",\n    brown_square: \"🟫\",\n    black_large_square: \"⬛\",\n    white_large_square: \"⬜\",\n    black_medium_square: \"◼️\",\n    white_medium_square: \"◻️\",\n    black_medium_small_square: \"◾\",\n    white_medium_small_square: \"◽\",\n    black_small_square: \"▪️\",\n    white_small_square: \"▫️\",\n    large_orange_diamond: \"🔶\",\n    large_blue_diamond: \"🔷\",\n    small_orange_diamond: \"🔸\",\n    small_blue_diamond: \"🔹\",\n    small_red_triangle: \"🔺\",\n    small_red_triangle_down: \"🔻\",\n    diamond_shape_with_a_dot_inside: \"💠\",\n    radio_button: \"🔘\",\n    white_square_button: \"🔳\",\n    black_square_button: \"🔲\",\n    checkered_flag: \"🏁\",\n    triangular_flag_on_post: \"🚩\",\n    crossed_flags: \"🎌\",\n    black_flag: \"🏴\",\n    white_flag: \"🏳️\",\n    rainbow_flag: \"🏳️‍🌈\",\n    transgender_flag: \"🏳️‍⚧️\",\n    pirate_flag: \"🏴‍☠️\",\n    ascension_island: \"🇦🇨\",\n    andorra: \"🇦🇩\",\n    united_arab_emirates: \"🇦🇪\",\n    afghanistan: \"🇦🇫\",\n    antigua_barbuda: \"🇦🇬\",\n    anguilla: \"🇦🇮\",\n    albania: \"🇦🇱\",\n    armenia: \"🇦🇲\",\n    angola: \"🇦🇴\",\n    antarctica: \"🇦🇶\",\n    argentina: \"🇦🇷\",\n    american_samoa: \"🇦🇸\",\n    austria: \"🇦🇹\",\n    australia: \"🇦🇺\",\n    aruba: \"🇦🇼\",\n    aland_islands: \"🇦🇽\",\n    azerbaijan: \"🇦🇿\",\n    bosnia_herzegovina: \"🇧🇦\",\n    barbados: \"🇧🇧\",\n    bangladesh: \"🇧🇩\",\n    belgium: \"🇧🇪\",\n    burkina_faso: \"🇧🇫\",\n    bulgaria: \"🇧🇬\",\n    bahrain: \"🇧🇭\",\n    burundi: \"🇧🇮\",\n    benin: \"🇧🇯\",\n    st_barthelemy: \"🇧🇱\",\n    bermuda: \"🇧🇲\",\n    brunei: \"🇧🇳\",\n    bolivia: \"🇧🇴\",\n    caribbean_netherlands: \"🇧🇶\",\n    brazil: \"🇧🇷\",\n    bahamas: \"🇧🇸\",\n    bhutan: \"🇧🇹\",\n    bouvet_island: \"🇧🇻\",\n    botswana: \"🇧🇼\",\n    belarus: \"🇧🇾\",\n    belize: \"🇧🇿\",\n    canada: \"🇨🇦\",\n    cocos_islands: \"🇨🇨\",\n    congo_kinshasa: \"🇨🇩\",\n    central_african_republic: \"🇨🇫\",\n    congo_brazzaville: \"🇨🇬\",\n    switzerland: \"🇨🇭\",\n    cote_divoire: \"🇨🇮\",\n    cook_islands: \"🇨🇰\",\n    chile: \"🇨🇱\",\n    cameroon: \"🇨🇲\",\n    cn: \"🇨🇳\",\n    colombia: \"🇨🇴\",\n    clipperton_island: \"🇨🇵\",\n    costa_rica: \"🇨🇷\",\n    cuba: \"🇨🇺\",\n    cape_verde: \"🇨🇻\",\n    curacao: \"🇨🇼\",\n    christmas_island: \"🇨🇽\",\n    cyprus: \"🇨🇾\",\n    czech_republic: \"🇨🇿\",\n    de: \"🇩🇪\",\n    diego_garcia: \"🇩🇬\",\n    djibouti: \"🇩🇯\",\n    denmark: \"🇩🇰\",\n    dominica: \"🇩🇲\",\n    dominican_republic: \"🇩🇴\",\n    algeria: \"🇩🇿\",\n    ceuta_melilla: \"🇪🇦\",\n    ecuador: \"🇪🇨\",\n    estonia: \"🇪🇪\",\n    egypt: \"🇪🇬\",\n    western_sahara: \"🇪🇭\",\n    eritrea: \"🇪🇷\",\n    es: \"🇪🇸\",\n    ethiopia: \"🇪🇹\",\n    eu: \"🇪🇺\",\n    european_union: \"🇪🇺\",\n    finland: \"🇫🇮\",\n    fiji: \"🇫🇯\",\n    falkland_islands: \"🇫🇰\",\n    micronesia: \"🇫🇲\",\n    faroe_islands: \"🇫🇴\",\n    fr: \"🇫🇷\",\n    gabon: \"🇬🇦\",\n    gb: \"🇬🇧\",\n    uk: \"🇬🇧\",\n    grenada: \"🇬🇩\",\n    georgia: \"🇬🇪\",\n    french_guiana: \"🇬🇫\",\n    guernsey: \"🇬🇬\",\n    ghana: \"🇬🇭\",\n    gibraltar: \"🇬🇮\",\n    greenland: \"🇬🇱\",\n    gambia: \"🇬🇲\",\n    guinea: \"🇬🇳\",\n    guadeloupe: \"🇬🇵\",\n    equatorial_guinea: \"🇬🇶\",\n    greece: \"🇬🇷\",\n    south_georgia_south_sandwich_islands: \"🇬🇸\",\n    guatemala: \"🇬🇹\",\n    guam: \"🇬🇺\",\n    guinea_bissau: \"🇬🇼\",\n    guyana: \"🇬🇾\",\n    hong_kong: \"🇭🇰\",\n    heard_mcdonald_islands: \"🇭🇲\",\n    honduras: \"🇭🇳\",\n    croatia: \"🇭🇷\",\n    haiti: \"🇭🇹\",\n    hungary: \"🇭🇺\",\n    canary_islands: \"🇮🇨\",\n    indonesia: \"🇮🇩\",\n    ireland: \"🇮🇪\",\n    israel: \"🇮🇱\",\n    isle_of_man: \"🇮🇲\",\n    india: \"🇮🇳\",\n    british_indian_ocean_territory: \"🇮🇴\",\n    iraq: \"🇮🇶\",\n    iran: \"🇮🇷\",\n    iceland: \"🇮🇸\",\n    it: \"🇮🇹\",\n    jersey: \"🇯🇪\",\n    jamaica: \"🇯🇲\",\n    jordan: \"🇯🇴\",\n    jp: \"🇯🇵\",\n    kenya: \"🇰🇪\",\n    kyrgyzstan: \"🇰🇬\",\n    cambodia: \"🇰🇭\",\n    kiribati: \"🇰🇮\",\n    comoros: \"🇰🇲\",\n    st_kitts_nevis: \"🇰🇳\",\n    north_korea: \"🇰🇵\",\n    kr: \"🇰🇷\",\n    kuwait: \"🇰🇼\",\n    cayman_islands: \"🇰🇾\",\n    kazakhstan: \"🇰🇿\",\n    laos: \"🇱🇦\",\n    lebanon: \"🇱🇧\",\n    st_lucia: \"🇱🇨\",\n    liechtenstein: \"🇱🇮\",\n    sri_lanka: \"🇱🇰\",\n    liberia: \"🇱🇷\",\n    lesotho: \"🇱🇸\",\n    lithuania: \"🇱🇹\",\n    luxembourg: \"🇱🇺\",\n    latvia: \"🇱🇻\",\n    libya: \"🇱🇾\",\n    morocco: \"🇲🇦\",\n    monaco: \"🇲🇨\",\n    moldova: \"🇲🇩\",\n    montenegro: \"🇲🇪\",\n    st_martin: \"🇲🇫\",\n    madagascar: \"🇲🇬\",\n    marshall_islands: \"🇲🇭\",\n    macedonia: \"🇲🇰\",\n    mali: \"🇲🇱\",\n    myanmar: \"🇲🇲\",\n    mongolia: \"🇲🇳\",\n    macau: \"🇲🇴\",\n    northern_mariana_islands: \"🇲🇵\",\n    martinique: \"🇲🇶\",\n    mauritania: \"🇲🇷\",\n    montserrat: \"🇲🇸\",\n    malta: \"🇲🇹\",\n    mauritius: \"🇲🇺\",\n    maldives: \"🇲🇻\",\n    malawi: \"🇲🇼\",\n    mexico: \"🇲🇽\",\n    malaysia: \"🇲🇾\",\n    mozambique: \"🇲🇿\",\n    namibia: \"🇳🇦\",\n    new_caledonia: \"🇳🇨\",\n    niger: \"🇳🇪\",\n    norfolk_island: \"🇳🇫\",\n    nigeria: \"🇳🇬\",\n    nicaragua: \"🇳🇮\",\n    netherlands: \"🇳🇱\",\n    norway: \"🇳🇴\",\n    nepal: \"🇳🇵\",\n    nauru: \"🇳🇷\",\n    niue: \"🇳🇺\",\n    new_zealand: \"🇳🇿\",\n    oman: \"🇴🇲\",\n    panama: \"🇵🇦\",\n    peru: \"🇵🇪\",\n    french_polynesia: \"🇵🇫\",\n    papua_new_guinea: \"🇵🇬\",\n    philippines: \"🇵🇭\",\n    pakistan: \"🇵🇰\",\n    poland: \"🇵🇱\",\n    st_pierre_miquelon: \"🇵🇲\",\n    pitcairn_islands: \"🇵🇳\",\n    puerto_rico: \"🇵🇷\",\n    palestinian_territories: \"🇵🇸\",\n    portugal: \"🇵🇹\",\n    palau: \"🇵🇼\",\n    paraguay: \"🇵🇾\",\n    qatar: \"🇶🇦\",\n    reunion: \"🇷🇪\",\n    romania: \"🇷🇴\",\n    serbia: \"🇷🇸\",\n    ru: \"🇷🇺\",\n    rwanda: \"🇷🇼\",\n    saudi_arabia: \"🇸🇦\",\n    solomon_islands: \"🇸🇧\",\n    seychelles: \"🇸🇨\",\n    sudan: \"🇸🇩\",\n    sweden: \"🇸🇪\",\n    singapore: \"🇸🇬\",\n    st_helena: \"🇸🇭\",\n    slovenia: \"🇸🇮\",\n    svalbard_jan_mayen: \"🇸🇯\",\n    slovakia: \"🇸🇰\",\n    sierra_leone: \"🇸🇱\",\n    san_marino: \"🇸🇲\",\n    senegal: \"🇸🇳\",\n    somalia: \"🇸🇴\",\n    suriname: \"🇸🇷\",\n    south_sudan: \"🇸🇸\",\n    sao_tome_principe: \"🇸🇹\",\n    el_salvador: \"🇸🇻\",\n    sint_maarten: \"🇸🇽\",\n    syria: \"🇸🇾\",\n    swaziland: \"🇸🇿\",\n    tristan_da_cunha: \"🇹🇦\",\n    turks_caicos_islands: \"🇹🇨\",\n    chad: \"🇹🇩\",\n    french_southern_territories: \"🇹🇫\",\n    togo: \"🇹🇬\",\n    thailand: \"🇹🇭\",\n    tajikistan: \"🇹🇯\",\n    tokelau: \"🇹🇰\",\n    timor_leste: \"🇹🇱\",\n    turkmenistan: \"🇹🇲\",\n    tunisia: \"🇹🇳\",\n    tonga: \"🇹🇴\",\n    tr: \"🇹🇷\",\n    trinidad_tobago: \"🇹🇹\",\n    tuvalu: \"🇹🇻\",\n    taiwan: \"🇹🇼\",\n    tanzania: \"🇹🇿\",\n    ukraine: \"🇺🇦\",\n    uganda: \"🇺🇬\",\n    us_outlying_islands: \"🇺🇲\",\n    united_nations: \"🇺🇳\",\n    us: \"🇺🇸\",\n    uruguay: \"🇺🇾\",\n    uzbekistan: \"🇺🇿\",\n    vatican_city: \"🇻🇦\",\n    st_vincent_grenadines: \"🇻🇨\",\n    venezuela: \"🇻🇪\",\n    british_virgin_islands: \"🇻🇬\",\n    us_virgin_islands: \"🇻🇮\",\n    vietnam: \"🇻🇳\",\n    vanuatu: \"🇻🇺\",\n    wallis_futuna: \"🇼🇫\",\n    samoa: \"🇼🇸\",\n    kosovo: \"🇽🇰\",\n    yemen: \"🇾🇪\",\n    mayotte: \"🇾🇹\",\n    south_africa: \"🇿🇦\",\n    zambia: \"🇿🇲\",\n    zimbabwe: \"🇿🇼\",\n    england: \"🏴󠁧󠁢󠁥󠁮󠁧󠁿\",\n    scotland: \"🏴󠁧󠁢󠁳󠁣󠁴󠁿\",\n    wales: \"🏴󠁧󠁢󠁷󠁬󠁳󠁿\",\n};\n","export default \"__VITE_ASSET__c7824522__\"","import { Hash, VolumeFull } from \"@styled-icons/boxicons-regular\";\nimport { observer } from \"mobx-react-lite\";\nimport { Channel } from \"revolt.js/dist/maps/Channels\";\n\nimport { useContext } from \"preact/hooks\";\n\nimport { AppContext } from \"../../context/revoltjs/RevoltClient\";\n\nimport { ImageIconBase, IconBaseProps } from \"./IconBase\";\nimport fallback from \"./assets/group.png\";\n\ninterface Props extends IconBaseProps<Channel> {\n    isServerChannel?: boolean;\n}\n\nexport default observer(\n    (\n        props: Props &\n            Omit<\n                JSX.HTMLAttributes<HTMLImageElement>,\n                keyof Props | \"children\" | \"as\"\n            >,\n    ) => {\n        const client = useContext(AppContext);\n\n        const {\n            size,\n            target,\n            attachment,\n            isServerChannel: server,\n            animate,\n            ...imgProps\n        } = props;\n        const iconURL = client.generateFileURL(\n            target?.icon ?? attachment,\n            { max_side: 256 },\n            animate,\n        );\n        const isServerChannel =\n            server ||\n            (target &&\n                (target.channel_type === \"TextChannel\" ||\n                    target.channel_type === \"VoiceChannel\"));\n\n        if (typeof iconURL === \"undefined\") {\n            if (isServerChannel) {\n                if (target?.channel_type === \"VoiceChannel\") {\n                    return <VolumeFull size={size} />;\n                }\n                return <Hash size={size} />;\n            }\n        }\n\n        // The border radius of the channel icon, if it's a server-channel it should be square (undefined).\n        let borderRadius: string | undefined = \"--border-radius-channel-icon\";\n        if (isServerChannel) {\n            borderRadius = undefined;\n        }\n\n        return (\n            // ! TODO: replace fallback with <picture /> + <source />\n            <ImageIconBase\n                {...imgProps}\n                width={size}\n                height={size}\n                loading=\"lazy\"\n                aria-hidden=\"true\"\n                borderRadius={borderRadius}\n                src={iconURL ?? fallback}\n            />\n        );\n    },\n);\n","import { Channel } from \"revolt.js/dist/maps/Channels\";\nimport { User } from \"revolt.js/dist/maps/Users\";\nimport styled, { css } from \"styled-components\";\n\nimport { StateUpdater, useState } from \"preact/hooks\";\n\nimport { useClient } from \"../../context/revoltjs/RevoltClient\";\n\nimport { emojiDictionary } from \"../../assets/emojis\";\nimport ChannelIcon from \"./ChannelIcon\";\nimport Emoji from \"./Emoji\";\nimport UserIcon from \"./user/UserIcon\";\n\nexport type AutoCompleteState =\n    | { type: \"none\" }\n    | ({ selected: number; within: boolean } & (\n          | {\n                type: \"emoji\";\n                matches: string[];\n            }\n          | {\n                type: \"user\";\n                matches: User[];\n            }\n          | {\n                type: \"channel\";\n                matches: Channel[];\n            }\n      ));\n\nexport type SearchClues = {\n    users?: { type: \"channel\"; id: string } | { type: \"all\" };\n    channels?: { server: string };\n};\n\nexport type AutoCompleteProps = {\n    detached?: boolean;\n    state: AutoCompleteState;\n    setState: StateUpdater<AutoCompleteState>;\n\n    onKeyUp: (ev: KeyboardEvent) => void;\n    onKeyDown: (ev: KeyboardEvent) => boolean;\n    onChange: (ev: JSX.TargetedEvent<HTMLTextAreaElement, Event>) => void;\n    onClick: JSX.MouseEventHandler<HTMLButtonElement>;\n    onFocus: JSX.FocusEventHandler<HTMLTextAreaElement>;\n    onBlur: JSX.FocusEventHandler<HTMLTextAreaElement>;\n};\n\nexport function useAutoComplete(\n    setValue: (v?: string) => void,\n    searchClues?: SearchClues,\n): AutoCompleteProps {\n    const [state, setState] = useState<AutoCompleteState>({ type: \"none\" });\n    const [focused, setFocused] = useState(false);\n    const client = useClient();\n\n    function findSearchString(\n        el: HTMLTextAreaElement,\n    ): [\"emoji\" | \"user\" | \"channel\", string, number] | undefined {\n        if (el.selectionStart === el.selectionEnd) {\n            const cursor = el.selectionStart;\n            const content = el.value.slice(0, cursor);\n\n            const valid = /\\w/;\n\n            let j = content.length - 1;\n            if (content[j] === \"@\") {\n                return [\"user\", \"\", j];\n            } else if (content[j] === \"#\") {\n                return [\"channel\", \"\", j];\n            }\n\n            while (j >= 0 && valid.test(content[j])) {\n                j--;\n            }\n\n            if (j === -1) return;\n            const current = content[j];\n\n            if (current === \":\" || current === \"@\" || current === \"#\") {\n                const search = content.slice(j + 1, content.length);\n                if (search.length > 0) {\n                    return [\n                        current === \"#\"\n                            ? \"channel\"\n                            : current === \":\"\n                            ? \"emoji\"\n                            : \"user\",\n                        search.toLowerCase(),\n                        j + 1,\n                    ];\n                }\n            }\n        }\n    }\n\n    function onChange(ev: JSX.TargetedEvent<HTMLTextAreaElement, Event>) {\n        const el = ev.currentTarget;\n\n        const result = findSearchString(el);\n        if (result) {\n            const [type, search] = result;\n            const regex = new RegExp(search, \"i\");\n\n            if (type === \"emoji\") {\n                // ! TODO: we should convert it to a Binary Search Tree and use that\n                const matches = Object.keys(emojiDictionary)\n                    .filter((emoji: string) => emoji.match(regex))\n                    .splice(0, 5);\n\n                if (matches.length > 0) {\n                    const currentPosition =\n                        state.type !== \"none\" ? state.selected : 0;\n\n                    setState({\n                        type: \"emoji\",\n                        matches,\n                        selected: Math.min(currentPosition, matches.length - 1),\n                        within: false,\n                    });\n\n                    return;\n                }\n            }\n\n            if (type === \"user\" && searchClues?.users) {\n                let users: User[] = [];\n                switch (searchClues.users.type) {\n                    case \"all\":\n                        users = [...client.users.values()];\n                        break;\n                    case \"channel\": {\n                        const channel = client.channels.get(\n                            searchClues.users.id,\n                        );\n                        switch (channel?.channel_type) {\n                            case \"Group\":\n                            case \"DirectMessage\":\n                                users = channel.recipients!.filter(\n                                    (x) => typeof x !== \"undefined\",\n                                ) as User[];\n                                break;\n                            case \"TextChannel\":\n                                {\n                                    const server = channel.server_id;\n                                    users = [...client.members.keys()]\n                                        .map((x) => JSON.parse(x))\n                                        .filter((x) => x.server === server)\n                                        .map((x) => client.users.get(x.user))\n                                        .filter(\n                                            (x) => typeof x !== \"undefined\",\n                                        ) as User[];\n                                }\n                                break;\n                            default:\n                                return;\n                        }\n                    }\n                }\n\n                users = users.filter(\n                    (x) => x._id !== \"00000000000000000000000000\",\n                );\n\n                const matches = (\n                    search.length > 0\n                        ? users.filter((user) =>\n                              user.username.toLowerCase().match(regex),\n                          )\n                        : users\n                )\n                    .splice(0, 5)\n                    .filter((x) => typeof x !== \"undefined\");\n\n                if (matches.length > 0) {\n                    const currentPosition =\n                        state.type !== \"none\" ? state.selected : 0;\n\n                    setState({\n                        type: \"user\",\n                        matches,\n                        selected: Math.min(currentPosition, matches.length - 1),\n                        within: false,\n                    });\n\n                    return;\n                }\n            }\n\n            if (type === \"channel\" && searchClues?.channels) {\n                const channels = client.servers\n                    .get(searchClues.channels.server)\n                    ?.channels.filter(\n                        (x) => typeof x !== \"undefined\",\n                    ) as Channel[];\n\n                const matches = (\n                    search.length > 0\n                        ? channels.filter((channel) =>\n                              channel.name!.toLowerCase().match(regex),\n                          )\n                        : channels\n                )\n                    .splice(0, 5)\n                    .filter((x) => typeof x !== \"undefined\");\n\n                if (matches.length > 0) {\n                    const currentPosition =\n                        state.type !== \"none\" ? state.selected : 0;\n\n                    setState({\n                        type: \"channel\",\n                        matches,\n                        selected: Math.min(currentPosition, matches.length - 1),\n                        within: false,\n                    });\n\n                    return;\n                }\n            }\n        }\n\n        if (state.type !== \"none\") {\n            setState({ type: \"none\" });\n        }\n    }\n\n    function selectCurrent(el: HTMLTextAreaElement) {\n        if (state.type !== \"none\") {\n            const result = findSearchString(el);\n            if (result) {\n                const [_type, search, index] = result;\n\n                const content = el.value.split(\"\");\n                if (state.type === \"emoji\") {\n                    content.splice(\n                        index,\n                        search.length,\n                        state.matches[state.selected],\n                        \": \",\n                    );\n                } else if (state.type === \"user\") {\n                    content.splice(\n                        index - 1,\n                        search.length + 1,\n                        \"<@\",\n                        state.matches[state.selected]._id,\n                        \"> \",\n                    );\n                } else {\n                    content.splice(\n                        index - 1,\n                        search.length + 1,\n                        \"<#\",\n                        state.matches[state.selected]._id,\n                        \"> \",\n                    );\n                }\n\n                setValue(content.join(\"\"));\n            }\n        }\n    }\n\n    function onClick(ev: JSX.TargetedMouseEvent<HTMLButtonElement>) {\n        ev.preventDefault();\n        selectCurrent(document.querySelector(\"#message\")!);\n        setFocused(false);\n    }\n\n    function onKeyDown(e: KeyboardEvent) {\n        if (focused && state.type !== \"none\") {\n            if (e.key === \"ArrowUp\") {\n                e.preventDefault();\n                if (state.selected > 0) {\n                    setState({\n                        ...state,\n                        selected: state.selected - 1,\n                    });\n                }\n\n                return true;\n            }\n\n            if (e.key === \"ArrowDown\") {\n                e.preventDefault();\n                if (state.selected < state.matches.length - 1) {\n                    setState({\n                        ...state,\n                        selected: state.selected + 1,\n                    });\n                }\n\n                return true;\n            }\n\n            if (e.key === \"Enter\" || e.key === \"Tab\") {\n                e.preventDefault();\n                selectCurrent(e.currentTarget as HTMLTextAreaElement);\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    function onKeyUp(e: KeyboardEvent) {\n        if (e.currentTarget !== null) {\n            // @ts-expect-error Type mis-match.\n            onChange(e);\n        }\n    }\n\n    function onFocus(ev: JSX.TargetedFocusEvent<HTMLTextAreaElement>) {\n        setFocused(true);\n        onChange(ev);\n    }\n\n    function onBlur() {\n        if (state.type !== \"none\" && state.within) return;\n        setFocused(false);\n    }\n\n    return {\n        state: focused ? state : { type: \"none\" },\n        setState,\n\n        onClick,\n        onChange,\n        onKeyUp,\n        onKeyDown,\n        onFocus,\n        onBlur,\n    };\n}\n\nconst Base = styled.div<{ detached?: boolean }>`\n    position: relative;\n\n    > div {\n        bottom: 0;\n        width: 100%;\n        position: absolute;\n        background: var(--primary-header);\n    }\n\n    button {\n        gap: 8px;\n        margin: 4px;\n        padding: 6px;\n        border: none;\n        display: flex;\n        font-size: 1em;\n        cursor: pointer;\n        align-items: center;\n        flex-direction: row;\n        font-family: inherit;\n        background: transparent;\n        color: var(--foreground);\n        width: calc(100% - 12px);\n        border-radius: var(--border-radius);\n\n        span {\n            display: grid;\n            place-items: center;\n        }\n\n        &.active {\n            background: var(--primary-background);\n        }\n    }\n\n    ${(props) =>\n        props.detached &&\n        css`\n            bottom: 8px;\n\n            > div {\n                border-radius: var(--border-radius);\n            }\n        `}\n`;\n\nexport default function AutoComplete({\n    detached,\n    state,\n    setState,\n    onClick,\n}: Pick<AutoCompleteProps, \"detached\" | \"state\" | \"setState\" | \"onClick\">) {\n    return (\n        <Base detached={detached}>\n            <div>\n                {state.type === \"emoji\" &&\n                    state.matches.map((match, i) => (\n                        <button\n                            key={match}\n                            className={i === state.selected ? \"active\" : \"\"}\n                            onMouseEnter={() =>\n                                (i !== state.selected || !state.within) &&\n                                setState({\n                                    ...state,\n                                    selected: i,\n                                    within: true,\n                                })\n                            }\n                            onMouseLeave={() =>\n                                state.within &&\n                                setState({\n                                    ...state,\n                                    within: false,\n                                })\n                            }\n                            onClick={onClick}>\n                            <Emoji\n                                emoji={\n                                    (emojiDictionary as Record<string, string>)[\n                                        match\n                                    ]\n                                }\n                                size={20}\n                            />\n                            :{match}:\n                        </button>\n                    ))}\n                {state.type === \"user\" &&\n                    state.matches.map((match, i) => (\n                        <button\n                            key={match}\n                            className={i === state.selected ? \"active\" : \"\"}\n                            onMouseEnter={() =>\n                                (i !== state.selected || !state.within) &&\n                                setState({\n                                    ...state,\n                                    selected: i,\n                                    within: true,\n                                })\n                            }\n                            onMouseLeave={() =>\n                                state.within &&\n                                setState({\n                                    ...state,\n                                    within: false,\n                                })\n                            }\n                            onClick={onClick}>\n                            <UserIcon size={24} target={match} status={true} />\n                            {match.username}\n                        </button>\n                    ))}\n                {state.type === \"channel\" &&\n                    state.matches.map((match, i) => (\n                        <button\n                            key={match}\n                            className={i === state.selected ? \"active\" : \"\"}\n                            onMouseEnter={() =>\n                                (i !== state.selected || !state.within) &&\n                                setState({\n                                    ...state,\n                                    selected: i,\n                                    within: true,\n                                })\n                            }\n                            onMouseLeave={() =>\n                                state.within &&\n                                setState({\n                                    ...state,\n                                    within: false,\n                                })\n                            }\n                            onClick={onClick}>\n                            <ChannelIcon size={24} target={match} />\n                            {match.name}\n                        </button>\n                    ))}\n            </div>\n        </Base>\n    );\n}\n","import { Message } from \"revolt.js/dist/maps/Messages\";\nimport styled from \"styled-components\";\n\nimport { useContext, useEffect, useState } from \"preact/hooks\";\n\nimport TextAreaAutoSize from \"../../../lib/TextAreaAutoSize\";\nimport { isTouchscreenDevice } from \"../../../lib/isTouchscreenDevice\";\n\nimport {\n    IntermediateContext,\n    useIntermediate,\n} from \"../../../context/intermediate/Intermediate\";\n\nimport AutoComplete, {\n    useAutoComplete,\n} from \"../../../components/common/AutoComplete\";\n\nconst EditorBase = styled.div`\n    display: flex;\n    flex-direction: column;\n\n    textarea {\n        resize: none;\n        padding: 12px;\n        white-space: pre-wrap;\n        font-size: var(--text-size);\n        border-radius: var(--border-radius);\n        background: var(--secondary-header);\n    }\n\n    .caption {\n        padding: 2px;\n        font-size: 11px;\n        color: var(--tertiary-foreground);\n\n        a {\n            cursor: pointer;\n            &:hover {\n                text-decoration: underline;\n            }\n        }\n    }\n`;\n\ninterface Props {\n    message: Message;\n    finish: () => void;\n}\n\nexport default function MessageEditor({ message, finish }: Props) {\n    const [content, setContent] = useState((message.content as string) ?? \"\");\n    const { focusTaken } = useContext(IntermediateContext);\n    const { openScreen } = useIntermediate();\n\n    async function save() {\n        finish();\n\n        if (content.length === 0) {\n            openScreen({\n                id: \"special_prompt\",\n                type: \"delete_message\",\n                target: message,\n            });\n        } else if (content !== message.content) {\n            await message.edit({\n                content,\n            });\n        }\n    }\n\n    // ? Stop editing when pressing ESC.\n    useEffect(() => {\n        function keyUp(e: KeyboardEvent) {\n            if (e.key === \"Escape\" && !focusTaken) {\n                finish();\n            }\n        }\n\n        document.body.addEventListener(\"keyup\", keyUp);\n        return () => document.body.removeEventListener(\"keyup\", keyUp);\n    }, [focusTaken, finish]);\n\n    const {\n        onChange,\n        onKeyUp,\n        onKeyDown,\n        onFocus,\n        onBlur,\n        ...autoCompleteProps\n    } = useAutoComplete((v) => setContent(v ?? \"\"), {\n        users: { type: \"all\" },\n    });\n\n    return (\n        <EditorBase>\n            <AutoComplete detached {...autoCompleteProps} />\n            <TextAreaAutoSize\n                forceFocus\n                maxRows={10}\n                value={content}\n                maxLength={2000}\n                padding=\"var(--message-box-padding)\"\n                onChange={(ev) => {\n                    onChange(ev);\n                    setContent(ev.currentTarget.value);\n                }}\n                onKeyDown={(e) => {\n                    if (onKeyDown(e)) return;\n\n                    if (\n                        !e.shiftKey &&\n                        e.key === \"Enter\" &&\n                        !isTouchscreenDevice\n                    ) {\n                        e.preventDefault();\n                        save();\n                    }\n                }}\n                onKeyUp={onKeyUp}\n                onFocus={onFocus}\n                onBlur={onBlur}\n            />\n            <span className=\"caption\">\n                escape to <a onClick={finish}>cancel</a> &middot; enter to{\" \"}\n                <a onClick={save}>save</a>\n            </span>\n        </EditorBase>\n    );\n}\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport { X } from \"@styled-icons/boxicons-regular\";\nimport { observer } from \"mobx-react-lite\";\nimport { RelationshipStatus } from \"revolt-api/types/Users\";\nimport { Message as MessageI } from \"revolt.js/dist/maps/Messages\";\nimport styled from \"styled-components\";\nimport { decodeTime } from \"ulid\";\n\nimport { Text } from \"preact-i18n\";\nimport { memo } from \"preact/compat\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nimport { internalSubscribe, internalEmit } from \"../../../lib/eventEmitter\";\nimport { ChannelRenderer } from \"../../../lib/renderer/Singleton\";\n\nimport { connectState } from \"../../../redux/connector\";\nimport { QueuedMessage } from \"../../../redux/reducers/queue\";\n\nimport RequiresOnline from \"../../../context/revoltjs/RequiresOnline\";\nimport { useClient } from \"../../../context/revoltjs/RevoltClient\";\n\nimport Message from \"../../../components/common/messaging/Message\";\nimport { SystemMessage } from \"../../../components/common/messaging/SystemMessage\";\nimport DateDivider from \"../../../components/ui/DateDivider\";\nimport Preloader from \"../../../components/ui/Preloader\";\n\nimport { Children } from \"../../../types/Preact\";\nimport ConversationStart from \"./ConversationStart\";\nimport MessageEditor from \"./MessageEditor\";\n\ninterface Props {\n    highlight?: string;\n    queue: QueuedMessage[];\n    renderer: ChannelRenderer;\n}\n\nconst BlockedMessage = styled.div`\n    font-size: 0.8em;\n    margin-top: 6px;\n    padding: 4px 64px;\n    color: var(--tertiary-foreground);\n\n    &:hover {\n        background: var(--hover);\n    }\n`;\n\nconst MessageRenderer = observer(({ renderer, queue, highlight }: Props) => {\n    const client = useClient();\n    const userId = client.user!._id;\n\n    const [editing, setEditing] = useState<string | undefined>(undefined);\n    const stopEditing = () => {\n        setEditing(undefined);\n        internalEmit(\"TextArea\", \"focus\", \"message\");\n    };\n\n    useEffect(() => {\n        function editLast() {\n            if (renderer.state !== \"RENDER\") return;\n            for (let i = renderer.messages.length - 1; i >= 0; i--) {\n                if (renderer.messages[i].author_id === userId) {\n                    setEditing(renderer.messages[i]._id);\n                    internalEmit(\"MessageArea\", \"jump_to_bottom\");\n                    return;\n                }\n            }\n        }\n\n        const subs = [\n            internalSubscribe(\"MessageRenderer\", \"edit_last\", editLast),\n            internalSubscribe(\n                \"MessageRenderer\",\n                \"edit_message\",\n                setEditing as (...args: unknown[]) => void,\n            ),\n        ];\n\n        return () => subs.forEach((unsub) => unsub());\n    }, [renderer.messages, renderer.state, userId]);\n\n    const render: Children[] = [];\n    let previous: MessageI | undefined;\n\n    if (renderer.atTop) {\n        render.push(<ConversationStart channel={renderer.channel} />);\n    } else {\n        render.push(\n            <RequiresOnline>\n                <Preloader type=\"ring\" />\n            </RequiresOnline>,\n        );\n    }\n\n    let head = true;\n    function compare(\n        current: string,\n        curAuthor: string,\n        previous: string,\n        prevAuthor: string,\n    ) {\n        const atime = decodeTime(current),\n            adate = new Date(atime),\n            btime = decodeTime(previous),\n            bdate = new Date(btime);\n\n        if (\n            adate.getFullYear() !== bdate.getFullYear() ||\n            adate.getMonth() !== bdate.getMonth() ||\n            adate.getDate() !== bdate.getDate()\n        ) {\n            render.push(<DateDivider date={adate} />);\n            head = true;\n        }\n\n        head = curAuthor !== prevAuthor || Math.abs(btime - atime) >= 420000;\n    }\n\n    let blocked = 0;\n    function pushBlocked() {\n        render.push(\n            <BlockedMessage>\n                <X size={16} />{\" \"}\n                <Text\n                    id=\"app.main.channel.misc.blocked_messages\"\n                    fields={{ count: blocked }}\n                />\n            </BlockedMessage>,\n        );\n        blocked = 0;\n    }\n\n    for (const message of renderer.messages) {\n        if (previous) {\n            compare(\n                message._id,\n                message.author_id,\n                previous._id,\n                previous.author_id,\n            );\n        }\n\n        if (message.author_id === \"00000000000000000000000000\") {\n            render.push(\n                <SystemMessage\n                    key={message._id}\n                    message={message}\n                    attachContext\n                    highlight={highlight === message._id}\n                />,\n            );\n        } else if (\n            message.author?.relationship === RelationshipStatus.Blocked\n        ) {\n            blocked++;\n        } else {\n            if (blocked > 0) pushBlocked();\n\n            render.push(\n                <Message\n                    message={message}\n                    key={message._id}\n                    head={head}\n                    content={\n                        editing === message._id ? (\n                            <MessageEditor\n                                message={message}\n                                finish={stopEditing}\n                            />\n                        ) : undefined\n                    }\n                    attachContext\n                    highlight={highlight === message._id}\n                />,\n            );\n        }\n\n        previous = message;\n    }\n\n    if (blocked > 0) pushBlocked();\n\n    const nonces = renderer.messages.map((x) => x.nonce);\n    if (renderer.atBottom) {\n        for (const msg of queue) {\n            if (msg.channel !== renderer.channel._id) continue;\n            if (nonces.includes(msg.id)) continue;\n\n            if (previous) {\n                compare(msg.id, userId!, previous._id, previous.author_id);\n\n                previous = {\n                    _id: msg.id,\n                    author_id: userId!,\n                } as MessageI;\n            }\n\n            render.push(\n                <Message\n                    message={\n                        new MessageI(client, {\n                            ...msg.data,\n                            replies: msg.data.replies.map((x) => x.id),\n                        })\n                    }\n                    key={msg.id}\n                    queued={msg}\n                    head={head}\n                    attachContext\n                />,\n            );\n        }\n    } else {\n        render.push(\n            <RequiresOnline>\n                <Preloader type=\"ring\" />\n            </RequiresOnline>,\n        );\n    }\n\n    return <>{render}</>;\n});\n\nexport default memo(\n    connectState<Omit<Props, \"queue\">>(MessageRenderer, (state) => {\n        return {\n            queue: state.queue,\n        };\n    }),\n);\n","import { runInAction } from \"mobx\";\nimport { observer } from \"mobx-react-lite\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { animateScroll } from \"react-scroll\";\nimport { Channel } from \"revolt.js/dist/maps/Channels\";\nimport styled from \"styled-components\";\nimport useResizeObserver from \"use-resize-observer\";\n\nimport { createContext } from \"preact\";\nimport {\n    useCallback,\n    useContext,\n    useEffect,\n    useLayoutEffect,\n    useRef,\n    useState,\n} from \"preact/hooks\";\n\nimport { defer } from \"../../../lib/defer\";\nimport { internalEmit, internalSubscribe } from \"../../../lib/eventEmitter\";\nimport { getRenderer } from \"../../../lib/renderer/Singleton\";\nimport { ScrollState } from \"../../../lib/renderer/types\";\n\nimport { IntermediateContext } from \"../../../context/intermediate/Intermediate\";\nimport RequiresOnline from \"../../../context/revoltjs/RequiresOnline\";\nimport {\n    ClientStatus,\n    StatusContext,\n} from \"../../../context/revoltjs/RevoltClient\";\n\nimport Preloader from \"../../../components/ui/Preloader\";\n\nimport ConversationStart from \"./ConversationStart\";\nimport MessageRenderer from \"./MessageRenderer\";\n\nconst Area = styled.div`\n    height: 100%;\n    flex-grow: 1;\n    min-height: 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    word-break: break-word;\n\n    > div {\n        display: flex;\n        min-height: 100%;\n        padding-bottom: 24px;\n        flex-direction: column;\n        justify-content: flex-end;\n    }\n`;\n\ninterface Props {\n    channel: Channel;\n}\n\nexport const MessageAreaWidthContext = createContext(0);\nexport const MESSAGE_AREA_PADDING = 82;\n\nexport const MessageArea = observer(({ channel }: Props) => {\n    const history = useHistory();\n    const status = useContext(StatusContext);\n    const { focusTaken } = useContext(IntermediateContext);\n\n    // ? Required data for message links.\n    const { message } = useParams<{ message: string }>();\n    const [highlight, setHighlight] = useState<string | undefined>(undefined);\n\n    // ? This is the scroll container.\n    const ref = useRef<HTMLDivElement>(null);\n    const { width, height } = useResizeObserver<HTMLDivElement>({ ref });\n\n    // ? Current channel state.\n    const renderer = getRenderer(channel);\n\n    // ? useRef to avoid re-renders\n    const scrollState = useRef<ScrollState>({ type: \"Free\" });\n\n    const setScrollState = useCallback(\n        (v: ScrollState) => {\n            if (v.type === \"StayAtBottom\") {\n                if (scrollState.current.type === \"Bottom\" || atBottom()) {\n                    scrollState.current = {\n                        type: \"ScrollToBottom\",\n                        smooth: v.smooth,\n                    };\n                } else {\n                    scrollState.current = { type: \"Free\" };\n                }\n            } else {\n                scrollState.current = v;\n            }\n\n            defer(() => {\n                if (scrollState.current.type === \"ScrollToBottom\") {\n                    setScrollState({\n                        type: \"Bottom\",\n                        scrollingUntil: +new Date() + 150,\n                    });\n\n                    animateScroll.scrollToBottom({\n                        container: ref.current,\n                        duration: scrollState.current.smooth ? 150 : 0,\n                    });\n                } else if (scrollState.current.type === \"ScrollToView\") {\n                    document\n                        .getElementById(scrollState.current.id)\n                        ?.scrollIntoView({ block: \"center\" });\n\n                    setScrollState({ type: \"Free\" });\n                } else if (scrollState.current.type === \"OffsetTop\") {\n                    animateScroll.scrollTo(\n                        Math.max(\n                            101,\n                            ref.current\n                                ? ref.current.scrollTop +\n                                      (ref.current.scrollHeight -\n                                          scrollState.current.previousHeight)\n                                : 101,\n                        ),\n                        {\n                            container: ref.current,\n                            duration: 0,\n                        },\n                    );\n\n                    setScrollState({ type: \"Free\" });\n                } else if (scrollState.current.type === \"ScrollTop\") {\n                    animateScroll.scrollTo(scrollState.current.y, {\n                        container: ref.current,\n                        duration: 0,\n                    });\n\n                    setScrollState({ type: \"Free\" });\n                }\n\n                defer(() => renderer.complete());\n            });\n        },\n        // eslint-disable-next-line\n        [scrollState],\n    );\n\n    // ? Determine if we are at the bottom of the scroll container.\n    // -> https://stackoverflow.com/a/44893438\n    // By default, we assume we are at the bottom, i.e. when we first load.\n    const atBottom = (offset = 0) =>\n        ref.current\n            ? Math.floor(ref.current?.scrollHeight - ref.current?.scrollTop) -\n                  offset <=\n              ref.current?.clientHeight\n            : true;\n\n    const atTop = (offset = 0) =>\n        ref.current ? ref.current.scrollTop <= offset : false;\n\n    // ? Handle global jump to bottom, e.g. when editing last message in chat.\n    useEffect(() => {\n        return internalSubscribe(\"MessageArea\", \"jump_to_bottom\", () =>\n            setScrollState({ type: \"ScrollToBottom\" }),\n        );\n    }, [setScrollState]);\n\n    // ? Handle events from renderer.\n    useLayoutEffect(\n        () => setScrollState(renderer.scrollState),\n        // eslint-disable-next-line\n        [renderer.scrollState],\n    );\n\n    // ? Load channel initially.\n    useEffect(() => {\n        if (message) return;\n        if (renderer.state === \"RENDER\") {\n            runInAction(() => (renderer.fetching = true));\n\n            if (renderer.scrollAnchored) {\n                setScrollState({ type: \"ScrollToBottom\" });\n            } else {\n                setScrollState({\n                    type: \"ScrollTop\",\n                    y: renderer.scrollPosition,\n                });\n            }\n        } else {\n            renderer.init();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    // ? If message present or changes, load it as well.\n    useEffect(() => {\n        if (message) {\n            setHighlight(message);\n            renderer.init(message);\n\n            if (channel.channel_type === \"TextChannel\") {\n                history.push(\n                    `/server/${channel.server_id}/channel/${channel._id}`,\n                );\n            } else {\n                history.push(`/channel/${channel._id}`);\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [message]);\n\n    // ? If we are waiting for network, try again.\n    useEffect(() => {\n        switch (status) {\n            case ClientStatus.ONLINE:\n                if (renderer.state === \"WAITING_FOR_NETWORK\") {\n                    renderer.init();\n                } else {\n                    renderer.reloadStale();\n                }\n\n                break;\n            case ClientStatus.OFFLINE:\n            case ClientStatus.DISCONNECTED:\n            case ClientStatus.CONNECTING:\n                renderer.markStale();\n                break;\n        }\n    }, [renderer, status]);\n\n    // ? When the container is scrolled.\n    // ? Also handle StayAtBottom\n    useEffect(() => {\n        const current = ref.current;\n        if (!current) return;\n\n        async function onScroll() {\n            if (scrollState.current.type === \"Free\" && atBottom()) {\n                setScrollState({ type: \"Bottom\" });\n            } else if (scrollState.current.type === \"Bottom\" && !atBottom()) {\n                if (\n                    scrollState.current.scrollingUntil &&\n                    scrollState.current.scrollingUntil > +new Date()\n                )\n                    return;\n                setScrollState({ type: \"Free\" });\n            }\n        }\n\n        current.addEventListener(\"scroll\", onScroll);\n        return () => current.removeEventListener(\"scroll\", onScroll);\n    }, [ref, scrollState, setScrollState]);\n\n    // ? Top and bottom loaders.\n    useEffect(() => {\n        const current = ref.current;\n        if (!current) return;\n\n        async function onScroll() {\n            renderer.scrollPosition = current!.scrollTop;\n\n            if (atTop(100)) {\n                renderer.loadTop(current!);\n            }\n\n            if (atBottom(100)) {\n                renderer.loadBottom(current!);\n            }\n\n            if (atBottom()) {\n                renderer.scrollAnchored = true;\n            } else {\n                renderer.scrollAnchored = false;\n            }\n        }\n\n        current.addEventListener(\"scroll\", onScroll);\n        return () => current.removeEventListener(\"scroll\", onScroll);\n    }, [ref, renderer]);\n\n    // ? Scroll down whenever the message area resizes.\n    const stbOnResize = useCallback(() => {\n        if (!atBottom() && scrollState.current.type === \"Bottom\") {\n            animateScroll.scrollToBottom({\n                container: ref.current,\n                duration: 0,\n            });\n\n            setScrollState({ type: \"Bottom\" });\n        }\n    }, [setScrollState]);\n\n    // ? Scroll down when container resized.\n    useLayoutEffect(() => {\n        stbOnResize();\n    }, [stbOnResize, height]);\n\n    // ? Scroll down whenever the window resizes.\n    useLayoutEffect(() => {\n        document.addEventListener(\"resize\", stbOnResize);\n        return () => document.removeEventListener(\"resize\", stbOnResize);\n    }, [ref, scrollState, stbOnResize]);\n\n    // ? Scroll to bottom when pressing 'Escape'.\n    useEffect(() => {\n        function keyUp(e: KeyboardEvent) {\n            if (e.key === \"Escape\" && !focusTaken) {\n                renderer.jumpToBottom(true);\n                internalEmit(\"TextArea\", \"focus\", \"message\");\n            }\n        }\n\n        document.body.addEventListener(\"keyup\", keyUp);\n        return () => document.body.removeEventListener(\"keyup\", keyUp);\n    }, [renderer, ref, focusTaken]);\n\n    return (\n        <MessageAreaWidthContext.Provider\n            value={(width ?? 0) - MESSAGE_AREA_PADDING}>\n            <Area ref={ref}>\n                <div>\n                    {renderer.state === \"LOADING\" && <Preloader type=\"ring\" />}\n                    {renderer.state === \"WAITING_FOR_NETWORK\" && (\n                        <RequiresOnline>\n                            <Preloader type=\"ring\" />\n                        </RequiresOnline>\n                    )}\n                    {renderer.state === \"RENDER\" && (\n                        <MessageRenderer\n                            renderer={renderer}\n                            highlight={highlight}\n                        />\n                    )}\n                    {renderer.state === \"EMPTY\" && (\n                        <ConversationStart channel={channel} />\n                    )}\n                </div>\n            </Area>\n        </MessageAreaWidthContext.Provider>\n    );\n});\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport { Embed } from \"revolt-api/types/January\";\n\nimport styles from \"./Embed.module.scss\";\n\nimport { useIntermediate } from \"../../../../context/intermediate/Intermediate\";\nimport { useClient } from \"../../../../context/revoltjs/RevoltClient\";\n\ninterface Props {\n    embed: Embed;\n    width?: number;\n    height: number;\n}\n\nexport default function EmbedMedia({ embed, width, height }: Props) {\n    if (embed.type !== \"Website\") return null;\n    const { openScreen } = useIntermediate();\n    const client = useClient();\n\n    switch (embed.special?.type) {\n        case \"YouTube\": {\n            let timestamp = \"\";\n\n            if (embed.special.timestamp) {\n                timestamp = `&start=${embed.special.timestamp}`;\n            }\n\n            return (\n                <iframe\n                    loading=\"lazy\"\n                    src={`https://www.youtube-nocookie.com/embed/${embed.special.id}?modestbranding=1${timestamp}`}\n                    allowFullScreen\n                    style={{ height }}\n                />\n            );\n        }\n        case \"Twitch\":\n            return (\n                <iframe\n                    src={`https://player.twitch.tv/?${embed.special.content_type.toLowerCase()}=${\n                        embed.special.id\n                    }&parent=${window.location.hostname}&autoplay=false`}\n                    frameBorder=\"0\"\n                    allowFullScreen\n                    scrolling=\"no\"\n                    loading=\"lazy\"\n                    style={{ height }}\n                />\n            );\n        case \"Spotify\":\n            return (\n                <iframe\n                    src={`https://open.spotify.com/embed/${embed.special.content_type}/${embed.special.id}`}\n                    loading=\"lazy\"\n                    frameBorder=\"0\"\n                    allowFullScreen\n                    allowTransparency\n                    style={{ height }}\n                />\n            );\n        case \"Soundcloud\":\n            return (\n                <iframe\n                    src={`https://w.soundcloud.com/player/?url=${encodeURIComponent(\n                        embed.url!,\n                    )}&color=%23FF7F50&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true`}\n                    frameBorder=\"0\"\n                    scrolling=\"no\"\n                    loading=\"lazy\"\n                    style={{ height }}\n                />\n            );\n        case \"Bandcamp\": {\n            return (\n                <iframe\n                    src={`https://bandcamp.com/EmbeddedPlayer/${embed.special.content_type.toLowerCase()}=${\n                        embed.special.id\n                    }/size=large/bgcol=181a1b/linkcol=056cc4/tracklist=false/transparent=true/`}\n                    seamless\n                    loading=\"lazy\"\n                    style={{ height }}\n                />\n            );\n        }\n        default: {\n            if (embed.image) {\n                const url = embed.image.url;\n                return (\n                    <img\n                        className={styles.image}\n                        src={client.proxyFile(url)}\n                        loading=\"lazy\"\n                        style={{ width, height }}\n                        onClick={() =>\n                            openScreen({\n                                id: \"image_viewer\",\n                                embed: embed.image,\n                            })\n                        }\n                        onMouseDown={(ev) =>\n                            ev.button === 1 && window.open(url, \"_blank\")\n                        }\n                    />\n                );\n            }\n        }\n    }\n\n    return null;\n}\n","import { Embed as EmbedI } from \"revolt-api/types/January\";\n\nimport styles from \"./Embed.module.scss\";\nimport classNames from \"classnames\";\nimport { useContext } from \"preact/hooks\";\n\nimport { useIntermediate } from \"../../../../context/intermediate/Intermediate\";\nimport { useClient } from \"../../../../context/revoltjs/RevoltClient\";\n\nimport { MessageAreaWidthContext } from \"../../../../pages/channels/messaging/MessageArea\";\nimport EmbedMedia from \"./EmbedMedia\";\n\ninterface Props {\n    embed: EmbedI;\n}\n\nconst MAX_EMBED_WIDTH = 480;\nconst MAX_EMBED_HEIGHT = 640;\nconst CONTAINER_PADDING = 24;\nconst MAX_PREVIEW_SIZE = 150;\n\nexport default function Embed({ embed }: Props) {\n    const client = useClient();\n\n    const { openScreen, openLink } = useIntermediate();\n    const maxWidth = Math.min(\n        useContext(MessageAreaWidthContext) - CONTAINER_PADDING,\n        MAX_EMBED_WIDTH,\n    );\n\n    function calculateSize(\n        w: number,\n        h: number,\n    ): { width: number; height: number } {\n        const limitingWidth = Math.min(maxWidth, w);\n\n        const limitingHeight = Math.min(MAX_EMBED_HEIGHT, h);\n\n        // Calculate smallest possible WxH.\n        const width = Math.min(limitingWidth, limitingHeight * (w / h));\n\n        const height = Math.min(limitingHeight, limitingWidth * (h / w));\n\n        return { width, height };\n    }\n\n    switch (embed.type) {\n        case \"Website\": {\n            // Determine special embed size.\n            let mw, mh;\n            const largeMedia =\n                (embed.special && embed.special.type !== \"None\") ||\n                embed.image?.size === \"Large\";\n            switch (embed.special?.type) {\n                case \"YouTube\":\n                case \"Bandcamp\": {\n                    mw = embed.video?.width ?? 1280;\n                    mh = embed.video?.height ?? 720;\n                    break;\n                }\n                case \"Twitch\": {\n                    mw = 1280;\n                    mh = 720;\n                    break;\n                }\n                default: {\n                    if (embed.image?.size === \"Preview\") {\n                        mw = MAX_EMBED_WIDTH;\n                        mh = Math.min(\n                            embed.image.height ?? 0,\n                            MAX_PREVIEW_SIZE,\n                        );\n                    } else {\n                        mw = embed.image?.width ?? MAX_EMBED_WIDTH;\n                        mh = embed.image?.height ?? 0;\n                    }\n                }\n            }\n\n            const { width, height } = calculateSize(mw, mh);\n            return (\n                <div\n                    className={classNames(styles.embed, styles.website)}\n                    style={{\n                        borderInlineStartColor:\n                            embed.colour ?? \"var(--tertiary-background)\",\n                        width: width + CONTAINER_PADDING,\n                    }}>\n                    <div>\n                        {embed.site_name && (\n                            <div className={styles.siteinfo}>\n                                {embed.icon_url && (\n                                    <img\n                                        loading=\"lazy\"\n                                        className={styles.favicon}\n                                        src={client.proxyFile(embed.icon_url)}\n                                        draggable={false}\n                                        onError={(e) =>\n                                            (e.currentTarget.style.display =\n                                                \"none\")\n                                        }\n                                    />\n                                )}\n                                <div className={styles.site}>\n                                    {embed.site_name}{\" \"}\n                                </div>\n                            </div>\n                        )}\n\n                        {/*<span><a href={embed.url} target={\"_blank\"} className={styles.author}>Author</a></span>*/}\n                        {embed.title && (\n                            <span>\n                                <a\n                                    onClick={(e) =>\n                                        openLink(e.currentTarget.href) &&\n                                        e.preventDefault()\n                                    }\n                                    href={embed.url}\n                                    target={\"_blank\"}\n                                    className={styles.title}\n                                    rel=\"noreferrer\">\n                                    {embed.title}\n                                </a>\n                            </span>\n                        )}\n                        {embed.description && (\n                            <div className={styles.description}>\n                                {embed.description}\n                            </div>\n                        )}\n\n                        {largeMedia && (\n                            <EmbedMedia embed={embed} height={height} />\n                        )}\n                    </div>\n                    {!largeMedia && (\n                        <div>\n                            <EmbedMedia\n                                embed={embed}\n                                width={\n                                    height *\n                                    ((embed.image?.width ?? 0) /\n                                        (embed.image?.height ?? 0))\n                                }\n                                height={height}\n                            />\n                        </div>\n                    )}\n                </div>\n            );\n        }\n        case \"Image\": {\n            return (\n                <img\n                    className={classNames(styles.embed, styles.image)}\n                    style={calculateSize(embed.width, embed.height)}\n                    src={client.proxyFile(embed.url)}\n                    type=\"text/html\"\n                    frameBorder=\"0\"\n                    loading=\"lazy\"\n                    onClick={() => openScreen({ id: \"image_viewer\", embed })}\n                    onMouseDown={(ev) =>\n                        ev.button === 1 && window.open(embed.url, \"_blank\")\n                    }\n                />\n            );\n        }\n        default:\n            return null;\n    }\n}\n","import { observer } from \"mobx-react-lite\";\nimport { Server } from \"revolt.js/dist/maps/Servers\";\nimport styled from \"styled-components\";\n\nimport { useContext } from \"preact/hooks\";\n\nimport { AppContext } from \"../../context/revoltjs/RevoltClient\";\n\nimport { IconBaseProps, ImageIconBase } from \"./IconBase\";\n\ninterface Props extends IconBaseProps<Server> {\n    server_name?: string;\n}\n\nconst ServerText = styled.div`\n    display: grid;\n    padding: 0.2em;\n    overflow: hidden;\n    place-items: center;\n    color: var(--foreground);\n    background: var(--primary-background);\n    border-radius: var(--border-radius-half);\n`;\n\n// const fallback = \"/assets/group.png\";\nexport default observer(\n    (\n        props: Props &\n            Omit<\n                JSX.HTMLAttributes<HTMLImageElement>,\n                keyof Props | \"children\" | \"as\"\n            >,\n    ) => {\n        const client = useContext(AppContext);\n\n        const { target, attachment, size, animate, server_name, ...imgProps } =\n            props;\n        const iconURL = client.generateFileURL(\n            target?.icon ?? attachment,\n            { max_side: 256 },\n            animate,\n        );\n\n        if (typeof iconURL === \"undefined\") {\n            const name = target?.name ?? server_name ?? \"\";\n\n            return (\n                <ServerText style={{ width: size, height: size }}>\n                    {name\n                        .split(\" \")\n                        .map((x) => x[0])\n                        .filter((x) => typeof x !== \"undefined\")}\n                </ServerText>\n            );\n        }\n\n        return (\n            <ImageIconBase\n                {...imgProps}\n                width={size}\n                height={size}\n                borderRadius=\"--border-radius-server-icon\"\n                src={iconURL}\n                loading=\"lazy\"\n                aria-hidden=\"true\"\n            />\n        );\n    },\n);\n","import { autorun } from \"mobx\";\nimport { observer } from \"mobx-react-lite\";\nimport { useHistory } from \"react-router-dom\";\nimport { RetrievedInvite } from \"revolt-api/types/Invites\";\nimport { Message } from \"revolt.js/dist/maps/Messages\";\nimport styled from \"styled-components\";\n\nimport { useContext, useEffect, useState } from \"preact/hooks\";\n\nimport { defer } from \"../../../../lib/defer\";\n\nimport { dispatch } from \"../../../../redux\";\n\nimport {\n    AppContext,\n    ClientStatus,\n    StatusContext,\n} from \"../../../../context/revoltjs/RevoltClient\";\nimport { takeError } from \"../../../../context/revoltjs/util\";\n\nimport ServerIcon from \"../../../../components/common/ServerIcon\";\nimport Button from \"../../../../components/ui/Button\";\nimport Preloader from \"../../../ui/Preloader\";\n\nconst EmbedInviteBase = styled.div`\n    width: 400px;\n    height: 80px;\n    background-color: var(--secondary-background);\n    border-radius: var(--border-radius);\n    display: flex;\n    align-items: center;\n    padding: 0 12px;\n    margin-top: 2px;\n`;\n\nconst EmbedInviteDetails = styled.div`\n    flex-grow: 1;\n    padding-left: 12px;\n`;\n\nconst EmbedInviteName = styled.div`\n    font-weight: bold;\n`;\n\nconst EmbedInviteMemberCount = styled.div`\n    font-size: 0.8em;\n`;\n\ntype Props = {\n    code: string;\n};\n\nexport function EmbedInvite(props: Props) {\n    const history = useHistory();\n    const client = useContext(AppContext);\n    const status = useContext(StatusContext);\n    const code = props.code;\n    const [processing, setProcessing] = useState(false);\n    const [error, setError] = useState<string | undefined>(undefined);\n    const [invite, setInvite] = useState<RetrievedInvite | undefined>(\n        undefined,\n    );\n\n    useEffect(() => {\n        if (\n            typeof invite === \"undefined\" &&\n            (status === ClientStatus.ONLINE || status === ClientStatus.READY)\n        ) {\n            client\n                .fetchInvite(code)\n                .then((data) => setInvite(data))\n                .catch((err) => setError(takeError(err)));\n        }\n    }, [client, code, invite, status]);\n\n    if (typeof invite === \"undefined\") {\n        return error ? (\n            <EmbedInviteBase>\n                <ServerIcon size={55} />\n                <EmbedInviteDetails>\n                    <EmbedInviteName>Invalid invite!</EmbedInviteName>\n                </EmbedInviteDetails>\n            </EmbedInviteBase>\n        ) : (\n            <EmbedInviteBase>\n                <Preloader type=\"ring\" />\n            </EmbedInviteBase>\n        );\n    }\n\n    return (\n        <EmbedInviteBase>\n            <ServerIcon\n                attachment={invite.server_icon}\n                server_name={invite.server_name}\n                size={55}\n            />\n            <EmbedInviteDetails>\n                <EmbedInviteName>{invite.server_name}</EmbedInviteName>\n                <EmbedInviteMemberCount>\n                    {invite.member_count.toLocaleString()} members\n                </EmbedInviteMemberCount>\n            </EmbedInviteDetails>\n            {processing ? (\n                <div>\n                    <Preloader type=\"ring\" />\n                </div>\n            ) : (\n                <Button\n                    onClick={async () => {\n                        try {\n                            setProcessing(true);\n\n                            if (invite.type === \"Server\") {\n                                if (client.servers.get(invite.server_id)) {\n                                    history.push(\n                                        `/server/${invite.server_id}/channel/${invite.channel_id}`,\n                                    );\n                                }\n\n                                const dispose = autorun(() => {\n                                    const server = client.servers.get(\n                                        invite.server_id,\n                                    );\n\n                                    defer(() => {\n                                        if (server) {\n                                            dispatch({\n                                                type: \"UNREADS_MARK_MULTIPLE_READ\",\n                                                channels: server.channel_ids,\n                                            });\n\n                                            history.push(\n                                                `/server/${server._id}/channel/${invite.channel_id}`,\n                                            );\n                                        }\n                                    });\n\n                                    dispose();\n                                });\n                            }\n\n                            await client.joinInvite(code);\n                            setProcessing(false);\n                        } catch (err) {\n                            setError(takeError(err));\n                            setProcessing(false);\n                        }\n                    }}>\n                    {client.servers.get(invite.server_id) ? \"Joined\" : \"Join\"}\n                </Button>\n            )}\n        </EmbedInviteBase>\n    );\n}\n\nconst INVITE_PATHS = [\n    `${location.hostname}/invite`,\n    \"app.revolt.chat/invite\",\n    \"nightly.revolt.chat/invite\",\n    \"local.revolt.chat/invite\",\n    \"rvlt.gg\",\n];\n\nconst RE_INVITE = new RegExp(\n    `(?:${INVITE_PATHS.map((x) => x.replaceAll(\".\", \"\\\\.\")).join(\n        \"|\",\n    )})/([A-Za-z0-9]*)`,\n    \"g\",\n);\n\nexport default observer(({ message }: { message: Message }) => {\n    if (typeof message.content !== \"string\") return null;\n    const matches = [...message.content.matchAll(RE_INVITE)];\n\n    if (matches.length > 0) {\n        const entries = [\n            ...new Set(matches.slice(0, 5).map((x) => x[1])),\n        ].slice(0, 5);\n\n        return (\n            <>\n                {entries.map((entry) => (\n                    <EmbedInvite key={entry} code={entry} />\n                ))}\n            </>\n        );\n    }\n\n    return null;\n});\n","import { observer } from \"mobx-react-lite\";\nimport { Message as MessageObject } from \"revolt.js/dist/maps/Messages\";\n\nimport { attachContextMenu } from \"preact-context-menu\";\nimport { memo } from \"preact/compat\";\nimport { useState } from \"preact/hooks\";\n\nimport { QueuedMessage } from \"../../../redux/reducers/queue\";\n\nimport { useIntermediate } from \"../../../context/intermediate/Intermediate\";\nimport { useClient } from \"../../../context/revoltjs/RevoltClient\";\n\nimport Overline from \"../../ui/Overline\";\n\nimport { Children } from \"../../../types/Preact\";\nimport Markdown from \"../../markdown/Markdown\";\nimport UserIcon from \"../user/UserIcon\";\nimport { Username } from \"../user/UserShort\";\nimport MessageBase, {\n    MessageContent,\n    MessageDetail,\n    MessageInfo,\n} from \"./MessageBase\";\nimport Attachment from \"./attachments/Attachment\";\nimport { MessageReply } from \"./attachments/MessageReply\";\nimport Embed from \"./embed/Embed\";\nimport InviteList from \"./embed/EmbedInvite\";\nimport { internalEmit } from \"../../../lib/eventEmitter\";\n\ninterface Props {\n    attachContext?: boolean;\n    queued?: QueuedMessage;\n    message: MessageObject;\n    highlight?: boolean;\n    contrast?: boolean;\n    content?: Children;\n    head?: boolean;\n    hideReply?: boolean;\n}\n\nconst Message = observer(\n    ({\n        highlight,\n        attachContext,\n        message,\n        contrast,\n        content: replacement,\n        head: preferHead,\n        queued,\n        hideReply,\n    }: Props) => {\n        const client = useClient();\n        const user = message.author;\n\n        const { openScreen } = useIntermediate();\n\n        const content = message.content as string;\n        const head =\n            preferHead || (message.reply_ids && message.reply_ids.length > 0);\n\n        // ! TODO: tell fatal to make this type generic\n        // bree: Fatal please...\n        const userContext = attachContext\n            ? (attachContextMenu(\"Menu\", {\n                user: message.author_id,\n                contextualChannel: message.channel_id,\n                // eslint-disable-next-line\n            }) as any)\n            : undefined;\n\n        const openProfile = () =>\n            openScreen({ id: \"profile\", user_id: message.author_id });\n\n        const handleUserClick = (e: MouseEvent) => {\n            if (e.shiftKey && user?._id) {\n                internalEmit(\n                    \"MessageBox\",\n                    \"append\",\n                    `<@${user._id}>`,\n                    \"mention\",\n                );\n            } else {\n                openProfile()\n            }\n        }\n\n        // ! FIXME(?): animate on hover\n        const [animate, setAnimate] = useState(false);\n\n        return (\n            <div id={message._id}>\n                {!hideReply &&\n                    message.reply_ids?.map((message_id, index) => (\n                        <MessageReply\n                            key={message_id}\n                            index={index}\n                            id={message_id}\n                            channel={message.channel!}\n                            parent_mentions={message.mention_ids ?? []}\n                        />\n                    ))}\n                <MessageBase\n                    highlight={highlight}\n                    head={\n                        hideReply\n                            ? false\n                            : (head &&\n                                !(\n                                    message.reply_ids &&\n                                    message.reply_ids.length > 0\n                                )) ??\n                            false\n                    }\n                    contrast={contrast}\n                    sending={typeof queued !== \"undefined\"}\n                    mention={message.mention_ids?.includes(client.user!._id)}\n                    failed={typeof queued?.error !== \"undefined\"}\n                    onContextMenu={\n                        attachContext\n                            ? attachContextMenu(\"Menu\", {\n                                message,\n                                contextualChannel: message.channel_id,\n                                queued,\n                            })\n                            : undefined\n                    }\n                    onMouseEnter={() => setAnimate(true)}\n                    onMouseLeave={() => setAnimate(false)}>\n                    <MessageInfo>\n                        {head ? (\n                            <UserIcon\n                                target={user}\n                                size={36}\n                                onContextMenu={userContext}\n                                onClick={handleUserClick}\n                                animate={animate}\n                                showServerIdentity\n                            />\n                        ) : (\n                            <MessageDetail message={message} position=\"left\" />\n                        )}\n                    </MessageInfo>\n                    <MessageContent>\n                        {head && (\n                            <span className=\"detail\">\n                                <Username\n                                    className=\"author\"\n                                    user={user}\n                                    onContextMenu={userContext}\n                                    onClick={handleUserClick}\n                                    showServerIdentity\n                                />\n                                <MessageDetail\n                                    message={message}\n                                    position=\"top\"\n                                />\n                            </span>\n                        )}\n                        {replacement ?? <Markdown content={content} />}\n                        {!queued && <InviteList message={message} />}\n                        {queued?.error && (\n                            <Overline type=\"error\" error={queued.error} />\n                        )}\n                        {message.attachments?.map((attachment, index) => (\n                            <Attachment\n                                key={index}\n                                attachment={attachment}\n                                hasContent={index > 0 || content.length > 0}\n                            />\n                        ))}\n                        {message.embeds?.map((embed, index) => (\n                            <Embed key={index} embed={embed} />\n                        ))}\n                    </MessageContent>\n                </MessageBase>\n            </div>\n        );\n    },\n);\n\nexport default memo(Message);\n","import { observer } from \"mobx-react-lite\";\nimport { useHistory } from \"react-router-dom\";\nimport { Category } from \"revolt-api/types/Servers\";\nimport { Channel } from \"revolt.js/dist/maps/Channels\";\nimport { Message as MessageI } from \"revolt.js/dist/maps/Messages\";\nimport { Server } from \"revolt.js/dist/maps/Servers\";\nimport { User } from \"revolt.js/dist/maps/Users\";\nimport { ulid } from \"ulid\";\n\nimport styles from \"./Prompt.module.scss\";\nimport { Text } from \"preact-i18n\";\nimport { useContext, useEffect, useState } from \"preact/hooks\";\n\nimport { TextReact } from \"../../../lib/i18n\";\n\nimport Message from \"../../../components/common/messaging/Message\";\nimport UserIcon from \"../../../components/common/user/UserIcon\";\nimport InputBox from \"../../../components/ui/InputBox\";\nimport Modal, { Action } from \"../../../components/ui/Modal\";\nimport Overline from \"../../../components/ui/Overline\";\nimport Radio from \"../../../components/ui/Radio\";\n\nimport { Children } from \"../../../types/Preact\";\nimport { AppContext } from \"../../revoltjs/RevoltClient\";\nimport { takeError } from \"../../revoltjs/util\";\nimport { useIntermediate } from \"../Intermediate\";\n\ninterface Props {\n    onClose: () => void;\n    question: Children;\n    content?: Children;\n    disabled?: boolean;\n    actions: Action[];\n    error?: string;\n}\n\nexport function PromptModal({\n    onClose,\n    question,\n    content,\n    actions,\n    disabled,\n    error,\n}: Props) {\n    return (\n        <Modal\n            visible={true}\n            title={question}\n            actions={actions}\n            onClose={onClose}\n            disabled={disabled}>\n            {error && <Overline error={error} type=\"error\" />}\n            {content}\n        </Modal>\n    );\n}\n\ntype SpecialProps = { onClose: () => void } & (\n    | { type: \"leave_group\"; target: Channel }\n    | { type: \"close_dm\"; target: Channel }\n    | { type: \"leave_server\"; target: Server }\n    | { type: \"delete_server\"; target: Server }\n    | { type: \"delete_channel\"; target: Channel }\n    | { type: \"delete_message\"; target: MessageI }\n    | {\n          type: \"create_invite\";\n          target: Channel;\n      }\n    | { type: \"kick_member\"; target: Server; user: User }\n    | { type: \"ban_member\"; target: Server; user: User }\n    | { type: \"unfriend_user\"; target: User }\n    | { type: \"block_user\"; target: User }\n    | { type: \"create_channel\"; target: Server }\n    | { type: \"create_category\"; target: Server }\n);\n\nexport const SpecialPromptModal = observer((props: SpecialProps) => {\n    const client = useContext(AppContext);\n    const [processing, setProcessing] = useState(false);\n    const [error, setError] = useState<undefined | string>(undefined);\n\n    const { onClose } = props;\n    switch (props.type) {\n        case \"leave_group\":\n        case \"close_dm\":\n        case \"leave_server\":\n        case \"delete_server\":\n        case \"delete_channel\":\n        case \"unfriend_user\":\n        case \"block_user\": {\n            const EVENTS = {\n                close_dm: [\"confirm_close_dm\", \"close\"],\n                delete_server: [\"confirm_delete\", \"delete\"],\n                delete_channel: [\"confirm_delete\", \"delete\"],\n                leave_group: [\"confirm_leave\", \"leave\"],\n                leave_server: [\"confirm_leave\", \"leave\"],\n                unfriend_user: [\"unfriend_user\", \"remove\"],\n                block_user: [\"block_user\", \"block\"],\n            };\n\n            const event = EVENTS[props.type];\n            let name;\n            switch (props.type) {\n                case \"unfriend_user\":\n                case \"block_user\":\n                    name = props.target.username;\n                    break;\n                case \"close_dm\":\n                    name = props.target.recipient?.username;\n                    break;\n                default:\n                    name = props.target.name;\n            }\n\n            return (\n                <PromptModal\n                    onClose={onClose}\n                    question={\n                        <Text\n                            id={`app.special.modals.prompt.${event[0]}`}\n                            fields={{ name }}\n                        />\n                    }\n                    actions={[\n                        {\n                            confirmation: true,\n                            contrast: true,\n                            error: true,\n                            children: (\n                                <Text\n                                    id={`app.special.modals.actions.${event[1]}`}\n                                />\n                            ),\n                            onClick: async () => {\n                                setProcessing(true);\n\n                                try {\n                                    switch (props.type) {\n                                        case \"unfriend_user\":\n                                            await props.target.removeFriend();\n                                            break;\n                                        case \"block_user\":\n                                            await props.target.blockUser();\n                                            break;\n                                        case \"leave_group\":\n                                        case \"close_dm\":\n                                        case \"delete_channel\":\n                                            props.target.delete();\n                                            break;\n                                        case \"leave_server\":\n                                        case \"delete_server\":\n                                            props.target.delete();\n                                            break;\n                                    }\n\n                                    onClose();\n                                } catch (err) {\n                                    setError(takeError(err));\n                                    setProcessing(false);\n                                }\n                            },\n                        },\n                        {\n                            children: (\n                                <Text id=\"app.special.modals.actions.cancel\" />\n                            ),\n                            onClick: onClose,\n                        },\n                    ]}\n                    content={\n                        <TextReact\n                            id={`app.special.modals.prompt.${event[0]}_long`}\n                            fields={{ name: <b>{name}</b> }}\n                        />\n                    }\n                    disabled={processing}\n                    error={error}\n                />\n            );\n        }\n        case \"delete_message\": {\n            return (\n                <PromptModal\n                    onClose={onClose}\n                    question={<Text id={\"app.context_menu.delete_message\"} />}\n                    actions={[\n                        {\n                            confirmation: true,\n                            contrast: true,\n                            error: true,\n                            children: (\n                                <Text id=\"app.special.modals.actions.delete\" />\n                            ),\n                            onClick: async () => {\n                                setProcessing(true);\n\n                                try {\n                                    props.target.delete();\n                                    onClose();\n                                } catch (err) {\n                                    setError(takeError(err));\n                                    setProcessing(false);\n                                }\n                            },\n                        },\n                        {\n                            children: (\n                                <Text id=\"app.special.modals.actions.cancel\" />\n                            ),\n                            onClick: onClose,\n                            plain: true,\n                        },\n                    ]}\n                    content={\n                        <>\n                            <Text\n                                id={`app.special.modals.prompt.confirm_delete_message_long`}\n                            />\n                            <Message\n                                message={props.target}\n                                head={true}\n                                contrast\n                            />\n                        </>\n                    }\n                    disabled={processing}\n                    error={error}\n                />\n            );\n        }\n        case \"create_invite\": {\n            const [code, setCode] = useState(\"abcdef\");\n            const { writeClipboard } = useIntermediate();\n\n            useEffect(() => {\n                setProcessing(true);\n\n                props.target\n                    .createInvite()\n                    .then((code) => setCode(code))\n                    .catch((err) => setError(takeError(err)))\n                    .finally(() => setProcessing(false));\n            }, [props.target]);\n\n            return (\n                <PromptModal\n                    onClose={onClose}\n                    question={<Text id={`app.context_menu.create_invite`} />}\n                    actions={[\n                        {\n                            children: (\n                                <Text id=\"app.special.modals.actions.ok\" />\n                            ),\n                            confirmation: true,\n                            onClick: onClose,\n                        },\n                        {\n                            children: <Text id=\"app.context_menu.copy_link\" />,\n                            onClick: () =>\n                                writeClipboard(\n                                    `${window.location.protocol}//${window.location.host}/invite/${code}`,\n                                ),\n                        },\n                    ]}\n                    content={\n                        processing ? (\n                            <Text id=\"app.special.modals.prompt.create_invite_generate\" />\n                        ) : (\n                            <div className={styles.invite}>\n                                <Text id=\"app.special.modals.prompt.create_invite_created\" />\n                                <code>{code}</code>\n                            </div>\n                        )\n                    }\n                    disabled={processing}\n                    error={error}\n                />\n            );\n        }\n        case \"kick_member\": {\n            return (\n                <PromptModal\n                    onClose={onClose}\n                    question={<Text id={`app.context_menu.kick_member`} />}\n                    actions={[\n                        {\n                            children: (\n                                <Text id=\"app.special.modals.actions.kick\" />\n                            ),\n                            contrast: true,\n                            error: true,\n                            confirmation: true,\n                            onClick: async () => {\n                                setProcessing(true);\n\n                                try {\n                                    client.members\n                                        .getKey({\n                                            server: props.target._id,\n                                            user: props.user._id,\n                                        })\n                                        ?.kick();\n\n                                    onClose();\n                                } catch (err) {\n                                    setError(takeError(err));\n                                    setProcessing(false);\n                                }\n                            },\n                        },\n                        {\n                            children: (\n                                <Text id=\"app.special.modals.actions.cancel\" />\n                            ),\n                            onClick: onClose,\n                        },\n                    ]}\n                    content={\n                        <div className={styles.column}>\n                            <UserIcon target={props.user} size={64} />\n                            <Text\n                                id=\"app.special.modals.prompt.confirm_kick\"\n                                fields={{ name: props.user?.username }}\n                            />\n                        </div>\n                    }\n                    disabled={processing}\n                    error={error}\n                />\n            );\n        }\n        case \"ban_member\": {\n            const [reason, setReason] = useState<string | undefined>(undefined);\n\n            return (\n                <PromptModal\n                    onClose={onClose}\n                    question={<Text id={`app.context_menu.ban_member`} />}\n                    actions={[\n                        {\n                            children: (\n                                <Text id=\"app.special.modals.actions.ban\" />\n                            ),\n                            contrast: true,\n                            error: true,\n                            confirmation: true,\n                            onClick: async () => {\n                                setProcessing(true);\n\n                                try {\n                                    await props.target.banUser(props.user._id, {\n                                        reason,\n                                    });\n                                    onClose();\n                                } catch (err) {\n                                    setError(takeError(err));\n                                    setProcessing(false);\n                                }\n                            },\n                        },\n                        {\n                            children: (\n                                <Text id=\"app.special.modals.actions.cancel\" />\n                            ),\n                            onClick: onClose,\n                        },\n                    ]}\n                    content={\n                        <div className={styles.column}>\n                            <UserIcon target={props.user} size={64} />\n                            <Text\n                                id=\"app.special.modals.prompt.confirm_ban\"\n                                fields={{ name: props.user?.username }}\n                            />\n                            <Overline>\n                                <Text id=\"app.special.modals.prompt.confirm_ban_reason\" />\n                            </Overline>\n                            <InputBox\n                                value={reason ?? \"\"}\n                                onChange={(e) =>\n                                    setReason(e.currentTarget.value)\n                                }\n                            />\n                        </div>\n                    }\n                    disabled={processing}\n                    error={error}\n                />\n            );\n        }\n        case \"create_channel\": {\n            const [name, setName] = useState(\"\");\n            const [type, setType] = useState<\"Text\" | \"Voice\">(\"Text\");\n            const history = useHistory();\n\n            return (\n                <PromptModal\n                    onClose={onClose}\n                    question={<Text id=\"app.context_menu.create_channel\" />}\n                    actions={[\n                        {\n                            confirmation: true,\n                            contrast: true,\n                            children: (\n                                <Text id=\"app.special.modals.actions.create\" />\n                            ),\n                            onClick: async () => {\n                                setProcessing(true);\n\n                                try {\n                                    const channel =\n                                        await props.target.createChannel({\n                                            type,\n                                            name,\n                                            nonce: ulid(),\n                                        });\n\n                                    history.push(\n                                        `/server/${props.target._id}/channel/${channel._id}`,\n                                    );\n                                    onClose();\n                                } catch (err) {\n                                    setError(takeError(err));\n                                    setProcessing(false);\n                                }\n                            },\n                        },\n                        {\n                            children: (\n                                <Text id=\"app.special.modals.actions.cancel\" />\n                            ),\n                            onClick: onClose,\n                        },\n                    ]}\n                    content={\n                        <>\n                            <Overline block type=\"subtle\">\n                                <Text id=\"app.main.servers.channel_type\" />\n                            </Overline>\n                            <Radio\n                                checked={type === \"Text\"}\n                                onSelect={() => setType(\"Text\")}>\n                                <Text id=\"app.main.servers.text_channel\" />\n                            </Radio>\n                            <Radio\n                                checked={type === \"Voice\"}\n                                onSelect={() => setType(\"Voice\")}>\n                                <Text id=\"app.main.servers.voice_channel\" />\n                            </Radio>\n                            <Overline block type=\"subtle\">\n                                <Text id=\"app.main.servers.channel_name\" />\n                            </Overline>\n                            <InputBox\n                                value={name}\n                                onChange={(e) => setName(e.currentTarget.value)}\n                            />\n                        </>\n                    }\n                    disabled={processing}\n                    error={error}\n                />\n            );\n        }\n        case \"create_category\": {\n            const [name, setName] = useState(\"\");\n            const history = useHistory();\n\n            return (\n                <PromptModal\n                    onClose={onClose}\n                    question={<Text id=\"app.context_menu.create_category\" />}\n                    actions={[\n                        {\n                            confirmation: true,\n                            contrast: true,\n                            children: (\n                                <Text id=\"app.special.modals.actions.create\" />\n                            ),\n                            onClick: async () => {\n                                setProcessing(true);\n                                try {\n                                    props.target.edit({\n                                        categories: [\n                                            ...props.target.categories ?? [],\n                                            { id: ulid(), title: name, channels: [] }\n                                        ]\n                                    });\n                                    onClose();\n                                    setProcessing(false);\n                                } catch (err) {\n                                    setError(takeError(err));\n                                    setProcessing(false);\n                                }\n                            },\n                        },\n                        {\n                            children: (\n                                <Text id=\"app.special.modals.actions.cancel\" />\n                            ),\n                            onClick: onClose,\n                        },\n                    ]}\n                    content={\n                        <>\n                            <Overline block type=\"subtle\">\n                                <Text id=\"app.main.servers.channel_name\" />\n                            </Overline>\n                            <InputBox\n                                value={name}\n                                onChange={(e) => setName(e.currentTarget.value)}\n                            />\n                        </>\n                    }\n                    disabled={processing}\n                    error={error}\n                />\n            );\n        }\n        default:\n            return null;\n    }\n});\n","import { Text } from \"preact-i18n\";\n\nimport Modal from \"../../../components/ui/Modal\";\n\ninterface Props {\n    onClose: () => void;\n}\n\nexport function SignedOutModal({ onClose }: Props) {\n    return (\n        <Modal\n            visible={true}\n            onClose={onClose}\n            title={<Text id=\"app.special.modals.signed_out\" />}\n            actions={[\n                {\n                    onClick: onClose,\n                    confirmation: true,\n                    children: <Text id=\"app.special.modals.actions.ok\" />,\n                },\n            ]}\n        />\n    );\n}\n","import { Text } from \"preact-i18n\";\n\nimport { dispatch } from \"../../../redux\";\n\nimport Modal from \"../../../components/ui/Modal\";\n\ninterface Props {\n    onClose: () => void;\n    link: string;\n}\n\nexport function ExternalLinkModal({ onClose, link }: Props) {\n    return (\n        <Modal\n            visible={true}\n            onClose={onClose}\n            title={<Text id={\"app.special.modals.external_links.title\"} />}\n            actions={[\n                {\n                    onClick: () => {\n                        window.open(link, \"_blank\", \"noreferrer\");\n                        onClose();\n                    },\n                    confirmation: true,\n                    contrast: true,\n                    accent: true,\n                    children: \"Continue\",\n                },\n                {\n                    onClick: onClose,\n                    confirmation: false,\n                    children: \"Cancel\",\n                },\n                {\n                    onClick: () => {\n                        try {\n                            const url = new URL(link);\n                            dispatch({\n                                type: \"TRUSTED_LINKS_ADD_DOMAIN\",\n                                domain: url.hostname,\n                            });\n                        } catch (e) {}\n                        window.open(link, \"_blank\", \"noreferrer\");\n                        onClose();\n                    },\n                    plain: true,\n                    children: (\n                        <Text id=\"app.special.modals.external_links.trust_domain\" />\n                    ),\n                },\n            ]}>\n            <Text id=\"app.special.modals.external_links.short\" /> <br />\n            <a>{link}</a>\n        </Modal>\n    );\n}\n","import { Text } from \"preact-i18n\";\n\nimport Modal from \"../../../components/ui/Modal\";\n\ninterface Props {\n    onClose: () => void;\n    token: string;\n    username: string;\n}\n\nexport function TokenRevealModal({ onClose, token, username }: Props) {\n    return (\n        <Modal\n            visible={true}\n            onClose={onClose}\n            title={\n                <Text\n                    id={\"app.special.modals.token_reveal\"}\n                    fields={{ name: username }}\n                />\n            }\n            actions={[\n                {\n                    onClick: onClose,\n                    confirmation: true,\n                    children: <Text id=\"app.special.modals.actions.close\" />,\n                },\n            ]}>\n            <code style={{ userSelect: \"all\" }}>{token}</code>\n        </Modal>\n    );\n}\n","import { internalEmit } from \"../../lib/eventEmitter\";\n\nimport { isModalClosing } from \"../../components/ui/Modal\";\n\nimport { Screen } from \"./Intermediate\";\nimport { ClipboardModal } from \"./modals/Clipboard\";\nimport { ErrorModal } from \"./modals/Error\";\nimport { InputModal } from \"./modals/Input\";\nimport { OnboardingModal } from \"./modals/Onboarding\";\nimport { PromptModal } from \"./modals/Prompt\";\nimport { SignedOutModal } from \"./modals/SignedOut\";\nimport {ExternalLinkModal} from \"./modals/ExternalLinkPrompt\";\nimport { TokenRevealModal } from \"./modals/TokenReveal\";\n\nexport interface Props {\n    screen: Screen;\n    openScreen: (screen: Screen) => void;\n}\n\nexport default function Modals({ screen, openScreen }: Props) {\n    const onClose = () =>\n        isModalClosing || screen.id === \"onboarding\"\n            ? openScreen({ id: \"none\" })\n            : internalEmit(\"Modal\", \"close\");\n\n    switch (screen.id) {\n        case \"_prompt\":\n            return <PromptModal onClose={onClose} {...screen} />;\n        case \"_input\":\n            return <InputModal onClose={onClose} {...screen} />;\n        case \"error\":\n            return <ErrorModal onClose={onClose} {...screen} />;\n        case \"signed_out\":\n            return <SignedOutModal onClose={onClose} {...screen} />;\n        case \"clipboard\":\n            return <ClipboardModal onClose={onClose} {...screen} />;\n        case \"token_reveal\":\n            return <TokenRevealModal onClose={onClose} {...screen} />;\n        case \"onboarding\":\n            return <OnboardingModal onClose={onClose} {...screen} />;\n        case \"external_link_prompt\":\n            return <ExternalLinkModal onClose={onClose} {...screen} />;\n    }\n\n    return null;\n}\n","import { Prompt } from \"react-router\";\nimport { useHistory } from \"react-router-dom\";\nimport type { Attachment } from \"revolt-api/types/Autumn\";\nimport { Bot } from \"revolt-api/types/Bots\";\nimport type { EmbedImage } from \"revolt-api/types/January\";\nimport { Channel } from \"revolt.js/dist/maps/Channels\";\nimport { Message } from \"revolt.js/dist/maps/Messages\";\nimport { Server } from \"revolt.js/dist/maps/Servers\";\nimport { User } from \"revolt.js/dist/maps/Users\";\n\nimport { createContext } from \"preact\";\nimport { useContext, useEffect, useMemo, useState } from \"preact/hooks\";\n\nimport { internalSubscribe } from \"../../lib/eventEmitter\";\nimport { determineLink } from \"../../lib/links\";\n\nimport { getState } from \"../../redux\";\n\nimport { Action } from \"../../components/ui/Modal\";\n\nimport { Children } from \"../../types/Preact\";\nimport Modals from \"./Modals\";\n\nexport type Screen =\n    | { id: \"none\" }\n\n    // Modals\n    | { id: \"signed_out\" }\n    | { id: \"error\"; error: string }\n    | { id: \"clipboard\"; text: string }\n    | { id: \"token_reveal\"; token: string; username: string }\n    | { id: \"external_link_prompt\"; link: string }\n    | {\n          id: \"_prompt\";\n          question: Children;\n          content?: Children;\n          actions: Action[];\n      }\n    | ({ id: \"special_prompt\" } & (\n          | { type: \"leave_group\"; target: Channel }\n          | { type: \"close_dm\"; target: Channel }\n          | { type: \"leave_server\"; target: Server }\n          | { type: \"delete_server\"; target: Server }\n          | { type: \"delete_channel\"; target: Channel }\n          | { type: \"delete_message\"; target: Message }\n          | {\n                type: \"create_invite\";\n                target: Channel;\n            }\n          | { type: \"kick_member\"; target: Server; user: User }\n          | { type: \"ban_member\"; target: Server; user: User }\n          | { type: \"unfriend_user\"; target: User }\n          | { type: \"block_user\"; target: User }\n          | { type: \"create_channel\"; target: Server }\n          | { type: \"create_category\"; target: Server }\n      ))\n    | ({ id: \"special_input\" } & (\n          | {\n                type:\n                    | \"create_group\"\n                    | \"create_server\"\n                    | \"set_custom_status\"\n                    | \"add_friend\";\n            }\n          | {\n                type: \"create_role\";\n                server: Server;\n                callback: (id: string) => void;\n            }\n      ))\n    | {\n          id: \"_input\";\n          question: Children;\n          field: Children;\n          defaultValue?: string;\n          callback: (value: string) => Promise<void>;\n      }\n    | {\n          id: \"onboarding\";\n          callback: (\n              username: string,\n              loginAfterSuccess?: true,\n          ) => Promise<void>;\n      }\n\n    // Pop-overs\n    | { id: \"profile\"; user_id: string }\n    | {\n          id: \"user_picker\";\n          omit?: string[];\n          callback: (users: string[]) => Promise<void>;\n      }\n    | { id: \"image_viewer\"; attachment?: Attachment; embed?: EmbedImage }\n    | { id: \"channel_info\"; channel: Channel }\n    | { id: \"pending_requests\"; users: User[] }\n    | { id: \"modify_account\"; field: \"username\" | \"email\" | \"password\" }\n    | { id: \"create_bot\"; onCreate: (bot: Bot) => void }\n    | {\n          id: \"server_identity\";\n          server: Server;\n      };\n\nexport const IntermediateContext = createContext({\n    screen: { id: \"none\" },\n    focusTaken: false,\n});\n\nexport const IntermediateActionsContext = createContext<{\n    openLink: (href?: string) => boolean;\n    openScreen: (screen: Screen) => void;\n    writeClipboard: (text: string) => void;\n}>({\n    openLink: null!,\n    openScreen: null!,\n    writeClipboard: null!,\n});\n\ninterface Props {\n    children: Children;\n}\n\nexport default function Intermediate(props: Props) {\n    const [screen, openScreen] = useState<Screen>({ id: \"none\" });\n    const history = useHistory();\n\n    const value = {\n        screen,\n        focusTaken: screen.id !== \"none\",\n    };\n\n    const actions = useMemo(() => {\n        return {\n            openLink: (href?: string) => {\n                const link = determineLink(href);\n\n                switch (link.type) {\n                    case \"profile\": {\n                        openScreen({ id: \"profile\", user_id: link.id });\n                        return true;\n                    }\n                    case \"navigate\": {\n                        history.push(link.path);\n                        return true;\n                    }\n                    case \"external\": {\n                        const { trustedLinks } = getState();\n                        if (\n                            !trustedLinks.domains?.includes(link.url.hostname)\n                        ) {\n                            openScreen({\n                                id: \"external_link_prompt\",\n                                link: link.href,\n                            });\n\n                            return true;\n                        }\n\n                        return false;\n                    }\n                }\n\n                return true;\n            },\n            openScreen: (screen: Screen) => openScreen(screen),\n            writeClipboard: (text: string) => {\n                if (navigator.clipboard) {\n                    navigator.clipboard.writeText(text);\n                } else {\n                    actions.openScreen({ id: \"clipboard\", text });\n                }\n            },\n        };\n        // eslint-disable-next-line\n    }, []);\n\n    useEffect(() => {\n        const openProfile = (user_id: string) =>\n            openScreen({ id: \"profile\", user_id });\n        const navigate = (path: string) => history.push(path);\n\n        const subs = [\n            internalSubscribe(\n                \"Intermediate\",\n                \"openProfile\",\n                openProfile as (...args: unknown[]) => void,\n            ),\n            internalSubscribe(\n                \"Intermediate\",\n                \"navigate\",\n                navigate as (...args: unknown[]) => void,\n            ),\n        ];\n\n        return () => subs.map((unsub) => unsub());\n    }, [history]);\n\n    return (\n        <IntermediateContext.Provider value={value}>\n            <IntermediateActionsContext.Provider value={actions}>\n                {screen.id !== \"onboarding\" && props.children}\n                <Modals\n                    {...value}\n                    {...actions}\n                    key={\n                        screen.id\n                    } /** By specifying a key, we reset state whenever switching screen. */\n                />\n                <Prompt\n                    when={[\n                        \"modify_account\",\n                        \"special_prompt\",\n                        \"special_input\",\n                        \"image_viewer\",\n                        \"profile\",\n                        \"channel_info\",\n                        \"pending_requests\",\n                        \"user_picker\",\n                    ].includes(screen.id)}\n                    message={(_, action) => {\n                        if (action === \"POP\") {\n                            openScreen({ id: \"none\" });\n                            setTimeout(() => history.push(history.location), 0);\n\n                            return false;\n                        }\n\n                        return true;\n                    }}\n                />\n            </IntermediateActionsContext.Provider>\n        </IntermediateContext.Provider>\n    );\n}\n\nexport const useIntermediate = () => useContext(IntermediateActionsContext);\n","import { BrowserRouter as Router } from \"react-router-dom\";\n\nimport State from \"../redux/State\";\n\nimport { Children } from \"../types/Preact\";\nimport Locale from \"./Locale\";\nimport Settings from \"./Settings\";\nimport Theme from \"./Theme\";\nimport Intermediate from \"./intermediate/Intermediate\";\nimport Client from \"./revoltjs/RevoltClient\";\n\nexport default function Context({ children }: { children: Children }) {\n    return (\n        <Router basename={import.meta.env.BASE_URL}>\n            <State>\n                <Theme>\n                    <Settings>\n                        <Locale>\n                            <Intermediate>\n                                <Client>{children}</Client>\n                            </Intermediate>\n                        </Locale>\n                    </Settings>\n                </Theme>\n            </State>\n        </Router>\n    );\n}\n","import { Redirect } from \"react-router-dom\";\n\nimport { useContext } from \"preact/hooks\";\n\nimport { Children } from \"../../types/Preact\";\nimport { OperationsContext } from \"./RevoltClient\";\n\ninterface Props {\n    auth?: boolean;\n    children: Children;\n}\n\nexport const CheckAuth = (props: Props) => {\n    const operations = useContext(OperationsContext);\n\n    if (props.auth && !operations.ready()) {\n        return <Redirect to=\"/login\" />;\n    } else if (!props.auth && operations.ready()) {\n        return <Redirect to=\"/\" />;\n    }\n\n    return <>{props.children}</>;\n};\n","// This file must be imported and used at least once for SVG masks.\n\nexport default function Masks() {\n    return (\n        <svg width={0} height={0} style={{ position: \"fixed\" }}>\n            <defs>\n                <mask id=\"server\">\n                    <rect x=\"0\" y=\"0\" width=\"32\" height=\"32\" fill=\"white\" />\n                    <circle cx=\"27\" cy=\"5\" r=\"7\" fill={\"black\"} />\n                </mask>\n                <mask id=\"user\">\n                    <rect x=\"0\" y=\"0\" width=\"32\" height=\"32\" fill=\"white\" />\n                    <circle cx=\"27\" cy=\"27\" r=\"7\" fill={\"black\"} />\n                </mask>\n                <mask id=\"session\">\n                    <rect x=\"0\" y=\"0\" width=\"32\" height=\"32\" fill=\"white\" />\n                    <circle cx=\"26\" cy=\"28\" r=\"10\" fill={\"black\"} />\n                </mask>\n                <mask id=\"overlap\">\n                    <rect x=\"0\" y=\"0\" width=\"32\" height=\"32\" fill=\"white\" />\n                    <circle cx=\"32\" cy=\"16\" r=\"18\" fill={\"black\"} />\n                </mask>\n            </defs>\n        </svg>\n    );\n}\n","import { ArrowBack } from \"@styled-icons/boxicons-regular\";\nimport { autorun } from \"mobx\";\nimport { Redirect, useHistory, useParams } from \"react-router-dom\";\nimport { RetrievedInvite } from \"revolt-api/types/Invites\";\n\nimport styles from \"./Invite.module.scss\";\nimport { Text } from \"preact-i18n\";\nimport { useContext, useEffect, useState } from \"preact/hooks\";\n\nimport { defer } from \"../../lib/defer\";\nimport { TextReact } from \"../../lib/i18n\";\n\nimport { dispatch } from \"../../redux\";\n\nimport RequiresOnline from \"../../context/revoltjs/RequiresOnline\";\nimport {\n    AppContext,\n    ClientStatus,\n    StatusContext,\n} from \"../../context/revoltjs/RevoltClient\";\nimport { takeError } from \"../../context/revoltjs/util\";\n\nimport ServerIcon from \"../../components/common/ServerIcon\";\nimport UserIcon from \"../../components/common/user/UserIcon\";\nimport Button from \"../../components/ui/Button\";\nimport Overline from \"../../components/ui/Overline\";\nimport Preloader from \"../../components/ui/Preloader\";\n\nexport default function Invite() {\n    const history = useHistory();\n    const client = useContext(AppContext);\n    const status = useContext(StatusContext);\n    const { code } = useParams<{ code: string }>();\n    const [processing, setProcessing] = useState(false);\n    const [error, setError] = useState<string | undefined>(undefined);\n    const [invite, setInvite] = useState<RetrievedInvite | undefined>(\n        undefined,\n    );\n\n    useEffect(() => {\n        if (\n            typeof invite === \"undefined\" &&\n            (status === ClientStatus.ONLINE || status === ClientStatus.READY)\n        ) {\n            client\n                .fetchInvite(code)\n                .then((data) => setInvite(data))\n                .catch((err) => setError(takeError(err)));\n        }\n    }, [client, code, invite, status]);\n\n    if (code === undefined) return <Redirect to=\"/\" />;\n\n    if (typeof invite === \"undefined\") {\n        return (\n            <div className={styles.preloader}>\n                <RequiresOnline>\n                    {error ? (\n                        <div\n                            className={styles.invite}\n                            style={{\n                                backgroundImage: `url('https://autumn.revolt.chat/banners/yMurJiXf45VJpbal0X2zQkm4vaXsXGaRtoPUIcvPcH')`,\n                                width: \"100%\",\n                                height: \"100%\",\n                            }}>\n                            <div className={styles.details}>\n                                <h1>\n                                    <Text id=\"app.special.invite.invalid\" />\n                                </h1>\n                                <h2>\n                                    <Text id=\"app.special.invite.invalid_desc\" />\n                                </h2>\n                                <div style=\"cursor: pointer;\">\n                                    <Button contrast>\n                                        <ArrowBack\n                                            size={32}\n                                            onClick={() => history.push(\"/\")}\n                                        />\n                                    </Button>\n                                </div>\n                            </div>\n                        </div>\n                    ) : (\n                        <Preloader type=\"spinner\" />\n                    )}\n                </RequiresOnline>\n            </div>\n        );\n    }\n\n    return (\n        <div\n            className={styles.invite}\n            style={{\n                backgroundImage: invite.server_banner\n                    ? `url('${client.generateFileURL(invite.server_banner)}')`\n                    : undefined,\n            }}>\n            <div className={styles.leave}>\n                <ArrowBack size={32} onClick={() => history.push(\"/\")} />\n            </div>\n\n            {!processing && (\n                <div className={styles.icon}>\n                    <ServerIcon\n                        attachment={invite.server_icon}\n                        server_name={invite.server_name}\n                        size={64}\n                    />\n                </div>\n            )}\n\n            <div className={styles.details}>\n                {processing ? (\n                    <Preloader type=\"ring\" />\n                ) : (\n                    <>\n                        <h1>{invite.server_name}</h1>\n                        <h2>\n                            #{invite.channel_name} •{\" \"}\n                            <Text\n                                id=\"app.special.invite.user_count\"\n                                fields={{\n                                    member_count: invite.member_count,\n                                }}\n                            />\n                        </h2>\n                        <h3>\n                            <TextReact\n                                id=\"app.special.invite.invited_by\"\n                                fields={{\n                                    user: (\n                                        <>\n                                            <UserIcon\n                                                size={24}\n                                                attachment={invite.user_avatar}\n                                            />{\" \"}\n                                            {invite.user_name}\n                                        </>\n                                    ),\n                                }}\n                            />\n                        </h3>\n                        <Overline type=\"error\" error={error} />\n                        <Button\n                            contrast\n                            onClick={async () => {\n                                if (status === ClientStatus.READY) {\n                                    return history.push(\"/\");\n                                }\n\n                                try {\n                                    setProcessing(true);\n\n                                    if (invite.type === \"Server\") {\n                                        if (\n                                            client.servers.get(invite.server_id)\n                                        ) {\n                                            history.push(\n                                                `/server/${invite.server_id}/channel/${invite.channel_id}`,\n                                            );\n                                        }\n\n                                        const dispose = autorun(() => {\n                                            const server = client.servers.get(\n                                                invite.server_id,\n                                            );\n\n                                            defer(() => {\n                                                if (server) {\n                                                    dispatch({\n                                                        type: \"UNREADS_MARK_MULTIPLE_READ\",\n                                                        channels:\n                                                            server.channel_ids,\n                                                    });\n\n                                                    history.push(\n                                                        `/server/${server._id}/channel/${invite.channel_id}`,\n                                                    );\n                                                }\n                                            });\n\n                                            dispose();\n                                        });\n                                    }\n\n                                    await client.joinInvite(code);\n                                } catch (err) {\n                                    setError(takeError(err));\n                                    setProcessing(false);\n                                }\n                            }}>\n                            {status === ClientStatus.READY ? (\n                                <Text id=\"app.special.invite.login\" />\n                            ) : (\n                                <Text id=\"app.special.invite.accept\" />\n                            )}\n                        </Button>\n                    </>\n                )}\n            </div>\n        </div>\n    );\n}\n","import { Route, Switch } from \"react-router-dom\";\n\nimport { lazy, Suspense } from \"preact/compat\";\n\nimport Context from \"../context\";\nimport { CheckAuth } from \"../context/revoltjs/CheckAuth\";\n\nimport Masks from \"../components/ui/Masks\";\nimport Preloader from \"../components/ui/Preloader\";\n\nimport Invite from \"./invite/Invite\";\n\nconst Login = lazy(() => import(\"./login/Login\"));\nconst RevoltApp = lazy(() => import(\"./RevoltApp\"));\n\nexport function App() {\n    return (\n        <Context>\n            <Masks />\n            {/* \n            // @ts-expect-error typings mis-match between preact... and preact? */}\n            <Suspense fallback={<Preloader type=\"spinner\" />}>\n                <Switch>\n                    <Route path=\"/login/verify/:token\">\n                        <Login />\n                    </Route>\n                    <Route path=\"/login/reset/:token\">\n                        <Login />\n                    </Route>\n                    <Route path=\"/invite/:code\">\n                        <Invite />\n                    </Route>\n                    <Route path=\"/login\">\n                        <CheckAuth>\n                            <Login />\n                        </CheckAuth>\n                    </Route>\n                    <Route path=\"/\">\n                        <CheckAuth auth>\n                            <RevoltApp />\n                        </CheckAuth>\n                    </Route>\n                </Switch>\n            </Suspense>\n        </Context>\n    );\n}\n","import { registerSW } from \"virtual:pwa-register\";\n\nimport \"./styles/index.scss\";\nimport { render } from \"preact\";\n\nimport { internalEmit } from \"./lib/eventEmitter\";\n\nimport { App } from \"./pages/app\";\n\nexport const updateSW = registerSW({\n    onNeedRefresh() {\n        internalEmit(\"PWA\", \"update\");\n    },\n    onOfflineReady() {\n        console.info(\"Ready to work offline.\");\n        // show a ready to work offline to user\n    },\n});\n\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\nrender(<App />, document.getElementById(\"app\")!);\n","// src/client/build/register.ts\nimport {Workbox, messageSW} from \"workbox-window\";\nvar autoUpdateMode = \"false\";\nvar auto = autoUpdateMode === \"true\";\nfunction registerSW(options = {}) {\n  const {\n    immediate = false,\n    onNeedRefresh,\n    onOfflineReady\n  } = options;\n  let wb;\n  let registration;\n  const updateServiceWorker = async (reloadPage = true) => {\n    if (!auto) {\n      if (reloadPage) {\n        wb == null ? void 0 : wb.addEventListener(\"controlling\", (event) => {\n          if (event.isUpdate)\n            window.location.reload();\n        });\n      }\n      if (registration && registration.waiting) {\n        await messageSW(registration.waiting, {type: \"SKIP_WAITING\"});\n      }\n    }\n  };\n  if (\"serviceWorker\" in navigator) {\n    wb = new Workbox(\"/revite/refs/pull/288/merge/sw.js\", {scope: \"/revite/refs/pull/288/merge/\"});\n    wb.addEventListener(\"activated\", (event) => {\n      if (event.isUpdate)\n        auto && window.location.reload();\n      else\n        onOfflineReady == null ? void 0 : onOfflineReady();\n    });\n    if (!auto) {\n      const showSkipWaitingPrompt = () => {\n        onNeedRefresh == null ? void 0 : onNeedRefresh();\n      };\n      wb.addEventListener(\"waiting\", showSkipWaitingPrompt);\n      wb.addEventListener(\"externalwaiting\", showSkipWaitingPrompt);\n    }\n    wb.register({immediate}).then((r) => registration = r);\n  }\n  return updateServiceWorker;\n}\nexport {\n  registerSW\n};\n"],"names":["InternalEvent","EventEmitter","ns","event","fn","addListener","removeListener","args","emit","props","loaded","setLoaded","useState","getItem","then","state","type","Provider","store","children","SoundMap","message","outbound","call_join","call_leave","SOUNDS_ARRAY","SettingsContext","createContext","SoundContext","connectState","settings","play","useMemo","enabled","defaultsDeep","notification","sounds","DEFAULT_SOUNDS","sound","file2","el","Audio","err","error","value","ALLOWED_ORIGINS","location","hostname","CHANNEL_PATH_RE","href","internal","url","URL","includes","path","pathname","startsWith","test","navigation_type","channel_id","slice","id","substr","open","keyframes","close","zoomIn","zoomOut","ModalBase","styled","div","ModalContainer","ModalContent","noBackground","css","padding","attachment","border","ModalActions","isModalClosing","visible","content","actions","dontModal","title","animateClose","setAnimateClose","onClose","useCallback","internalSubscribe","disallowClosing","body","addEventListener","keyDown","document","removeEventListener","e","key","confirmationAction","find","action2","confirmation","onClick","createPortal","className","cancelBubble","map","x","index","Button","__spreadProps","disabled","text","Modal","Text","protocol","style","userSelect","text2","reload","skSpinner","prRing","PreloaderBase","class","preventReconnect","preventUntil","allowed","response","data","status","isAxiosError","channel","prefixType","channel_type","recipient","username","name","ClientStatus","ClientStatus2","AppContext","StatusContext","OperationsContext","auth","openScreen","useIntermediate","setStatus","client","setClient","client2","Client","autoReconnect","apiURL","debug","operations","login","async","onboarding2","dispatch","session","callback","logout","shouldRequest","reset","websocket","disconnect","loggedIn","active","ready","user","Date","connect","catch","console","reconnect","listeners","connecting","CONNECTING","dropped","DISCONNECTED","packet","message_id","message2","mention_ids","_id","ONLINE","listener","online","RECONNECTING","offline","OFFLINE","registerEvents","accounts","users","get","user_id","navigator","onLine","fetchConfiguration","useExistingSession","takeError","Preloader","sync","useClient","useContext","question","field","defaultValue","processing","setProcessing","setValue","setError","Overline","block","InputBox","onChange","currentTarget","history2","useHistory","InputModal","group","channels","createGroup","nonce","ulid","push","server","servers","createServer","role","createRole","edit","trim","length","req","register","showOverline","Localizer","placeholder","ref","register3","validate","required","pattern","handleSubmit","useForm","loading2","setLoading","styles","src","wideSVG","loading","onSubmit","FormField","input","fields","Object","keys","_a","restOfFields","__restKey","values","split","v2","recursiveReplaceFields","i","splice","flat","intl","IntlContext","entry","dictionary","shift","plural","fallback2","translate","Renderer","lazy","__vitePreload","Suspense","fallback","__spreadValues","svg","borderRadius","hover","ImageIconBase","img","theme","ThemeContext","presence","Presence","Invisible","Idle","Busy","VoiceIndicator","observer","target","size","animate","mask","showServerIdentity","svgProps","override","useParams","member","members","getKey","avatar","iconURL","generateFileURL","attachment2","max_side","defaultAvatarURL","IconBase","width","height","aria-hidden","viewBox","y","draggable","cx","cy","r","fill","useStatusColour","voice","VolumeMute","MicrophoneOff","BotBadge","Username","prefixAt","_b","otherProps","color","nickname","roles","srv","c","colour","bot","handleUserClick","shiftKey","preventDefault","UserIcon","isTouchscreenDevice","isDesktop","isTablet","window","maxTouchPoints","isMobile","tippyProps","Tippy","PermissionTooltipBase","permission","tooltipProps","Tooltip","highlight","contrast","head","mention","blocked","sending","failed","MessageInfo","MessageContent","DetailBase","MessageDetail","position","dict","useDictionary","edited","dayjs","decodeTime","format","timeFormat","calendar","hasOwn","hasOwnProperty","classes","arguments","arg","argType","Array","isArray","inner","classNames","apply","toString","prototype","call","join","module","exports","default","toFixed","normal","rotate","filename","metadata","open_url","download_url","replace","filesize2","determineFileSize","imageAction","filesize","iconType","rel","IconButton","LinkExternal","downloadIcon","download","Download","audioAction","Headphone","videoAction","Video","File","externalType","Grid","divProps","Base","set","READY","WifiOff","fileCache","setContent","cached","transformResponse","res","data-loading","RequiresOnline","ImageLoadingState","ImageLoadingState2","_c","_d","alt","onMouseDown","ev","button","onLoad","onError","hasContent","spoiler","setSpoiler","MAX_ATTACHMENT_WIDTH","SizedGrid","ImageFile","Spoiler","--width","AttachmentActions","controls","data-has-content","TextFile","SimpleRenderer","init","renderer","nearby","smooth2","connected","fetchMessagesWithUsers","limit","messages","sort","a","b","localeCompare","atTop","atBottom","emitScroll","reverse","smooth","receive","SMOOTH_SCROLL_ON_RECEIVE","delete","findIndex","loadTop","generateScroll","before","loadBottom","after","[object Object]","this","currentRenderer","scrollPosition","scrollAnchored","bind","patch","stale","scrollState","fetching","end","heightRemoved","removing","messageContainer","child","from","clientHeight","parseInt","getComputedStyle","marginTop","previousHeight","scrollHeight","start","scrollTop","__decorateClass","action","ChannelRenderer","renderers","SystemContent","iconDictionary","user_added","UserPlus","user_remove","UserMinus","user_joined","ArrowToRight","user_left","ArrowToLeft","user_kicked","UserX","user_banned","ShieldX","channel_renamed","EditAlt","channel_description_changed","Edit","channel_icon_changed","MessageSquareEdit","InfoCircle","SystemMessage","attachContext","hideInfo","asSystemMessage","SystemMessageIcon","TextReact","UserShort","other_user","by","MessageBase","onContextMenu","attachContextMenu","contextualChannel","ReplyBase","fail","preview","MessageReply","parent_mentions","view","getRenderer","setMessage","message22","fetchMessage","Reply","author","relationship","RelationshipStatus","Blocked","author_id","channel2","server_id","attachments","Markdown","disallowBigEmoji","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","self","root","Function","objectToString","nativeMax","Math","max","nativeMin","min","now","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","time","thisArg","setTimeout","timerExpired","invokeFunc","timeSinceLastCall","shouldInvoke","trailingEdge","result2","remainingWait","isInvoking","leadingEdge","toNumber","isObject","cancel","flush","debounced","isObjectLike","isSymbol","other","valueOf","isBinary","obj","debounce","defineProperty","eventName","supportsPassiveOption","supportsPassiveOption2","opts","passive","_lodash2","_lodash","__esModule","scrollSpy","spyCallbacks","spySetState","scrollSpyContainers","mount","scrollSpyContainer","throttle2","eventHandler","throttleAmount","eventThrottler","scrollHandler","_passiveEventListeners","addPassiveEventListener","isMounted","indexOf","currentPositionX","supportPageOffset","pageYOffset","isCSS1Compat","compatMode","pageXOffset","documentElement","scrollLeft","currentPositionY","forEach","addStateHandler","handler","addSpyHandler","container2","updateStates","s2","unmount","stateHandler","spyHandler","update","getElementOffsetInfoUntil","element","predicate","offsetTop","currentOffsetParent","offsetParent","updateHash","hash","historyUpdate","hashVal","substring","hashToUpdate","curLoc","urlToPush","search","history","pushState","replaceState","getHash","filterElementInContainer","contains","compareDocumentPosition","scrollOffset","t","horizontal","getBoundingClientRect","left","scrollX","offsetLeft","top","scrollY","_getElementOffsetInfo","Error","isDocument","defaultEasing","pow","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","events","subscribe","cancelEvent","Events","registered","scrollEvent","evtName","remove","_extends","assign","source","_interopRequireDefault","_utils","_smooth2","_smooth","_cancelEvents2","_cancelEvents","_scrollEvents2","_scrollEvents","getAnimationType","requestAnimationFrameHelper","requestAnimationFrame","webkitRequestAnimationFrame","currentWindowProperties","delay","getTime","currentPositionX2","containerElement","currentPositionY2","animateScroll","easing","timestamp","ignoreCancelEvents","delta","round","targetPosition","startPosition","progress","percent","duration","currentPosition","ceil","scrollTo","easedAnimate","animateScroll2","to","setContainer","containerId","getElementById","container","nodeType","animateTopScroll","scrollOffset3","delayTimeout","clearTimeout","absolute","isNaN","parseFloat","proceedOptions","scrollToTop","scrollToBottom","scrollWidth","offsetWidth","html","clientWidth","scrollContainerWidth","offsetHeight","scrollContainerHeight","toPosition","scrollMore","_utils2","_animateScroll2","_animateScroll","__mapped","__activeLink","unregister","getElementsByName","getElementsByClassName","setActiveLink","link","getActiveLink","offset","warn","mountFlag","initialized","scroller","containers","scroller2","handleHashChange","initStateFromHash","mapContainer","isInitialized","_this","isInit","changeHash","saveHashHistory","_createClass","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_react","_scrollSpy2","_scrollSpy","_scroller2","_scroller","_propTypes2","_propTypes","_scrollHash2","_scrollHash","protoTypes","string","isRequired","object","activeClass","spy","bool","oneOfType","number","isDynamic","onSetActive","onSetInactive","hashSpy","spyThrottle","Component","customScroller","Link2","_React$PureComponent","instance","Link3","self2","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","subClass","superClass","create","constructor","setPrototypeOf","PureComponent","getScrollSpyContainer","setState","prop","handleClick","createElement","_initialiseProps","_this2","stopPropagation","y2","isInside","isOutside","elemLeftBound","elemRightBound","containerLeft","cords","offsetX","floor","elemTopBound","elemBottomBound","containerTop","_cords","offsetY","activeLink","_props$saveHashHistor","_props$saveHashHistor2","_saveHashHistory","propTypes","defaultProps","_scrollLink2","_scrollLink","LinkElement","_React$Component","_ref","_temp","LinkElement2","_len","_key","concat","render","ButtonElement","ButtonElement2","_reactDom","Element3","Element4","childBindings","domNode","registerElems","prevProps","parentBindings","_scrollElement2","_scrollElement","ElementWrapper","ElementWrapper2","newProps","PropTypes","Scroll","defaultScroller","Scroll2","Scroll3","React","scrollHash","Element","_React$Component2","_this3","_Link2","_interopRequireDefault2","_Link","_Button2","_Button","_Element2","_Element","_scroller22","_scrollEvents22","_scrollSpy22","_animateScroll22","_scrollLink22","_scrollElement22","_Helpers2","_Helpers","Link","ScrollLink","ScrollElement","Helpers","extractSize","boxProp","sizeType","contentRect","onResize","onResizeRef","useRef","current","resizeObserverRef","_useState","setSize","didUnmount","subscriber","refOrElement","callbackRefElement","lastReportRef","cleanupRef","callSubscriber","previous","refCallback","box","ResizeObserver","entries","reportedWidth","reportedHeight","newWidth","newHeight","newSize","observe","unobserve","HTMLElement","reporter","defer","cb","StartBase","getChannelName","unread","Unread","date","textarea","lineHeight","hideBorder","code","Container","Ghost","maxRows","autoFocus","minHeight","forceFocus","textAreaProps","ghost","focus","inputSelected","activeElement","nodeName","ctrlKey","altKey","metaKey","TextArea","emojiDictionary","100","1234","grinning","smiley","smile","grin","laughing","satisfied","sweat_smile","rofl","joy","slightly_smiling_face","upside_down_face","wink","blush","innocent","smiling_face_with_three_hearts","heart_eyes","star_struck","kissing_heart","kissing","relaxed","kissing_closed_eyes","kissing_smiling_eyes","smiling_face_with_tear","yum","stuck_out_tongue","stuck_out_tongue_winking_eye","zany_face","stuck_out_tongue_closed_eyes","money_mouth_face","hugs","hand_over_mouth","shushing_face","thinking","zipper_mouth_face","raised_eyebrow","neutral_face","expressionless","no_mouth","smirk","unamused","roll_eyes","grimacing","lying_face","relieved","pensive","sleepy","drooling_face","sleeping","face_with_thermometer","face_with_head_bandage","nauseated_face","vomiting_face","sneezing_face","hot_face","cold_face","woozy_face","dizzy_face","exploding_head","cowboy_hat_face","partying_face","disguised_face","sunglasses","nerd_face","monocle_face","confused","worried","slightly_frowning_face","frowning_face","open_mouth","hushed","astonished","flushed","pleading_face","frowning","anguished","fearful","cold_sweat","disappointed_relieved","cry","sob","scream","confounded","persevere","disappointed","sweat","weary","tired_face","yawning_face","triumph","rage","pout","angry","cursing_face","smiling_imp","imp","skull","skull_and_crossbones","hankey","poop","shit","clown_face","japanese_ogre","japanese_goblin","alien","space_invader","robot","smiley_cat","smile_cat","joy_cat","heart_eyes_cat","smirk_cat","kissing_cat","scream_cat","crying_cat_face","pouting_cat","see_no_evil","hear_no_evil","speak_no_evil","kiss","love_letter","cupid","gift_heart","sparkling_heart","heartpulse","heartbeat","revolving_hearts","two_hearts","heart_decoration","heavy_heart_exclamation","broken_heart","heart","orange_heart","yellow_heart","green_heart","blue_heart","purple_heart","brown_heart","black_heart","white_heart","anger","boom","collision","dizzy","sweat_drops","dash","hole","bomb","speech_balloon","eye_speech_bubble","left_speech_bubble","right_anger_bubble","thought_balloon","zzz","wave","raised_back_of_hand","raised_hand_with_fingers_splayed","hand","raised_hand","vulcan_salute","ok_hand","pinched_fingers","pinching_hand","v","crossed_fingers","love_you_gesture","metal","call_me_hand","point_left","point_right","point_up_2","middle_finger","fu","point_down","point_up","+1","thumbsup","-1","thumbsdown","fist_raised","fist","fist_oncoming","facepunch","punch","fist_left","fist_right","clap","raised_hands","open_hands","palms_up_together","handshake","pray","writing_hand","nail_care","selfie","muscle","mechanical_arm","mechanical_leg","leg","foot","ear","ear_with_hearing_aid","nose","brain","anatomical_heart","lungs","tooth","bone","eyes","eye","tongue","lips","baby","boy","girl","adult","blond_haired_person","man","bearded_person","red_haired_man","curly_haired_man","white_haired_man","bald_man","woman","red_haired_woman","person_red_hair","curly_haired_woman","person_curly_hair","white_haired_woman","person_white_hair","bald_woman","person_bald","blond_haired_woman","blonde_woman","blond_haired_man","older_adult","older_man","older_woman","frowning_person","frowning_man","frowning_woman","pouting_face","pouting_man","pouting_woman","no_good","no_good_man","ng_man","no_good_woman","ng_woman","ok_person","ok_man","ok_woman","tipping_hand_person","information_desk_person","tipping_hand_man","sassy_man","tipping_hand_woman","sassy_woman","raising_hand","raising_hand_man","raising_hand_woman","deaf_person","deaf_man","deaf_woman","bow","bowing_man","bowing_woman","facepalm","man_facepalming","woman_facepalming","shrug","man_shrugging","woman_shrugging","health_worker","man_health_worker","woman_health_worker","student","man_student","woman_student","teacher","man_teacher","woman_teacher","judge","man_judge","woman_judge","farmer","man_farmer","woman_farmer","cook","man_cook","woman_cook","mechanic","man_mechanic","woman_mechanic","factory_worker","man_factory_worker","woman_factory_worker","office_worker","man_office_worker","woman_office_worker","scientist","man_scientist","woman_scientist","technologist","man_technologist","woman_technologist","singer","man_singer","woman_singer","artist","man_artist","woman_artist","pilot","man_pilot","woman_pilot","astronaut","man_astronaut","woman_astronaut","firefighter","man_firefighter","woman_firefighter","police_officer","cop","policeman","policewoman","detective","male_detective","female_detective","guard","guardsman","guardswoman","ninja","construction_worker","construction_worker_man","construction_worker_woman","prince","princess","person_with_turban","man_with_turban","woman_with_turban","man_with_gua_pi_mao","woman_with_headscarf","person_in_tuxedo","man_in_tuxedo","woman_in_tuxedo","person_with_veil","man_with_veil","woman_with_veil","bride_with_veil","pregnant_woman","breast_feeding","woman_feeding_baby","man_feeding_baby","person_feeding_baby","angel","santa","mrs_claus","mx_claus","superhero","superhero_man","superhero_woman","supervillain","supervillain_man","supervillain_woman","mage","mage_man","mage_woman","fairy","fairy_man","fairy_woman","vampire","vampire_man","vampire_woman","merperson","merman","mermaid","elf","elf_man","elf_woman","genie","genie_man","genie_woman","zombie","zombie_man","zombie_woman","massage","massage_man","massage_woman","haircut","haircut_man","haircut_woman","walking","walking_man","walking_woman","standing_person","standing_man","standing_woman","kneeling_person","kneeling_man","kneeling_woman","person_with_probing_cane","man_with_probing_cane","woman_with_probing_cane","person_in_motorized_wheelchair","man_in_motorized_wheelchair","woman_in_motorized_wheelchair","person_in_manual_wheelchair","man_in_manual_wheelchair","woman_in_manual_wheelchair","runner","running","running_man","running_woman","woman_dancing","dancer","man_dancing","business_suit_levitating","dancers","dancing_men","dancing_women","sauna_person","sauna_man","sauna_woman","climbing","climbing_man","climbing_woman","person_fencing","horse_racing","skier","snowboarder","golfing","golfing_man","golfing_woman","surfer","surfing_man","surfing_woman","rowboat","rowing_man","rowing_woman","swimmer","swimming_man","swimming_woman","bouncing_ball_person","bouncing_ball_man","basketball_man","bouncing_ball_woman","basketball_woman","weight_lifting","weight_lifting_man","weight_lifting_woman","bicyclist","biking_man","biking_woman","mountain_bicyclist","mountain_biking_man","mountain_biking_woman","cartwheeling","man_cartwheeling","woman_cartwheeling","wrestling","men_wrestling","women_wrestling","water_polo","man_playing_water_polo","woman_playing_water_polo","handball_person","man_playing_handball","woman_playing_handball","juggling_person","man_juggling","woman_juggling","lotus_position","lotus_position_man","lotus_position_woman","bath","sleeping_bed","people_holding_hands","two_women_holding_hands","couple","two_men_holding_hands","couplekiss","couplekiss_man_woman","couplekiss_man_man","couplekiss_woman_woman","couple_with_heart","couple_with_heart_woman_man","couple_with_heart_man_man","couple_with_heart_woman_woman","family","family_man_woman_boy","family_man_woman_girl","family_man_woman_girl_boy","family_man_woman_boy_boy","family_man_woman_girl_girl","family_man_man_boy","family_man_man_girl","family_man_man_girl_boy","family_man_man_boy_boy","family_man_man_girl_girl","family_woman_woman_boy","family_woman_woman_girl","family_woman_woman_girl_boy","family_woman_woman_boy_boy","family_woman_woman_girl_girl","family_man_boy","family_man_boy_boy","family_man_girl","family_man_girl_boy","family_man_girl_girl","family_woman_boy","family_woman_boy_boy","family_woman_girl","family_woman_girl_boy","family_woman_girl_girl","speaking_head","bust_in_silhouette","busts_in_silhouette","people_hugging","footprints","monkey_face","monkey","gorilla","orangutan","dog","dog2","guide_dog","service_dog","poodle","wolf","fox_face","raccoon","cat","cat2","black_cat","lion","tiger","tiger2","leopard","horse","racehorse","unicorn","zebra","deer","bison","cow","ox","water_buffalo","cow2","pig","pig2","boar","pig_nose","ram","sheep","goat","dromedary_camel","camel","llama","giraffe","elephant","mammoth","rhinoceros","hippopotamus","mouse","mouse2","rat","hamster","rabbit","rabbit2","chipmunk","beaver","hedgehog","bat","bear","polar_bear","koala","panda_face","sloth","otter","skunk","kangaroo","badger","feet","paw_prints","turkey","chicken","rooster","hatching_chick","baby_chick","hatched_chick","bird","penguin","dove","eagle","duck","swan","owl","dodo","feather","flamingo","peacock","parrot","frog","crocodile","turtle","lizard","snake","dragon_face","dragon","sauropod","t-rex","whale","whale2","dolphin","flipper","seal","fish","tropical_fish","blowfish","shark","octopus","shell","snail","butterfly","bug","ant","bee","honeybee","beetle","lady_beetle","cricket","cockroach","spider","spider_web","scorpion","mosquito","fly","worm","microbe","bouquet","cherry_blossom","white_flower","rosette","rose","wilted_flower","hibiscus","sunflower","blossom","tulip","seedling","potted_plant","evergreen_tree","deciduous_tree","palm_tree","cactus","ear_of_rice","herb","shamrock","four_leaf_clover","maple_leaf","fallen_leaf","leaves","grapes","melon","watermelon","tangerine","orange","mandarin","lemon","banana","pineapple","mango","apple","green_apple","pear","peach","cherries","strawberry","blueberries","kiwi_fruit","tomato","olive","coconut","avocado","eggplant","potato","carrot","corn","hot_pepper","bell_pepper","cucumber","leafy_green","broccoli","garlic","onion","mushroom","peanuts","chestnut","bread","croissant","baguette_bread","flatbread","pretzel","bagel","pancakes","waffle","cheese","meat_on_bone","poultry_leg","cut_of_meat","bacon","hamburger","fries","pizza","hotdog","sandwich","taco","burrito","tamale","stuffed_flatbread","falafel","egg","fried_egg","shallow_pan_of_food","stew","fondue","bowl_with_spoon","green_salad","popcorn","butter","salt","canned_food","bento","rice_cracker","rice_ball","rice","curry","ramen","spaghetti","sweet_potato","oden","sushi","fried_shrimp","fish_cake","moon_cake","dango","dumpling","fortune_cookie","takeout_box","crab","lobster","shrimp","squid","oyster","icecream","shaved_ice","ice_cream","doughnut","cookie","birthday","cake","cupcake","pie","chocolate_bar","candy","lollipop","custard","honey_pot","baby_bottle","milk_glass","coffee","teapot","tea","sake","champagne","wine_glass","cocktail","tropical_drink","beer","beers","clinking_glasses","tumbler_glass","cup_with_straw","bubble_tea","beverage_box","mate","ice_cube","chopsticks","plate_with_cutlery","fork_and_knife","spoon","hocho","knife","amphora","earth_africa","earth_americas","earth_asia","globe_with_meridians","world_map","japan","compass","mountain_snow","mountain","volcano","mount_fuji","camping","beach_umbrella","desert","desert_island","national_park","stadium","classical_building","building_construction","bricks","rock","wood","hut","houses","derelict_house","house","house_with_garden","office","post_office","european_post_office","hospital","bank","hotel","love_hotel","convenience_store","school","department_store","factory","japanese_castle","european_castle","wedding","tokyo_tower","statue_of_liberty","church","mosque","hindu_temple","synagogue","shinto_shrine","kaaba","fountain","tent","foggy","night_with_stars","cityscape","sunrise_over_mountains","sunrise","city_sunset","city_sunrise","bridge_at_night","hotsprings","carousel_horse","ferris_wheel","roller_coaster","barber","circus_tent","steam_locomotive","railway_car","bullettrain_side","bullettrain_front","train2","metro","light_rail","station","tram","monorail","mountain_railway","train","bus","oncoming_bus","trolleybus","minibus","ambulance","fire_engine","police_car","oncoming_police_car","taxi","oncoming_taxi","car","red_car","oncoming_automobile","blue_car","pickup_truck","truck","articulated_lorry","tractor","racing_car","motorcycle","motor_scooter","manual_wheelchair","motorized_wheelchair","auto_rickshaw","bike","kick_scooter","skateboard","roller_skate","busstop","motorway","railway_track","oil_drum","fuelpump","rotating_light","traffic_light","vertical_traffic_light","stop_sign","construction","anchor","boat","sailboat","canoe","speedboat","passenger_ship","ferry","motor_boat","ship","airplane","small_airplane","flight_departure","flight_arrival","parachute","seat","helicopter","suspension_railway","mountain_cableway","aerial_tramway","artificial_satellite","rocket","flying_saucer","bellhop_bell","luggage","hourglass","hourglass_flowing_sand","watch","alarm_clock","stopwatch","timer_clock","mantelpiece_clock","clock12","clock1230","clock1","clock130","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","clock10","clock1030","clock11","clock1130","new_moon","waxing_crescent_moon","first_quarter_moon","moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","crescent_moon","new_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","thermometer","sunny","full_moon_with_face","sun_with_face","ringed_planet","star","star2","stars","milky_way","cloud","partly_sunny","cloud_with_lightning_and_rain","sun_behind_small_cloud","sun_behind_large_cloud","sun_behind_rain_cloud","cloud_with_rain","cloud_with_snow","cloud_with_lightning","tornado","fog","wind_face","cyclone","rainbow","closed_umbrella","open_umbrella","umbrella","parasol_on_ground","zap","snowflake","snowman_with_snow","snowman","comet","fire","droplet","ocean","jack_o_lantern","christmas_tree","fireworks","sparkler","firecracker","sparkles","balloon","tada","confetti_ball","tanabata_tree","bamboo","dolls","flags","wind_chime","rice_scene","red_envelope","ribbon","gift","reminder_ribbon","tickets","ticket","medal_military","trophy","medal_sports","1st_place_medal","2nd_place_medal","3rd_place_medal","soccer","baseball","softball","basketball","volleyball","football","rugby_football","tennis","flying_disc","bowling","cricket_game","field_hockey","ice_hockey","lacrosse","ping_pong","badminton","boxing_glove","martial_arts_uniform","goal_net","golf","ice_skate","fishing_pole_and_fish","diving_mask","running_shirt_with_sash","ski","sled","curling_stone","dart","yo_yo","kite","8ball","crystal_ball","magic_wand","nazar_amulet","video_game","joystick","slot_machine","game_die","jigsaw","teddy_bear","pinata","nesting_dolls","spades","hearts","diamonds","clubs","chess_pawn","black_joker","mahjong","flower_playing_cards","performing_arts","framed_picture","art","thread","sewing_needle","yarn","knot","eyeglasses","dark_sunglasses","goggles","lab_coat","safety_vest","necktie","shirt","tshirt","jeans","scarf","gloves","coat","socks","dress","kimono","sari","one_piece_swimsuit","swim_brief","shorts","bikini","womans_clothes","purse","handbag","pouch","shopping","school_satchel","thong_sandal","mans_shoe","shoe","athletic_shoe","hiking_boot","flat_shoe","high_heel","sandal","ballet_shoes","boot","crown","womans_hat","tophat","mortar_board","billed_cap","military_helmet","rescue_worker_helmet","prayer_beads","lipstick","ring","gem","mute","speaker","loud_sound","loudspeaker","mega","postal_horn","bell","no_bell","musical_score","musical_note","notes","studio_microphone","level_slider","control_knobs","microphone","headphones","radio","saxophone","accordion","guitar","musical_keyboard","trumpet","violin","banjo","drum","long_drum","iphone","calling","phone","telephone","telephone_receiver","pager","fax","battery","electric_plug","computer","desktop_computer","printer","keyboard","computer_mouse","trackball","minidisc","floppy_disk","cd","dvd","abacus","movie_camera","film_strip","film_projector","clapper","tv","camera","camera_flash","video_camera","vhs","mag","mag_right","candle","bulb","flashlight","izakaya_lantern","lantern","diya_lamp","notebook_with_decorative_cover","closed_book","book","open_book","green_book","blue_book","orange_book","books","notebook","ledger","page_with_curl","scroll","page_facing_up","newspaper","newspaper_roll","bookmark_tabs","bookmark","label","moneybag","coin","yen","dollar","euro","pound","money_with_wings","credit_card","receipt","chart","envelope","email","e-mail","incoming_envelope","envelope_with_arrow","outbox_tray","inbox_tray","package","mailbox","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","postbox","ballot_box","pencil2","black_nib","fountain_pen","pen","paintbrush","crayon","memo","pencil","briefcase","file_folder","open_file_folder","card_index_dividers","spiral_notepad","spiral_calendar","card_index","chart_with_upwards_trend","chart_with_downwards_trend","bar_chart","clipboard","pushpin","round_pushpin","paperclip","paperclips","straight_ruler","triangular_ruler","scissors","card_file_box","file_cabinet","wastebasket","lock","unlock","lock_with_ink_pen","closed_lock_with_key","old_key","hammer","axe","pick","hammer_and_pick","hammer_and_wrench","dagger","crossed_swords","gun","boomerang","bow_and_arrow","shield","carpentry_saw","wrench","screwdriver","nut_and_bolt","gear","clamp","balance_scale","probing_cane","chains","hook","toolbox","magnet","ladder","alembic","test_tube","petri_dish","dna","microscope","telescope","satellite","syringe","drop_of_blood","pill","adhesive_bandage","stethoscope","door","elevator","mirror","bed","couch_and_lamp","chair","toilet","plunger","shower","bathtub","mouse_trap","razor","lotion_bottle","safety_pin","broom","basket","roll_of_paper","bucket","soap","toothbrush","sponge","fire_extinguisher","shopping_cart","smoking","coffin","headstone","funeral_urn","moyai","placard","atm","put_litter_in_its_place","potable_water","wheelchair","mens","womens","restroom","baby_symbol","wc","passport_control","customs","baggage_claim","left_luggage","warning","children_crossing","no_entry","no_entry_sign","no_bicycles","no_smoking","do_not_litter","non-potable_water","no_pedestrians","no_mobile_phones","underage","radioactive","biohazard","arrow_up","arrow_upper_right","arrow_right","arrow_lower_right","arrow_down","arrow_lower_left","arrow_left","arrow_upper_left","arrow_up_down","left_right_arrow","leftwards_arrow_with_hook","arrow_right_hook","arrow_heading_up","arrow_heading_down","arrows_clockwise","arrows_counterclockwise","back","on","soon","place_of_worship","atom_symbol","om","star_of_david","wheel_of_dharma","yin_yang","latin_cross","orthodox_cross","star_and_crescent","peace_symbol","menorah","six_pointed_star","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","twisted_rightwards_arrows","repeat","repeat_one","arrow_forward","fast_forward","next_track_button","play_or_pause_button","arrow_backward","rewind","previous_track_button","arrow_up_small","arrow_double_up","arrow_down_small","arrow_double_down","pause_button","stop_button","record_button","eject_button","cinema","low_brightness","high_brightness","signal_strength","vibration_mode","mobile_phone_off","female_sign","male_sign","transgender_symbol","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","infinity","bangbang","interrobang","grey_question","grey_exclamation","exclamation","heavy_exclamation_mark","wavy_dash","currency_exchange","heavy_dollar_sign","medical_symbol","recycle","fleur_de_lis","trident","name_badge","beginner","o","white_check_mark","ballot_box_with_check","heavy_check_mark","negative_squared_cross_mark","curly_loop","loop","part_alternation_mark","eight_spoked_asterisk","eight_pointed_black_star","sparkle","copyright","tm","asterisk","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","capital_abcd","abcd","symbols","abc","ab","cl","cool","free","information_source","m","new","ng","o2","ok","parking","sos","up","vs","koko","sa","u6708","u6709","u6307","ideograph_advantage","u5272","u7121","u7981","accept","u7533","u5408","u7a7a","congratulations","secret","u55b6","u6e80","red_circle","orange_circle","yellow_circle","green_circle","large_blue_circle","purple_circle","brown_circle","black_circle","white_circle","red_square","orange_square","yellow_square","green_square","blue_square","purple_square","brown_square","black_large_square","white_large_square","black_medium_square","white_medium_square","black_medium_small_square","white_medium_small_square","black_small_square","white_small_square","large_orange_diamond","large_blue_diamond","small_orange_diamond","small_blue_diamond","small_red_triangle","small_red_triangle_down","diamond_shape_with_a_dot_inside","radio_button","white_square_button","black_square_button","checkered_flag","triangular_flag_on_post","crossed_flags","black_flag","white_flag","rainbow_flag","transgender_flag","pirate_flag","ascension_island","andorra","united_arab_emirates","afghanistan","antigua_barbuda","anguilla","albania","armenia","angola","antarctica","argentina","american_samoa","austria","australia","aruba","aland_islands","azerbaijan","bosnia_herzegovina","barbados","bangladesh","belgium","burkina_faso","bulgaria","bahrain","burundi","benin","st_barthelemy","bermuda","brunei","bolivia","caribbean_netherlands","brazil","bahamas","bhutan","bouvet_island","botswana","belarus","belize","canada","cocos_islands","congo_kinshasa","central_african_republic","congo_brazzaville","switzerland","cote_divoire","cook_islands","chile","cameroon","cn","colombia","clipperton_island","costa_rica","cuba","cape_verde","curacao","christmas_island","cyprus","czech_republic","de","diego_garcia","djibouti","denmark","dominica","dominican_republic","algeria","ceuta_melilla","ecuador","estonia","egypt","western_sahara","eritrea","es","ethiopia","eu","european_union","finland","fiji","falkland_islands","micronesia","faroe_islands","fr","gabon","gb","uk","grenada","georgia","french_guiana","guernsey","ghana","gibraltar","greenland","gambia","guinea","guadeloupe","equatorial_guinea","greece","south_georgia_south_sandwich_islands","guatemala","guam","guinea_bissau","guyana","hong_kong","heard_mcdonald_islands","honduras","croatia","haiti","hungary","canary_islands","indonesia","ireland","israel","isle_of_man","india","british_indian_ocean_territory","iraq","iran","iceland","it","jersey","jamaica","jordan","jp","kenya","kyrgyzstan","cambodia","kiribati","comoros","st_kitts_nevis","north_korea","kr","kuwait","cayman_islands","kazakhstan","laos","lebanon","st_lucia","liechtenstein","sri_lanka","liberia","lesotho","lithuania","luxembourg","latvia","libya","morocco","monaco","moldova","montenegro","st_martin","madagascar","marshall_islands","macedonia","mali","myanmar","mongolia","macau","northern_mariana_islands","martinique","mauritania","montserrat","malta","mauritius","maldives","malawi","mexico","malaysia","mozambique","namibia","new_caledonia","niger","norfolk_island","nigeria","nicaragua","netherlands","norway","nepal","nauru","niue","new_zealand","oman","panama","peru","french_polynesia","papua_new_guinea","philippines","pakistan","poland","st_pierre_miquelon","pitcairn_islands","puerto_rico","palestinian_territories","portugal","palau","paraguay","qatar","reunion","romania","serbia","ru","rwanda","saudi_arabia","solomon_islands","seychelles","sudan","sweden","singapore","st_helena","slovenia","svalbard_jan_mayen","slovakia","sierra_leone","san_marino","senegal","somalia","suriname","south_sudan","sao_tome_principe","el_salvador","sint_maarten","syria","swaziland","tristan_da_cunha","turks_caicos_islands","chad","french_southern_territories","togo","thailand","tajikistan","tokelau","timor_leste","turkmenistan","tunisia","tonga","tr","trinidad_tobago","tuvalu","taiwan","tanzania","ukraine","uganda","us_outlying_islands","united_nations","us","uruguay","uzbekistan","vatican_city","st_vincent_grenadines","venezuela","british_virgin_islands","us_virgin_islands","vietnam","vanuatu","wallis_futuna","samoa","kosovo","yemen","mayotte","south_africa","zambia","zimbabwe","england","scotland","wales","isServerChannel","imgProps","icon","VolumeFull","Hash","searchClues","focused","setFocused","selectionStart","selectionEnd","cursor","valid","j","toLowerCase","findSearchString","regex","RegExp","matches","filter","emoji","match","selected","within","recipients","JSON","parse","_type","querySelector","onKeyUp","onKeyDown","onFocus","onBlur","detached","onMouseEnter","onMouseLeave","Emoji","ChannelIcon","EditorBase","finish","focusTaken","IntermediateContext","keyUp","autoCompleteProps","AutoComplete","TextAreaAutoSize","maxLength","save","BlockedMessage","queue","userId","editing","setEditing","stopEditing","subs","unsub","ConversationStart","curAuthor","previous2","prevAuthor","atime","adate","btime","bdate","getFullYear","getMonth","getDate","DateDivider","abs","X","count","highlight2","Message","MessageEditor","nonces","msg","MessageI","replies","queued","Area","MessageAreaWidthContext","MessageArea","setHighlight","useResizeObserver","setScrollState","scrollingUntil","scrollIntoView","complete","reloadStale","markStale","onScroll","stbOnResize","jumpToBottom","MessageRenderer","embed","embed2","special","allowFullScreen","content_type","frameBorder","scrolling","allowTransparency","encodeURIComponent","seamless","image","proxyFile","openLink","maxWidth","w","h2","limitingWidth","limitingHeight","mw","mh","largeMedia","video","calculateSize","website","borderInlineStartColor","site_name","siteinfo","icon_url","favicon","display","site","description","EmbedMedia","ServerText","server_name","EmbedInviteBase","EmbedInviteDetails","EmbedInviteName","EmbedInviteMemberCount","invite2","setInvite","fetchInvite","ServerIcon","server_icon","member_count","toLocaleString","dispose","autorun","channel_ids","joinInvite","INVITE_PATHS","RE_INVITE","replaceAll","matchAll","Set","EmbedInvite","replacement","preferHead","hideReply","reply_ids","userContext","setAnimate","InviteList","Attachment","embeds","Embed","SpecialPromptModal","close_dm","delete_server","delete_channel","leave_group","leave_server","unfriend_user","block_user","PromptModal","removeFriend","blockUser","plain","setCode","writeClipboard","createInvite","code2","finally","host","kick","reason","setReason","banUser","setName","setType","createChannel","Radio","checked","onSelect","categories","accent","domain","token","screen","internalEmit","ErrorModal","SignedOutModal","ClipboardModal","TokenRevealModal","OnboardingModal","ExternalLinkModal","IntermediateActionsContext","actions2","determineLink","trustedLinks","getState","domains","screen2","writeText","Modals","Prompt","when","_","Router","basename","State","Theme","Settings","Locale","Intermediate","CheckAuth","Redirect","backgroundImage","ArrowBack","server_banner","channel_name","user_avatar","user_name","Login","RevoltApp","Context","Masks","Switch","Route","Invite","updateSW","immediate","onNeedRefresh","onOfflineReady","wb","registration","Workbox","scope","isUpdate","showSkipWaitingPrompt","reloadPage","waiting","messageSW","registerSW","info","App"],"mappings":"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"}