{"version":3,"file":"Login.83374ac0.js","sources":["../../src/components/common/LocaleSelector.tsx","../../node_modules/@hcaptcha/react-hcaptcha/dist/utils.js","../../node_modules/@hcaptcha/react-hcaptcha/dist/index.js","../../src/pages/login/forms/CaptchaBlock.tsx","../../src/pages/login/forms/Legal.tsx","../../src/pages/login/forms/MailProvider.tsx","../../src/pages/login/forms/Form.tsx","../../src/pages/login/forms/FormCreate.tsx","../../node_modules/detect-browser/es/index.js","../../src/pages/login/forms/FormLogin.tsx","../../src/pages/login/forms/FormReset.tsx","../../src/pages/login/forms/FormVerify.tsx","../../src/pages/login/Login.tsx"],"sourcesContent":["import { dispatch } from \"../../redux\";\nimport { connectState } from \"../../redux/connector\";\n\nimport { Language, Languages } from \"../../context/Locale\";\n\nimport ComboBox from \"../ui/ComboBox\";\n\ntype Props = {\n    locale: string;\n};\n\nexport function LocaleSelector(props: Props) {\n    return (\n        <ComboBox\n            value={props.locale}\n            onChange={(e) =>\n                dispatch({\n                    type: \"SET_LOCALE\",\n                    locale: e.currentTarget.value as Language,\n                })\n            }>\n            {Object.keys(Languages).map((x) => {\n                const l = Languages[x as keyof typeof Languages];\n                return (\n                    <option value={x} key={x}>\n                        {l.emoji} {l.display}\n                    </option>\n                );\n            })}\n        </ComboBox>\n    );\n}\n\nexport default connectState(LocaleSelector, (state) => {\n    return {\n        locale: state.locale,\n    };\n});\n","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction generateQuery(params) {\n  return Object.entries(params).filter(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    return value || value === false;\n  }).map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        key = _ref4[0],\n        value = _ref4[1];\n\n    return \"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(value));\n  }).join(\"&\");\n}\n\n;\nmodule.exports = {\n  generateQuery: generateQuery\n};","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = require('react');\n\nvar _require = require(\"./utils.js\"),\n    generateQuery = _require.generateQuery; // Create script to init hCaptcha\n\n\nvar onLoadListeners = [];\nvar apiScriptRequested = false; // Generate hCaptcha API Script\n\nvar mountCaptchaScript = function mountCaptchaScript() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  apiScriptRequested = true; // Create global onload callback\n\n  window.hcaptchaOnLoad = function () {\n    // Iterate over onload listeners, call each listener\n    onLoadListeners = onLoadListeners.filter(function (listener) {\n      listener();\n      return false;\n    });\n  };\n\n  var domain = params.apihost || \"https://hcaptcha.com\";\n  delete params.apihost;\n  var script = document.createElement(\"script\");\n  script.src = \"\".concat(domain, \"/1/api.js?render=explicit&onload=hcaptchaOnLoad\");\n  script.async = true;\n  var query = generateQuery(params);\n  script.src += query !== \"\" ? \"&\".concat(query) : \"\";\n  document.head.appendChild(script);\n};\n\nvar HCaptcha = /*#__PURE__*/function (_React$Component) {\n  _inherits(HCaptcha, _React$Component);\n\n  var _super = _createSuper(HCaptcha);\n\n  function HCaptcha(props) {\n    var _this;\n\n    _classCallCheck(this, HCaptcha);\n\n    _this = _super.call(this, props); // API Methods\n\n    _this.renderCaptcha = _this.renderCaptcha.bind(_assertThisInitialized(_this));\n    _this.resetCaptcha = _this.resetCaptcha.bind(_assertThisInitialized(_this));\n    _this.removeCaptcha = _this.removeCaptcha.bind(_assertThisInitialized(_this)); // Event Handlers\n\n    _this.handleOnLoad = _this.handleOnLoad.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.handleExpire = _this.handleExpire.bind(_assertThisInitialized(_this));\n    _this.handleError = _this.handleError.bind(_assertThisInitialized(_this));\n    var isApiReady = typeof hcaptcha !== 'undefined';\n    _this.ref = React.createRef();\n    _this.state = {\n      isApiReady: isApiReady,\n      isRemoved: false,\n      elementId: props.id,\n      captchaId: ''\n    };\n    return _this;\n  }\n\n  _createClass(HCaptcha, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      //Once captcha is mounted intialize hCaptcha - hCaptcha\n      var _this$props = this.props,\n          apihost = _this$props.apihost,\n          assethost = _this$props.assethost,\n          endpoint = _this$props.endpoint,\n          host = _this$props.host,\n          imghost = _this$props.imghost,\n          hl = _this$props.languageOverride,\n          reCaptchaCompat = _this$props.reCaptchaCompat,\n          reportapi = _this$props.reportapi,\n          sentry = _this$props.sentry,\n          custom = _this$props.custom;\n      var isApiReady = this.state.isApiReady;\n\n      if (!isApiReady) {\n        //Check if hCaptcha has already been loaded, if not create script tag and wait to render captcha\n        if (!apiScriptRequested) {\n          // Only create the script tag once, use a global variable to track\n          mountCaptchaScript({\n            apihost: apihost,\n            assethost: assethost,\n            endpoint: endpoint,\n            hl: hl,\n            host: host,\n            imghost: imghost,\n            recaptchacompat: reCaptchaCompat === false ? \"off\" : null,\n            reportapi: reportapi,\n            sentry: sentry,\n            custom: custom\n          });\n        } // Add onload callback to global onload listeners\n\n\n        onLoadListeners.push(this.handleOnLoad);\n      } else {\n        this.renderCaptcha();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$state = this.state,\n          isApiReady = _this$state.isApiReady,\n          isRemoved = _this$state.isRemoved,\n          captchaId = _this$state.captchaId;\n      if (!isApiReady || isRemoved) return; // Reset any stored variables / timers when unmounting\n\n      hcaptcha.reset(captchaId);\n      hcaptcha.remove(captchaId);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      // Prevent component re-rendering when these internal state variables are updated\n      if (this.state.isApiReady !== nextState.isApiReady || this.state.isRemoved !== nextState.isRemoved) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      // Prop Keys that could change\n      var keys = ['sitekey', 'size', 'theme', 'tabindex', 'languageOverride', 'endpoint']; // See if any props changed during component update\n\n      var match = keys.every(function (key) {\n        return prevProps[key] === _this2.props[key];\n      }); // If they have changed, remove current captcha and render a new one\n\n      if (!match) {\n        this.removeCaptcha(function () {\n          _this2.renderCaptcha();\n        });\n      }\n    }\n  }, {\n    key: \"renderCaptcha\",\n    value: function renderCaptcha() {\n      var isApiReady = this.state.isApiReady;\n      if (!isApiReady) return; //Render hCaptcha widget and provide necessary callbacks - hCaptcha\n\n      var captchaId = hcaptcha.render(this.ref.current, _objectSpread(_objectSpread({}, this.props), {}, {\n        \"error-callback\": this.handleError,\n        \"expired-callback\": this.handleExpire,\n        \"callback\": this.handleSubmit\n      }));\n      this.setState({\n        isRemoved: false,\n        captchaId: captchaId\n      });\n    }\n  }, {\n    key: \"resetCaptcha\",\n    value: function resetCaptcha() {\n      var _this$state2 = this.state,\n          isApiReady = _this$state2.isApiReady,\n          isRemoved = _this$state2.isRemoved,\n          captchaId = _this$state2.captchaId;\n      if (!isApiReady || isRemoved) return; // Reset captcha state, removes stored token and unticks checkbox\n\n      hcaptcha.reset(captchaId);\n    }\n  }, {\n    key: \"removeCaptcha\",\n    value: function removeCaptcha(callback) {\n      var _this$state3 = this.state,\n          isApiReady = _this$state3.isApiReady,\n          isRemoved = _this$state3.isRemoved,\n          captchaId = _this$state3.captchaId;\n      if (!isApiReady || isRemoved) return;\n      this.setState({\n        isRemoved: true\n      }, function () {\n        hcaptcha.remove(captchaId);\n        callback && callback();\n      });\n    }\n  }, {\n    key: \"handleOnLoad\",\n    value: function handleOnLoad() {\n      var _this3 = this;\n\n      this.setState({\n        isApiReady: true\n      }, function () {\n        // trigger onLoad if it exists\n        var onLoad = _this3.props.onLoad;\n        if (onLoad) onLoad(); // render captcha\n\n        _this3.renderCaptcha();\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var onVerify = this.props.onVerify;\n      var _this$state4 = this.state,\n          isRemoved = _this$state4.isRemoved,\n          captchaId = _this$state4.captchaId;\n      if (typeof hcaptcha === 'undefined' || isRemoved) return;\n      var token = hcaptcha.getResponse(captchaId); //Get response token from hCaptcha widget\n\n      var ekey = hcaptcha.getRespKey(captchaId); //Get current challenge session id from hCaptcha widget\n\n      onVerify(token, ekey); //Dispatch event to verify user response\n    }\n  }, {\n    key: \"handleExpire\",\n    value: function handleExpire() {\n      var onExpire = this.props.onExpire;\n      var _this$state5 = this.state,\n          isApiReady = _this$state5.isApiReady,\n          isRemoved = _this$state5.isRemoved,\n          captchaId = _this$state5.captchaId;\n      if (!isApiReady || isRemoved) return;\n      hcaptcha.reset(captchaId); // If hCaptcha runs into error, reset captcha - hCaptcha\n\n      if (onExpire) onExpire();\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(event) {\n      var onError = this.props.onError;\n      var _this$state6 = this.state,\n          isApiReady = _this$state6.isApiReady,\n          isRemoved = _this$state6.isRemoved,\n          captchaId = _this$state6.captchaId;\n      if (!isApiReady || isRemoved) return;\n      hcaptcha.reset(captchaId); // If hCaptcha runs into error, reset captcha - hCaptcha\n\n      if (onError) onError(event);\n    }\n  }, {\n    key: \"execute\",\n    value: function execute() {\n      var _this$state7 = this.state,\n          isApiReady = _this$state7.isApiReady,\n          isRemoved = _this$state7.isRemoved,\n          captchaId = _this$state7.captchaId;\n      if (!isApiReady || isRemoved) return;\n      hcaptcha.execute(captchaId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var elementId = this.state.elementId;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.ref,\n        id: elementId\n      });\n    }\n  }]);\n\n  return HCaptcha;\n}(React.Component);\n\nmodule.exports = HCaptcha;","import HCaptcha from \"@hcaptcha/react-hcaptcha\";\n\nimport styles from \"../Login.module.scss\";\nimport { Text } from \"preact-i18n\";\nimport { useContext, useEffect } from \"preact/hooks\";\n\nimport { AppContext } from \"../../../context/revoltjs/RevoltClient\";\n\nimport Preloader from \"../../../components/ui/Preloader\";\n\nexport interface CaptchaProps {\n    onSuccess: (token?: string) => void;\n    onCancel: () => void;\n}\n\nexport function CaptchaBlock(props: CaptchaProps) {\n    const client = useContext(AppContext);\n\n    useEffect(() => {\n        if (!client.configuration?.features.captcha.enabled) {\n            props.onSuccess();\n        }\n    }, [client.configuration?.features.captcha.enabled, props]);\n\n    if (!client.configuration?.features.captcha.enabled)\n        return <Preloader type=\"spinner\" />;\n\n    return (\n        <div>\n            <HCaptcha\n                sitekey={client.configuration.features.captcha.key}\n                onVerify={(token) => props.onSuccess(token)}\n            />\n            <div className={styles.footer}>\n                <a onClick={props.onCancel}>\n                    <Text id=\"login.cancel\" />\n                </a>\n            </div>\n        </div>\n    );\n}\n","import styles from \"../Login.module.scss\";\nimport { Text } from \"preact-i18n\";\n\nexport function Legal() {\n    return (\n        <span className={styles.footer}>\n            <a\n                href=\"https://revolt.chat/about\"\n                target=\"_blank\"\n                rel=\"noreferrer\">\n                <Text id=\"general.about\" />\n            </a>\n            &middot;\n            <a\n                href=\"https://revolt.chat/terms\"\n                target=\"_blank\"\n                rel=\"noreferrer\">\n                <Text id=\"general.tos\" />\n            </a>\n            &middot;\n            <a\n                href=\"https://revolt.chat/privacy\"\n                target=\"_blank\"\n                rel=\"noreferrer\">\n                <Text id=\"general.privacy\" />\n            </a>\n        </span>\n    );\n}\n","import styles from \"../Login.module.scss\";\nimport { Text } from \"preact-i18n\";\n\nimport Button from \"../../../components/ui/Button\";\n\ninterface Props {\n    email?: string;\n}\n\nfunction mapMailProvider(email?: string): [string, string] | undefined {\n    if (!email) return;\n\n    const match = /@(.+)/.exec(email);\n    if (match === null) return;\n\n    const domain = match[1];\n    switch (domain) {\n        case \"gmail.com\":\n        case \"googlemail.com\":\n            return [\"Gmail\", \"https://gmail.com\"];\n        case \"tuta.io\":\n            return [\"Tutanota\", \"https://mail.tutanota.com\"];\n        case \"outlook.com\":\n        case \"hotmail.com\":\n            return [\"Outlook\", \"https://outlook.live.com\"];\n        case \"yahoo.com\":\n            return [\"Yahoo\", \"https://mail.yahoo.com\"];\n        case \"wp.pl\":\n            return [\"WP Poczta\", \"https://poczta.wp.pl\"];\n        case \"protonmail.com\":\n        case \"protonmail.ch\":\n        case \"pm.me\":\n            return [\"ProtonMail\", \"https://mail.protonmail.com\"];\n        case \"seznam.cz\":\n        case \"email.cz\":\n        case \"post.cz\":\n            return [\"Seznam\", \"https://email.seznam.cz\"];\n        case \"zoho.com\":\n            return [\"Zoho Mail\", \"https://mail.zoho.com/zm/\"];\n        case \"aol.com\":\n        case \"aim.com\":\n            return [\"AOL Mail\", \"https://mail.aol.com/\"];\n        case \"icloud.com\":\n            return [\"iCloud Mail\", \"https://mail.aol.com/\"];\n        case \"mail.com\":\n        case \"email.com\":\n            return [\"mail.com\", \"https://www.mail.com/mail/\"];\n        case \"yandex.com\":\n            return [\"Yandex Mail\", \"https://mail.yandex.com/\"];\n        default:\n            return [domain, `https://${domain}`];\n    }\n}\n\nexport function MailProvider({ email }: Props) {\n    const provider = mapMailProvider(email);\n    if (!provider) return null;\n\n    return (\n        <div className={styles.mailProvider}>\n            <a href={provider[1]} target=\"_blank\" rel=\"noreferrer\">\n                <Button>\n                    <Text\n                        id=\"login.open_mail_provider\"\n                        fields={{ provider: provider[0] }}\n                    />\n                </Button>\n            </a>\n        </div>\n    );\n}\n","import { CheckCircle, Envelope } from \"@styled-icons/boxicons-regular\";\nimport { useForm } from \"react-hook-form\";\nimport { Link } from \"react-router-dom\";\n\nimport styles from \"../Login.module.scss\";\nimport { Text } from \"preact-i18n\";\nimport { useContext, useState } from \"preact/hooks\";\n\nimport { AppContext } from \"../../../context/revoltjs/RevoltClient\";\nimport { takeError } from \"../../../context/revoltjs/util\";\n\nimport wideSVG from \"../../../assets/wide.svg\";\nimport Button from \"../../../components/ui/Button\";\nimport Overline from \"../../../components/ui/Overline\";\nimport Preloader from \"../../../components/ui/Preloader\";\n\nimport FormField from \"../FormField\";\nimport { CaptchaBlock, CaptchaProps } from \"./CaptchaBlock\";\nimport { Legal } from \"./Legal\";\nimport { MailProvider } from \"./MailProvider\";\n\ninterface Props {\n    page: \"create\" | \"login\" | \"send_reset\" | \"reset\" | \"resend\";\n    callback: (fields: {\n        email: string;\n        password: string;\n        invite: string;\n        captcha?: string;\n    }) => Promise<void>;\n}\n\nfunction getInviteCode() {\n    if (typeof window === \"undefined\") return \"\";\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get(\"code\");\n    return code ?? \"\";\n}\n\ninterface FormInputs {\n    email: string;\n    password: string;\n    invite: string;\n}\n\nexport function Form({ page, callback }: Props) {\n    const client = useContext(AppContext);\n\n    const [loading, setLoading] = useState(false);\n    const [success, setSuccess] = useState<string | undefined>(undefined);\n    const [error, setGlobalError] = useState<string | undefined>(undefined);\n    const [captcha, setCaptcha] = useState<CaptchaProps | undefined>(undefined);\n\n    const { handleSubmit, register, errors, setError } = useForm<FormInputs>({\n        defaultValues: {\n            email: \"\",\n            password: \"\",\n            invite: getInviteCode(),\n        },\n    });\n\n    async function onSubmit(data: FormInputs) {\n        setGlobalError(undefined);\n        setLoading(true);\n\n        function onError(err: unknown) {\n            setLoading(false);\n\n            const error = takeError(err);\n            switch (error) {\n                case \"email_in_use\":\n                    return setError(\"email\", { type: \"\", message: error });\n                case \"unknown_user\":\n                    return setError(\"email\", { type: \"\", message: error });\n                case \"invalid_invite\":\n                    return setError(\"invite\", { type: \"\", message: error });\n            }\n\n            setGlobalError(error);\n        }\n\n        try {\n            if (\n                client.configuration?.features.captcha.enabled &&\n                page !== \"reset\"\n            ) {\n                setCaptcha({\n                    onSuccess: async (captcha) => {\n                        setCaptcha(undefined);\n                        try {\n                            await callback({ ...data, captcha });\n                            setSuccess(data.email);\n                        } catch (err) {\n                            onError(err);\n                        }\n                    },\n                    onCancel: () => {\n                        setCaptcha(undefined);\n                        setLoading(false);\n                    },\n                });\n            } else {\n                await callback(data);\n                setSuccess(data.email);\n            }\n        } catch (err) {\n            onError(err);\n        }\n    }\n\n    if (typeof success !== \"undefined\") {\n        return (\n            <div className={styles.success}>\n                {client.configuration?.features.email ? (\n                    <>\n                        <Envelope size={72} />\n                        <h2>\n                            <Text id=\"login.check_mail\" />\n                        </h2>\n                        <p className={styles.note}>\n                            <Text id=\"login.email_delay\" />\n                        </p>\n                        <MailProvider email={success} />\n                    </>\n                ) : (\n                    <>\n                        <CheckCircle size={72} />\n                        <h1>\n                            <Text id=\"login.successful_registration\" />\n                        </h1>\n                    </>\n                )}\n                <span className={styles.footer}>\n                    <Link to=\"/login\">\n                        <a>\n                            <Text id=\"login.remembered\" />\n                        </a>\n                    </Link>\n                </span>\n            </div>\n        );\n    }\n\n    if (captcha) return <CaptchaBlock {...captcha} />;\n    if (loading) return <Preloader type=\"spinner\" />;\n\n    return (\n        <div className={styles.form}>\n            <img src={wideSVG} />\n            {/* Preact / React typing incompatabilities */}\n            <form\n                onSubmit={\n                    handleSubmit(\n                        onSubmit,\n                    ) as unknown as JSX.GenericEventHandler<HTMLFormElement>\n                }>\n                {page !== \"reset\" && (\n                    <FormField\n                        type=\"email\"\n                        register={register}\n                        showOverline\n                        error={errors.email?.message}\n                    />\n                )}\n                {(page === \"login\" ||\n                    page === \"create\" ||\n                    page === \"reset\") && (\n                    <FormField\n                        type=\"password\"\n                        register={register}\n                        showOverline\n                        error={errors.password?.message}\n                    />\n                )}\n                {client.configuration?.features.invite_only &&\n                    page === \"create\" && (\n                        <FormField\n                            type=\"invite\"\n                            register={register}\n                            showOverline\n                            error={errors.invite?.message}\n                        />\n                    )}\n                {error && (\n                    <Overline type=\"error\" error={error}>\n                        <Text id={`login.error.${page}`} />\n                    </Overline>\n                )}\n                <Button>\n                    <Text\n                        id={\n                            page === \"create\"\n                                ? \"login.register\"\n                                : page === \"login\"\n                                ? \"login.title\"\n                                : page === \"reset\"\n                                ? \"login.set_password\"\n                                : page === \"resend\"\n                                ? \"login.resend\"\n                                : \"login.reset\"\n                        }\n                    />\n                </Button>\n            </form>\n            {page === \"create\" && (\n                <>\n                    <span className={styles.create}>\n                        <Text id=\"login.existing\" />\n                        <Link to=\"/login\">\n                            <Text id=\"login.title\" />\n                        </Link>\n                    </span>\n                    <span className={styles.create}>\n                        <Text id=\"login.missing_verification\" />\n                        <Link to=\"/login/resend\">\n                            <Text id=\"login.resend\" />\n                        </Link>\n                    </span>\n                </>\n            )}\n            {page === \"login\" && (\n                <>\n                    <span className={styles.create}>\n                        <Text id=\"login.new\" />\n                        <Link to=\"/login/create\">\n                            <Text id=\"login.create\" />\n                        </Link>\n                    </span>\n                    <span className={styles.create}>\n                        <Text id=\"login.forgot\" />\n                        <Link to=\"/login/reset\">\n                            <Text id=\"login.reset\" />\n                        </Link>\n                    </span>\n                </>\n            )}\n            {(page === \"reset\" ||\n                page === \"resend\" ||\n                page === \"send_reset\") && (\n                <>\n                    <span className={styles.create}>\n                        <Link to=\"/login\">\n                            <Text id=\"login.remembered\" />\n                        </Link>\n                    </span>\n                </>\n            )}\n            <Legal />\n        </div>\n    );\n}\n","import { useContext } from \"preact/hooks\";\n\nimport { AppContext } from \"../../../context/revoltjs/RevoltClient\";\n\nimport { Form } from \"./Form\";\n\nexport function FormCreate() {\n    const client = useContext(AppContext);\n    return <Form page=\"create\" callback={(data) => client.register(data)} />;\n}\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","import { detect } from \"detect-browser\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { useContext } from \"preact/hooks\";\n\nimport { OperationsContext } from \"../../../context/revoltjs/RevoltClient\";\n\nimport { Form } from \"./Form\";\n\nexport function FormLogin() {\n    const { login } = useContext(OperationsContext);\n    const history = useHistory();\n\n    return (\n        <Form\n            page=\"login\"\n            callback={async (data) => {\n                const browser = detect();\n                let friendly_name;\n                if (browser) {\n                    let { name } = browser;\n                    const { os } = browser;\n                    if (window.isNative) {\n                        friendly_name = `Revolt Desktop on ${os}`;\n                    } else {\n                        if (name === \"ios\") {\n                            name = \"safari\";\n                        } else if (name === \"fxios\") {\n                            name = \"firefox\";\n                        }\n                        friendly_name = `${name} on ${os}`;\n                    }\n                } else {\n                    friendly_name = \"Unknown Device\";\n                }\n\n                await login({ ...data, friendly_name });\n                history.push(\"/\");\n            }}\n        />\n    );\n}\n","import { useHistory, useParams } from \"react-router-dom\";\n\nimport { useContext } from \"preact/hooks\";\n\nimport { AppContext } from \"../../../context/revoltjs/RevoltClient\";\n\nimport { Form } from \"./Form\";\n\nexport function FormSendReset() {\n    const client = useContext(AppContext);\n\n    return (\n        <Form\n            page=\"send_reset\"\n            callback={async (data) => {\n                await client.req(\"POST\", \"/auth/account/reset_password\", data);\n            }}\n        />\n    );\n}\n\nexport function FormReset() {\n    const { token } = useParams<{ token: string }>();\n    const client = useContext(AppContext);\n    const history = useHistory();\n\n    return (\n        <Form\n            page=\"reset\"\n            callback={async (data) => {\n                await client.req(\"PATCH\", \"/auth/account/reset_password\", {\n                    token,\n                    ...data,\n                });\n                history.push(\"/login\");\n            }}\n        />\n    );\n}\n","import { useHistory, useParams } from \"react-router-dom\";\n\nimport { useContext, useEffect, useState } from \"preact/hooks\";\n\nimport { AppContext } from \"../../../context/revoltjs/RevoltClient\";\nimport { takeError } from \"../../../context/revoltjs/util\";\n\nimport Overline from \"../../../components/ui/Overline\";\nimport Preloader from \"../../../components/ui/Preloader\";\n\nimport { Form } from \"./Form\";\n\nexport function FormResend() {\n    const client = useContext(AppContext);\n\n    return (\n        <Form\n            page=\"resend\"\n            callback={async (data) => {\n                await client.req(\"POST\", \"/auth/account/reverify\", data);\n            }}\n        />\n    );\n}\n\nexport function FormVerify() {\n    const [error, setError] = useState<undefined | string>(undefined);\n    const { token } = useParams<{ token: string }>();\n    const client = useContext(AppContext);\n    const history = useHistory();\n\n    useEffect(() => {\n        client\n            .req(\n                \"POST\",\n                `/auth/account/verify/${token}` as \"/auth/account/verify/:code\",\n            )\n            .then(() => history.push(\"/login\"))\n            .catch((err) => setError(takeError(err)));\n        // eslint-disable-next-line\n    }, []);\n\n    return error ? (\n        <Overline type=\"error\" error={error} />\n    ) : (\n        <Preloader type=\"ring\" />\n    );\n}\n","import { Helmet } from \"react-helmet\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { LIBRARY_VERSION } from \"revolt.js\";\n\nimport styles from \"./Login.module.scss\";\nimport { Text } from \"preact-i18n\";\nimport { useContext } from \"preact/hooks\";\n\nimport { ThemeContext } from \"../../context/Theme\";\nimport { AppContext } from \"../../context/revoltjs/RevoltClient\";\n\nimport LocaleSelector from \"../../components/common/LocaleSelector\";\n\nimport { Titlebar } from \"../../components/native/Titlebar\";\nimport { APP_VERSION } from \"../../version\";\nimport background from \"./background.jpg\";\nimport { FormCreate } from \"./forms/FormCreate\";\nimport { FormLogin } from \"./forms/FormLogin\";\nimport { FormReset, FormSendReset } from \"./forms/FormReset\";\nimport { FormResend, FormVerify } from \"./forms/FormVerify\";\n\nexport default function Login() {\n    const theme = useContext(ThemeContext);\n    const client = useContext(AppContext);\n\n    return (\n        <>\n            {window.isNative && !window.native.getConfig().frame && (\n                <Titlebar />\n            )}\n            <div className={styles.login}>\n                <Helmet>\n                    <meta name=\"theme-color\" content={theme.background} />\n                </Helmet>\n                <div className={styles.content}>\n                    <div className={styles.attribution}>\n                        <span>\n                            API:{\" \"}\n                            <code>{client.configuration?.revolt ?? \"???\"}</code>{\" \"}\n                            &middot; revolt.js: <code>{LIBRARY_VERSION}</code>{\" \"}\n                            &middot; App: <code>{APP_VERSION}</code>\n                        </span>\n                        <span>\n                            <LocaleSelector />\n                        </span>\n                    </div>\n                    <div className={styles.modal}>\n                        <Switch>\n                            <Route path=\"/login/create\">\n                                <FormCreate />\n                            </Route>\n                            <Route path=\"/login/resend\">\n                                <FormResend />\n                            </Route>\n                            <Route path=\"/login/verify/:token\">\n                                <FormVerify />\n                            </Route>\n                            <Route path=\"/login/reset/:token\">\n                                <FormReset />\n                            </Route>\n                            <Route path=\"/login/reset\">\n                                <FormSendReset />\n                            </Route>\n                            <Route path=\"/\">\n                                <FormLogin />\n                            </Route>\n                        </Switch>\n                    </div>\n                    <div className={styles.attribution}>\n                        <span>\n                            <Text id=\"general.image_by\" /> &lrm;@lorenzoherrera\n                            &rlm;Â· unsplash.com\n                        </span>\n                    </div>\n                </div>\n                <div\n                    className={styles.bg}\n                    style={{ background: `url('${background}')` }}\n                />\n            </div>\n        </>\n    );\n}\n"],"names":["connectState","props","ComboBox","value","locale","onChange","e","dispatch","type","currentTarget","Object","keys","Languages","map","x","l2","key","emoji","display","state","arr","i","Array","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","push","length","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","obj","obj2","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","target","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","configurable","writable","descriptor","p","setPrototypeOf","o2","p2","__proto__","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","this","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","getPrototypeOf","generateQuery","params","entries","_ref","_ref2","_slicedToArray","_ref3","_ref4","concat","encodeURIComponent","join","onLoadListeners","apiScriptRequested","_React$Component","subClass","superClass","create","HCaptcha2","React","Component","Constructor","protoProps","staticProps","_super","_createSuper","_this","instance","renderCaptcha","bind","resetCaptcha","removeCaptcha","handleOnLoad","handleSubmit","handleExpire","handleError","isApiReady","hcaptcha","ref","createRef","isRemoved","elementId","id","captchaId","_this$props","apihost","assethost","endpoint","host","imghost","hl","languageOverride","reCaptchaCompat","reportapi","sentry","custom","hcaptchaOnLoad","listener","domain","script","document","createElement","src","async","query","head","appendChild","recaptchacompat","_this$state","reset","remove","nextProps","nextState","prevProps","_this2","every","render","current","_objectSpread","error-callback","expired-callback","callback","setState","_this$state2","_this$state3","_this3","onLoad","event","onVerify","_this$state4","getResponse","getRespKey","onExpire","_this$state5","onError","_this$state6","_this$state7","execute","client","useContext","AppContext","configuration","features","captcha","enabled","onSuccess","HCaptcha","sitekey","token","className","styles","onClick","onCancel","Text","Preloader","href","rel","email","provider","match","exec","mapMailProvider","Button","fields","window","code","URLSearchParams","location","search","get","page","loading","setLoading","useState","success2","setSuccess","error","setGlobalError","setCaptcha","register","errors","setError","useForm","defaultValues","password","invite","getInviteCode","Envelope","size","MailProvider","CheckCircle","Link","to","CaptchaBlock","__spreadValues","wideSVG","onSubmit","data","error2","takeError","message","captcha2","__spreadProps","FormField","showOverline","invite_only","Overline","Legal","Form","BrowserInfo","version","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","userAgent","parseUserAgent","navigator","product","ua","matchedRule","reduce","matched","_a","browser","regex","uaMatch","matchUserAgent","versionParts","split","s","il","r","k","a","j","jl","__spreadArrays","count","output","ii","createVersionParts","detectOS","searchBotMatch","login","OperationsContext","history","useHistory","detect","friendly_name","isNative","login2","req","useParams","then","catch","theme","ThemeContext","native","getConfig","frame","Titlebar","Helmet","content","background","revolt","LIBRARY_VERSION","APP_VERSION","LocaleSelector","Switch","Route","path","FormCreate","FormResend","FormVerify","FormReset","FormSendReset","FormLogin","style"],"mappings":"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"}